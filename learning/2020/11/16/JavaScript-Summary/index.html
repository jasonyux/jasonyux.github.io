<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/learning/images/logo-180x180.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/learning/images/logo-32x32.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/learning/images/logo-16x16.jpg">

<link rel="stylesheet" href="/learning/css/main.css">


<link rel="stylesheet" href="/learning/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jasonyux.github.io","root":"/learning/","scheme":"Pisces","version":"8.0.0-rc.3","exturl":false,"sidebar":{"position":"left","width":350,"display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="IMPORTANT:Some of the content here is a personal summary&#x2F;abbreviation of contents on the Mozilla JavaScript Guide and Runoob JavaScript Guide. Feel free to refer to that site if you think some of the">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript Summary">
<meta property="og:url" content="https://jasonyux.github.io/2020/11/16/JavaScript-Summary/index.html">
<meta property="og:site_name" content="From a Beginner to a Disaster">
<meta property="og:description" content="IMPORTANT:Some of the content here is a personal summary&#x2F;abbreviation of contents on the Mozilla JavaScript Guide and Runoob JavaScript Guide. Feel free to refer to that site if you think some of the">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="c:/Users/26238/AppData/Roaming/Typora/typora-user-images/image-20201116213455863.png">
<meta property="og:image" content="d:%5Cjasonyux-Blog%5CHexo%5Csource_posts%5CJavaScript-Summary%5CSnipaste_2021-01-01_18-21-06.png">
<meta property="article:published_time" content="2020-11-16T13:24:03.000Z">
<meta property="article:modified_time" content="2021-01-07T03:17:47.639Z">
<meta property="article:author" content="Xiao Yu">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:/Users/26238/AppData/Roaming/Typora/typora-user-images/image-20201116213455863.png">

<link rel="canonical" href="https://jasonyux.github.io/2020/11/16/JavaScript-Summary/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>JavaScript Summary | From a Beginner to a Disaster</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before, .use-motion .logo-line-after {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/learning/" class="brand" rel="start">
      <i class="logo-line-before"></i>
      <h1 class="site-title">From a Beginner to a Disaster</h1>
      <i class="logo-line-after"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Xiao.Y</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/learning/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/learning/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction-to-JavaScript"><span class="nav-number">1.</span> <span class="nav-text">Introduction to JavaScript</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Basics"><span class="nav-number">2.</span> <span class="nav-text">Basics</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Basic-Usages"><span class="nav-number">2.1.</span> <span class="nav-text">Basic Usages</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Outputting-Data"><span class="nav-number">2.1.1.</span> <span class="nav-text">Outputting Data</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Basic-Syntax"><span class="nav-number">2.2.</span> <span class="nav-text">Basic Syntax</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Variable-Scope"><span class="nav-number">2.2.1.</span> <span class="nav-text">Variable Scope</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Variable-Hoisting"><span class="nav-number">2.2.2.</span> <span class="nav-text">Variable Hoisting</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-Hoisting"><span class="nav-number">2.2.3.</span> <span class="nav-text">Function Hoisting</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-Global-Variables"><span class="nav-number">2.2.4.</span> <span class="nav-text">Using Global Variables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Data-Types"><span class="nav-number">2.2.5.</span> <span class="nav-text">Data Types</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Data-Type-Conversion"><span class="nav-number">2.2.5.1.</span> <span class="nav-text">Data Type Conversion</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#String-Concatenation-with-Operator"><span class="nav-number">2.2.6.</span> <span class="nav-text">String Concatenation with + Operator</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Objects"><span class="nav-number">2.3.</span> <span class="nav-text">Objects</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-new-Objects"><span class="nav-number">2.3.1.</span> <span class="nav-text">Creating new Objects</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Object-Initializers"><span class="nav-number">2.3.1.1.</span> <span class="nav-text">Object Initializers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Constructor-Functions"><span class="nav-number">2.3.1.2.</span> <span class="nav-text">Constructor Functions</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Object-create-Method"><span class="nav-number">2.3.1.3.</span> <span class="nav-text">Object.create Method</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Enumerate-the-Properties-of-an-Object"><span class="nav-number">2.3.2.</span> <span class="nav-text">Enumerate the Properties of an Object</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Prototype-Chain"><span class="nav-number">2.3.3.</span> <span class="nav-text">Prototype Chain</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Defining-Methods"><span class="nav-number">2.3.4.</span> <span class="nav-text">Defining Methods</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Getters-and-Setters"><span class="nav-number">2.3.4.1.</span> <span class="nav-text">Getters and Setters</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Deleting-Properties"><span class="nav-number">2.3.5.</span> <span class="nav-text">Deleting Properties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comparing-Objects"><span class="nav-number">2.3.6.</span> <span class="nav-text">Comparing Objects</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Control-Flows"><span class="nav-number">2.4.</span> <span class="nav-text">Control Flows</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Conditional-Statements"><span class="nav-number">2.4.1.</span> <span class="nav-text">Conditional Statements</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#If-Else"><span class="nav-number">2.4.1.1.</span> <span class="nav-text">If-Else</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Switch"><span class="nav-number">2.4.1.2.</span> <span class="nav-text">Switch</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Handling-Exceptions"><span class="nav-number">2.4.2.</span> <span class="nav-text">Handling Exceptions</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Catch-and-Finally"><span class="nav-number">2.4.2.1.</span> <span class="nav-text">Catch and Finally</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Utilizing-Error-Objects"><span class="nav-number">2.4.2.2.</span> <span class="nav-text">Utilizing Error Objects</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Loops-and-Iteration"><span class="nav-number">2.4.3.</span> <span class="nav-text">Loops and Iteration</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Enhanced-for-Loops"><span class="nav-number">2.4.3.1.</span> <span class="nav-text">Enhanced for Loops</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Functions"><span class="nav-number">2.5.</span> <span class="nav-text">Functions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Defining-Functions"><span class="nav-number">2.5.1.</span> <span class="nav-text">Defining Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-Expressions"><span class="nav-number">2.5.2.</span> <span class="nav-text">Function Expressions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-Hoisting-1"><span class="nav-number">2.5.3.</span> <span class="nav-text">Function Hoisting</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Recursion"><span class="nav-number">2.5.4.</span> <span class="nav-text">Recursion</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Closure"><span class="nav-number">2.5.5.</span> <span class="nav-text">Closure</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Variable-Hiding"><span class="nav-number">2.5.5.1.</span> <span class="nav-text">Variable Hiding</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arguments-Object"><span class="nav-number">2.5.6.</span> <span class="nav-text">Arguments Object</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arrow-Functions"><span class="nav-number">2.5.7.</span> <span class="nav-text">Arrow Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-Parameters"><span class="nav-number">2.5.8.</span> <span class="nav-text">Function Parameters</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Default-Parameters"><span class="nav-number">2.5.8.1.</span> <span class="nav-text">Default Parameters</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Rest-Parameters"><span class="nav-number">2.5.8.2.</span> <span class="nav-text">Rest Parameters</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Predefined-Functions"><span class="nav-number">2.5.9.</span> <span class="nav-text">Predefined Functions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Prototype-and-Inheritance"><span class="nav-number">2.6.</span> <span class="nav-text">Prototype and Inheritance</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Prototypes"><span class="nav-number">2.6.1.</span> <span class="nav-text">Prototypes</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Revisiting-create"><span class="nav-number">2.6.1.1.</span> <span class="nav-text">Revisiting create()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-the-constructor-property"><span class="nav-number">2.6.1.2.</span> <span class="nav-text">Using the constructor property</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Modifying-Prototypes"><span class="nav-number">2.6.1.3.</span> <span class="nav-text">Modifying Prototypes</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inheritance-with-Prototype"><span class="nav-number">2.6.2.</span> <span class="nav-text">Inheritance with Prototype</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inheritance-with-Class"><span class="nav-number">2.6.3.</span> <span class="nav-text">Inheritance with Class</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Getters-and-Setters-1"><span class="nav-number">2.6.3.1.</span> <span class="nav-text">Getters and Setters</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dynamic-Client-Side-Programming"><span class="nav-number">3.</span> <span class="nav-text">Dynamic Client Side Programming</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Working-with-JSON"><span class="nav-number">3.1.</span> <span class="nav-text">Working with JSON</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Array-as-JSON"><span class="nav-number">3.1.1.</span> <span class="nav-text">Array as JSON</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSON-Structure-Object"><span class="nav-number">3.1.2.</span> <span class="nav-text">JSON Structure&#x2F;Object</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-XMLHttpRequest"><span class="nav-number">3.1.3.</span> <span class="nav-text">Using XMLHttpRequest</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Converting-between-Objects-and-Text"><span class="nav-number">3.1.3.1.</span> <span class="nav-text">Converting between Objects and Text</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Asynchronous-JavaScript"><span class="nav-number">3.2.</span> <span class="nav-text">Asynchronous JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Async-Callbacks"><span class="nav-number">3.2.1.</span> <span class="nav-text">Async Callbacks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promises"><span class="nav-number">3.2.2.</span> <span class="nav-text">Promises</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Promise-all"><span class="nav-number">3.2.2.1.</span> <span class="nav-text">Promise.all</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#finally-for-Promises"><span class="nav-number">3.2.2.2.</span> <span class="nav-text">finally for Promises</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Creating-Own-Promises"><span class="nav-number">3.2.2.3.</span> <span class="nav-text">Creating Own Promises</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction-to-Events"><span class="nav-number">3.3.</span> <span class="nav-text">Introduction to Events</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Event-Handler-Properties"><span class="nav-number">3.3.1.</span> <span class="nav-text">Event Handler Properties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-addEventListener"><span class="nav-number">3.3.2.</span> <span class="nav-text">Using addEventListener()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Event-Object"><span class="nav-number">3.3.3.</span> <span class="nav-text">The Event Object</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Preventing-Default-Behavior"><span class="nav-number">3.3.4.</span> <span class="nav-text">Preventing Default Behavior</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Event-Capturing-and-Bubbling"><span class="nav-number">3.3.5.</span> <span class="nav-text">Event Capturing and Bubbling</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Event-Delegation"><span class="nav-number">3.3.6.</span> <span class="nav-text">Event Delegation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction-to-APIs"><span class="nav-number">3.4.</span> <span class="nav-text">Introduction to APIs</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#APIs-in-Client-Side-JavaScript"><span class="nav-number">3.4.1.</span> <span class="nav-text">APIs in Client-Side JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Common-APIs-to-Know"><span class="nav-number">3.4.1.1.</span> <span class="nav-text">Common APIs to Know</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Entry-Points-of-Common-APIs"><span class="nav-number">3.4.1.2.</span> <span class="nav-text">Entry Points of Common APIs</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Manipulating-documents"><span class="nav-number">3.4.2.</span> <span class="nav-text">Manipulating documents</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fetching-data-from-the-server"><span class="nav-number">3.4.3.</span> <span class="nav-text">Fetching data from the server</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Xiao Yu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/learning/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>
  <div class="sidebar-button motion-element"><i class="fa fa-comment"></i>
    Chat
  </a>
  </div>



      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


      <div class="main-inner">
        

        <div class="content post posts-expand">
          

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonyux.github.io/2020/11/16/JavaScript-Summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/learning/images/avatar.gif">
      <meta itemprop="name" content="Xiao Yu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="From a Beginner to a Disaster">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaScript Summary
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-16 08:24:03" itemprop="dateCreated datePublished" datetime="2020-11-16T08:24:03-05:00">2020-11-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-01-06 22:17:47" itemprop="dateModified" datetime="2021-01-06T22:17:47-05:00">2021-01-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <hr>
<p><strong>IMPORTANT</strong>:<br>Some of the content here is a personal summary/abbreviation of contents on the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide" target="_blank" rel="noopener">Mozilla JavaScript Guide</a> and <a href="https://www.runoob.com/js/js-howto.html" target="_blank" rel="noopener">Runoob JavaScript Guide</a>. Feel free to refer to that site if you think some of the sections written here are not clear.</p>
<hr>
<h1 id="Introduction-to-JavaScript"><a href="#Introduction-to-JavaScript" class="headerlink" title="Introduction to JavaScript"></a>Introduction to JavaScript</h1><p>A brief history of JavaScript is omitted, but some key points are listed here.</p>
<ul>
<li><p><strong>ECMAScript</strong></p>
<p>ECMAScript (ES) is a standard defined for scripting languages, and JavaScript is an implementation of it.</p>
<ul>
<li>so this means that JavaScript is like Python, it does not need a compiler</li>
</ul>
</li>
<li><p><strong>Browser Engines</strong></p>
<p>Here I refer to engines for executing JavaScript. Different browsers execute JavaScript differently, if they have a different engine. For example:</p>
<ul>
<li>Chrome uses v8 (currently the fastest)</li>
<li>Firefox uses SpiderMonkey</li>
<li>…</li>
</ul>
</li>
<li><p><strong>Components of JavaScript</strong></p>
<p>On a high level, JavaScript implements the following three components:</p>
<img src="C:\Users\26238\AppData\Roaming\Typora\typora-user-images\image-20201116213455863.png" alt="image-20201116213455863" style="zoom: 80%;" />

<p>where:</p>
<ul>
<li><strong>ECMAScript</strong> - the standard of scripting languages</li>
<li><strong>DOM</strong> - controls webpage activities</li>
<li><strong>BOM</strong> - controls browser activities</li>
</ul>
</li>
<li><p><strong>Object Oriented Programming</strong></p>
<p>Similar to programs such as Java, it is a OOP.</p>
</li>
</ul>
<h1 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h1><p>This guide assumes some prior knowledge of HTML and CSS, as well as any another programming language, and it will only lists <strong>summaries</strong>/<strong>key points</strong> of what <strong>I have learnt</strong>.</p>
<h2 id="Basic-Usages"><a href="#Basic-Usages" class="headerlink" title="Basic Usages"></a>Basic Usages</h2><p>For controlling website related events/content, JavaScript <strong>manipulates the <code>document</code> object:</strong></p>
<a id="more"></a>

<ul>
<li><p>JavaScript is like pieces of code that gets <strong>injected</strong> into your html during the “compile” time. Therefore, upon testing, the precedence is as from <strong>top to bottom of your code</strong>:</p>
<ul>
<li><p>for example:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  JavaScript goes into the script tag --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">"This comes first"</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.write(<span class="string">"This comes second"</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>JavaScript can be inserted in any position (<code>head</code>, <code>body</code>) of the html file, using the <code>&lt;script&gt;</code> tag</p>
<ul>
<li><p>upon testing, precedence of running related JavaScript is:</p>
<ul>
<li><p>first it searches <strong>from current line towards the bottom</strong></p>
</li>
<li><p>then it searches <strong>in the <code>&lt;body&gt;</code> tag</strong></p>
</li>
<li><p>finally, it searches <strong>in the <code>&lt;head&gt;</code> tag</strong></p>
<ul>
<li><p>for example:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">myfunction</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.getElementById(<span class="string">"1"</span>).innerHTML=<span class="string">"Hi,1"</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="function"><span class="keyword">function</span> <span class="title">myfunction</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">document</span>.getElementById(<span class="string">"0"</span>).innerHTML=<span class="string">"Hi,0"</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"0"</span>&gt;</span></span><br><span class="line">  test</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">  test</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"myfunction()"</span>&gt;</span>点击这里<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><p><strong>only</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">myfunction</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">"0"</span>).innerHTML=<span class="string">"Hi,0"</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>will be executed</strong></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Using <code>document.write()</code> <strong>during the HTML stream/“compilation”</strong>, then it is equivalent of <strong>appending</strong> to the current html content. However, using <code>document.write()</code> after your page is loaded, it will <strong>overwrite</strong> the entire webpage.</p>
<ul>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myfunction</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">"This will overwrite the entire page"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"&lt;h1&gt;This is a paragraph&lt;/h1&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"&lt;p&gt;This is another paragraph&lt;/p&gt;"</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;p &gt;</span></span><br><span class="line"><span class="regexp">You only use &lt;strong&gt;document.write during the HTML output stream&lt;/</span>strong&gt;。</span><br><span class="line">&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">&lt;button type="button" onclick="myfunction()"&gt;Click here&lt;/</span>button&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h3 id="Outputting-Data"><a href="#Outputting-Data" class="headerlink" title="Outputting Data"></a>Outputting Data</h3><ol>
<li><code>window.alert()</code>        弹出警告框。</li>
<li><code>document.write()</code>     方法将内容写到 HTML 文档中。</li>
<li><code>innerHTML</code>     写入到 HTML 元素。</li>
<li><code>console.log()</code>     写入到浏览器的控制台。</li>
</ol>
<h2 id="Basic-Syntax"><a href="#Basic-Syntax" class="headerlink" title="Basic Syntax"></a>Basic Syntax</h2><p><strong>Variable Identifiers</strong> are <strong>case-sensitive</strong> and uses the <strong>Unicode</strong> character set. </p>
<ul>
<li><p>For example, the word Früh is legal as variable name.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Früh = <span class="string">"foobar"</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>However, similar to Java and C, you can <strong>only</strong> use characters, numbers and symbols <code>_$</code>.</p>
</li>
</ul>
<p><strong>Statements</strong> are separated by semicolons (<code>;</code>).</p>
<ul>
<li>For example, the variable declaration above.</li>
<li>A semicolon is <strong>not necessary</strong> after a statement if it is written on its <strong>own</strong> line. However, it is considered the best practice to use a <code>;</code> for every statement.</li>
</ul>
<p><strong>Comments</strong> is pretty much the same in Java/C++ and other languages.</p>
<ul>
<li><p>An example is the easiest:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a one line comment</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/* this is a longer, </span></span><br><span class="line"><span class="comment"> * multi-line comment</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/* You can't, however, /* nest comments */</span> <span class="built_in">SyntaxError</span> *<span class="regexp">/</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>Variable Declarations</strong> - JavaScript has three kinds of variable declarations.</p>
<ul>
<li><p><code>var</code></p>
<p>Declares a variable, optionally initializing it to a value.</p>
<ul>
<li>For example, <code>var x = 42;</code>. This syntax can be used to declare both <strong>local</strong> and <strong>global</strong> variables, depending on the <strong><em>execution context</em></strong>.</li>
</ul>
</li>
</ul>
<blockquote>
<p><code>var</code> declarations, wherever they occur, are <strong>created (but not assigned) before any code</strong> is executed. This is called hoisting</p>
</blockquote>
<ul>
<li><p><code>let</code></p>
<p>Declares a <strong>block</strong>-scoped, <strong>local</strong> variable, optionally initializing it to a value.</p>
<ul>
<li>For example, <code>let y = 13</code>. This syntax can be used to declare a <strong>block-scope local</strong> variable.</li>
</ul>
</li>
<li><p><code>const</code></p>
<p>Declares a <strong>block</strong>-scoped, <strong>read-only</strong> named constant.</p>
<ul>
<li><p>however, <code>const</code> only <strong>protects the assignment</strong> of the variable. Fields of the <code>const</code> will not be protected (similar to <code>const</code> in <code>C</code>):</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MY_OBJECT = &#123;<span class="string">'key'</span>: <span class="string">'value'</span>&#125;;</span><br><span class="line">MY_OBJECT.key = <span class="string">'otherValue'</span>; <span class="comment">// is allowed</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Undeclared Global Variable</p>
<ul>
<li>For example, <code>x = 42</code>. This form creates an <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var#Description" target="_blank" rel="noopener">undeclared global</a></strong> variable. It also generates a strict JavaScript warning</li>
</ul>
</li>
</ul>
<p><strong>Undefined Variables</strong></p>
<ul>
<li><p>A variable <strong>declared</strong> using the <code>var</code> or <code>let</code> statement with <strong>no assigned value</strong> specified has the <strong>value of <code>undefined</code></strong>.</p>
<ul>
<li>An attempt to <strong>access an undeclared variable</strong> results in a <strong><code>ReferenceError</code></strong> exception</li>
</ul>
</li>
<li><p><code>undefined</code> can be used to determine whether a variable has a value</p>
<ul>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> input;</span><br><span class="line"><span class="keyword">if</span> (input === <span class="literal">undefined</span>) &#123;</span><br><span class="line">  doThis();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  doThat();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>undefined</code> behaves the same as <strong><code>false</code></strong> when used in a <strong>Boolean context</strong></p>
<ul>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = [];</span><br><span class="line"><span class="keyword">if</span> (!myArray[<span class="number">0</span>]) myFunction();</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><code>myFunction</code> <strong>executes</strong> if <code>myArray</code> element is <code>undefined</code></li>
</ul>
</li>
</ul>
</li>
<li><p><code>undefined</code> value converts to <strong><code>NaN</code> when used in numeric context</strong>.</p>
<ul>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">a + <span class="number">2</span>;  <span class="comment">// Evaluates to NaN</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<p><strong><code>null</code> Variable</strong></p>
<ul>
<li><p><code>null</code> behaves as <strong><code>0</code> in numeric contexts</strong> and as <strong><code>false</code> in Boolean contexts</strong>.</p>
<ul>
<li><p>this means it’s “safer” than <code>undefined</code></p>
</li>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(n * <span class="number">32</span>); <span class="comment">// Will log 0 to the console</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h3 id="Variable-Scope"><a href="#Variable-Scope" class="headerlink" title="Variable Scope"></a>Variable Scope</h3><ul>
<li><p><strong><em>global</em> variable</strong> is available to any other code in the current document</p>
<ul>
<li>variable declared <strong>outside of any function</strong></li>
</ul>
</li>
<li><p><strong><em>block-scope variable</em></strong> is available to any other code in the current <strong><em>block</em></strong></p>
<ul>
<li><p>a variable declared with <strong><code>var</code></strong> is available within the <strong><em>function/global scope</em></strong></p>
<ul>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">5</span>; <span class="comment">// available to the entire outer function.</span></span><br><span class="line">    		 <span class="comment">// In this case, it will be global context</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(x);  <span class="comment">// x is 5</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>a variable declared with <strong><code>let</code></strong> is available within the <strong>current</strong> code <strong>block</strong></p>
<ul>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> y = <span class="number">5</span>; <span class="comment">// only available within this if block</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(y);  <span class="comment">// ReferenceError: y is not defined</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>In short</strong>:</p>
<ul>
<li>variable declaration <code>var</code> follows the rule specified above</li>
<li>variable declaration with <code>let</code> or <code>const</code> have a more limited scope and behaves in the same way<ul>
<li>except that <code>const</code> is <strong>ready only</strong> and <strong>requires a value at initialization time</strong></li>
<li><strong>cannot</strong> declare a <code>const</code> with the same name as a function or variable in the <strong><em>same scope</em></strong>.</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="Variable-Hoisting"><a href="#Variable-Hoisting" class="headerlink" title="Variable Hoisting"></a>Variable Hoisting</h3><p> <strong>Hoisting</strong> refer to the <strong>ability of referring to a variable declared later</strong>, <strong><em>without</em></strong> getting an exception.</p>
<ul>
<li>Variables in JavaScript are, in a sense, “hoisted” (or “lifted”) to the top of the function or statement. </li>
</ul>
<p>However, variables that are <strong>hoisted return a value of <code>undefined</code>.</strong></p>
<ul>
<li><p>In ECMAScript 2015, <code>let</code> and <code>const</code> <strong>are hoisted as well but <em>not</em> initialized</strong>.</p>
<ul>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">// ReferenceError</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<p><strong><em>Variable hoisting example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myvar = <span class="string">'my value'</span>;</span><br><span class="line"> </span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(myvar); <span class="comment">// undefined</span></span><br><span class="line">  <span class="keyword">var</span> myvar = <span class="string">'local value'</span>;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>can be interpreted as:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myvar = <span class="string">'my value'</span>;</span><br><span class="line"> </span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> myvar;</span><br><span class="line">  <span class="built_in">console</span>.log(myvar); <span class="comment">// undefined</span></span><br><span class="line">  myvar = <span class="string">'local value'</span>;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h3 id="Function-Hoisting"><a href="#Function-Hoisting" class="headerlink" title="Function Hoisting"></a>Function Hoisting</h3><p>For <strong>functions</strong>, the idea is the same:</p>
<ul>
<li>only <strong>declaration/initialization are hoisted</strong>, but the actual value/function <em>expressions</em> are <strong><em>not</em></strong>.</li>
</ul>
<p><strong><em>For example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">baz(); <span class="comment">// TypeError: baz is not a function</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> baz = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'bar2'</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>would be the same as</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> baz;</span><br><span class="line">baz(); <span class="comment">// TypeError: baz is not a function</span></span><br><span class="line"></span><br><span class="line">baz = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'bar2'</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Using-Global-Variables"><a href="#Using-Global-Variables" class="headerlink" title="Using Global Variables"></a>Using Global Variables</h3><p>Global variables are in fact properties of the <strong><em>global object</em></strong>.</p>
<ul>
<li>In web pages, the global object is <code>window</code> (and <strong>inside</strong> that browser <code>window</code>, you have your HTML page)</li>
</ul>
<blockquote>
<p><strong>This means:</strong></p>
<ul>
<li>The <code>window</code> object is the object <strong>representing the entire <em>browser window</em></strong></li>
<li>all JavaScript global variables are <strong><code>fields</code> of the <code>window</code> object</strong><ul>
<li>in fact, this <strong>includes the HTML DOM <code>document</code> object</strong></li>
<li><code>window.document.getElementById(&quot;header&quot;);</code> is the <strong>same</strong> as <code>document.getElementById(&quot;header&quot;);</code></li>
</ul>
</li>
<li>all JavaScript global functions are <strong><code>fields</code> of the <code>window</code> object</strong></li>
</ul>
</blockquote>
<p><strong>Consequently</strong>, you can access global variables <strong>across scripts</strong> loaded inside the same browser window</p>
<h3 id="Data-Types"><a href="#Data-Types" class="headerlink" title="Data Types"></a>Data Types</h3><p>There are seven <strong>primitive types</strong>, and <strong><code>Object</code></strong></p>
<ol>
<li><code>boolean</code>. <code>true</code> and <code>false</code>. (case sensitive)</li>
<li><code>null</code>. A special keyword denoting a null value (case sensitive).</li>
<li><code>undefined</code>. A top-level <strong>property</strong> whose value is not defined.</li>
<li><code>Number</code>. An integer <strong>or</strong> floating point number. For example: <code>42</code> or <code>3.14159</code>.</li>
<li><code>[BigInt</code>. An integer with <strong>arbitrary precision</strong>. For example: <code>9007199254740992n</code>.</li>
<li><code>String</code>. For example: “Howdy”</li>
<li><code>Symbol</code> (new in ECMAScript 2015). A data type whose instances are unique and immutable.</li>
</ol>
<h4 id="Data-Type-Conversion"><a href="#Data-Type-Conversion" class="headerlink" title="Data Type Conversion"></a>Data Type Conversion</h4><p>JavaScript is a <em>dynamically typed</em> language. This means:</p>
<ul>
<li>you <strong>don’t</strong> have to specify the <strong>data type of a variable</strong> when you declare it.  </li>
<li>data types are <strong>automatically converted as-needed</strong> during script execution.</li>
</ul>
<p><strong><em>For example:</em></strong></p>
<ul>
<li><p>You can do the follows:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> answer = <span class="number">42</span>;</span><br><span class="line"><span class="comment">// some other code</span></span><br><span class="line">answer = <span class="string">'Thanks for all the fish...'</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="String-Concatenation-with-Operator"><a href="#String-Concatenation-with-Operator" class="headerlink" title="String Concatenation with + Operator"></a>String Concatenation with <code>+</code> Operator</h3><p>This is similar in other languages, except that:</p>
<ul>
<li>numbers are <strong>only</strong> converted to strings with the <code>+</code> operator. In the <strong>other cases</strong>, <strong>strings</strong> will be converted to <strong>number</strong></li>
</ul>
<p><strong><em>For example:</em></strong></p>
<ul>
<li><pre><code class="javascript"><span class="string">'37'</span> + <span class="number">7</span> <span class="comment">// "377", using the + operator</span>
<span class="string">'37'</span> - <span class="number">7</span> <span class="comment">// 30, not using + operator</span>
&lt;!--￼<span class="number">19</span>--&gt;

  An integer between <span class="string">`2`</span> and <span class="string">`36`</span> that represents the *radix* (the **base** <span class="keyword">in</span> mathematical numeral systems) <span class="keyword">of</span> the <span class="string">`string`</span>. Be careful—<span class="keyword">this</span> does ***not*** <span class="keyword">default</span> to <span class="string">`10`</span>! 

- **returns** the parsed number or <span class="string">`NaN`</span> when
  - the <span class="string">`radix`</span> is smaller than <span class="string">`2`</span> or bigger than <span class="string">`36`</span>, or
  - the **first non-whitespace character** cannot be converted to a number.</code></pre>
</li>
<li><p><code>parseFloat()</code></p>
<ul>
<li><pre><code class="javascript"><span class="built_in">parseFloat</span>(string)
&lt;!--￼<span class="number">20</span>--&gt;</code></pre>
</li>
</ul>
</li>
<li><p><code>Floating-point</code></p>
<ul>
<li><p>A floating-point literal can have the following parts:</p>
<ul>
<li><p><code>[(+|-)][digits].[digits][(E|e)[(+|-)]digits]</code></p>
</li>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.1415926</span></span><br><span class="line"><span class="number">-.123456789</span></span><br><span class="line"><span class="number">-3.1E+12</span></span><br><span class="line"><span class="number">.1e-23</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code>Boolean</code></p>
<ul>
<li>Boolean type has two literal values: <code>true</code> and <code>false</code>.</li>
</ul>
</li>
<li><p><code>String</code></p>
<ul>
<li><p><strong>both</strong> single quote and double quote works</p>
</li>
<li><p>for example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"John Doe"</span></span><br><span class="line"></span><br><span class="line"><span class="string">'John Doe'</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>Template</code></p>
<ul>
<li><p>it can be used as interpolation like <code>%s</code> inside a string for <code>C</code></p>
<ul>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'Bob'</span>, time = <span class="string">'today'</span>;</span><br><span class="line"><span class="keyword">var</span> interpolated = <span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, how are you <span class="subst">$&#123;time&#125;</span>?`</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>or, it can be used for forming a multiline strings</p>
<ul>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> poem = </span><br><span class="line"><span class="string">`Roses are red, </span></span><br><span class="line"><span class="string">Violets are blue. </span></span><br><span class="line"><span class="string">Sugar is sweet, </span></span><br><span class="line"><span class="string">and so is foo.`</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code>Array</code></p>
<ul>
<li><p><strong>element</strong> inside an array can be of <strong>any type</strong>, and different elements of the <strong>same array can</strong> be of <strong>different</strong> <strong>types</strong></p>
</li>
<li><p>empty value in an array is automatically made <code>undefined</code> (trailing comma will be ignored)</p>
</li>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">40</span>, <span class="string">"Hi"</span>, <span class="number">1</span>, <span class="number">5</span>, , <span class="number">25</span>, <span class="literal">true</span>]  <span class="comment">// undefined between 5 and 25</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>RegEx</code></p>
<ul>
<li><p>A regex literal is a pattern enclosed <strong>between slashes</strong>.</p>
</li>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> re = <span class="regexp">/ab+c/</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>Object</code></p>
<ul>
<li><p>a <strong>list</strong> (map) of zero or more pairs of <strong>property names and associated values</strong> of an object, <strong>enclosed in curly braces (<code>{}</code>).</strong></p>
</li>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">firstName</span>:<span class="string">"John"</span>, <span class="attr">lastName</span>:<span class="string">"Doe"</span>, <span class="attr">age</span>:<span class="number">50</span>, <span class="attr">eyeColor</span>:<span class="string">"blue"</span>&#125;</span><br></pre></td></tr></table></figure>

<p>or:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">person</span>(<span class="params">firstname,lastname,age,eyecolor</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.firstname=firstname;</span><br><span class="line">    <span class="keyword">this</span>.lastname=lastname;</span><br><span class="line">    <span class="keyword">this</span>.age=age;</span><br><span class="line">    <span class="keyword">this</span>.eyecolor=eyecolor;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.changeName=changeName;</span><br><span class="line">    <span class="comment">// method of type person</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">changeName</span>(<span class="params">name</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lastname=name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myMother=<span class="keyword">new</span> person(<span class="string">"Sally"</span>,<span class="string">"Rally"</span>,<span class="number">48</span>,<span class="string">"green"</span>);</span><br><span class="line">myMother.changeName(<span class="string">"Doe"</span>);</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<h2 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h2><p>The idea is similar with most OOP, yet:</p>
<ul>
<li><p>Properties of JavaScript objects can also be <strong>accessed or set using a bracket notation</strong></p>
<ul>
<li>note that all keys in the square bracket notation are <strong><em>converted to string</em></strong> unless they’re Symbols</li>
</ul>
</li>
<li><p>you can enumerate the properties of an Object</p>
</li>
</ul>
<p><strong><em>For Example</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// four variables are created and assigned in a single go,</span></span><br><span class="line"><span class="comment">// separated by commas</span></span><br><span class="line"><span class="keyword">var</span> myObj = <span class="keyword">new</span> <span class="built_in">Object</span>(),</span><br><span class="line">    str = <span class="string">'myString'</span>,</span><br><span class="line">    rand = <span class="built_in">Math</span>.random(),</span><br><span class="line">    obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line">myObj.type              = <span class="string">'Dot syntax'</span>;</span><br><span class="line">myObj[<span class="string">'date created'</span>]   = <span class="string">'String with space'</span>;</span><br><span class="line">myObj[str]              = <span class="string">'String value'</span>;</span><br><span class="line">myObj[rand]             = <span class="string">'Random Number'</span>;</span><br><span class="line">myObj[obj]              = <span class="string">'Object'</span>;</span><br><span class="line">myObj[<span class="string">''</span>]               = <span class="string">'Even an empty string'</span>;</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>in the above code, when the <strong>key <code>obj</code> of type <code>Object</code></strong> is added to the <code>myObj</code>, JavaScript will <strong>call the <code>obj.toString()</code> method, and use this result string as the new key</strong>.</li>
</ul>
<hr>
<p><strong><em>For Example: Iterating Over All Properties</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyObj</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">"Jason"</span>;</span><br><span class="line">    <span class="keyword">this</span>.id = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myObj = <span class="keyword">new</span> MyObj();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = <span class="string">``</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> myObj)&#123;</span><br><span class="line">    result += <span class="string">`myObj.<span class="subst">$&#123;i&#125;</span> = <span class="subst">$&#123;myObj[i]&#125;</span> \n`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure>

<p>and the output is:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">myObj.name = Jason </span><br><span class="line">myObj.id = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="Creating-new-Objects"><a href="#Creating-new-Objects" class="headerlink" title="Creating new Objects"></a>Creating new Objects</h3><p>In summary, you can create a new object using:</p>
<ul>
<li>object initializers</li>
<li>constructor functions</li>
<li><code>Object.create</code> method</li>
</ul>
<h4 id="Object-Initializers"><a href="#Object-Initializers" class="headerlink" title="Object Initializers"></a>Object Initializers</h4><p>This would basically be the same as <code>C</code> and <code>C++</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">property_1</span>:   value_1,   <span class="comment">// property_# may be an identifier...</span></span><br><span class="line">            <span class="number">2</span>:            value_2,   <span class="comment">// or a number...</span></span><br><span class="line">            <span class="comment">// ...,</span></span><br><span class="line">            <span class="string">'property n'</span>: value_n &#125;; <span class="comment">// or a string</span></span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><code>obj</code> is the name of the new object, </li>
<li>each <code>property_i</code> is an identifier (either a name, a number, or a string literal)</li>
<li>each <code>value_i</code> is an expression whose value is assigned to the <code>property_i</code>.</li>
</ul>
<blockquote>
<p><strong>Note</strong></p>
<ul>
<li><strong>Identical object initializers create distinct objects</strong> that will not  compare to each other as equal. In fact, those objects are created as if <strong>a call to <code>new Object()</code> were made</strong>; that is, objects made from object literal expressions are <strong>instances of <code>Object</code></strong>.</li>
</ul>
</blockquote>
<h4 id="Constructor-Functions"><a href="#Constructor-Functions" class="headerlink" title="Constructor Functions"></a>Constructor Functions</h4><p>This would be the same as most OOP:</p>
<ol>
<li>Define the object type by writing a <strong>constructor</strong> <strong><em>function</em></strong>. <ul>
<li>There is a strong convention, with good reason, to use a capital initial letter.</li>
</ul>
</li>
<li><strong>Create</strong> an instance of the object with <strong><code>new</code></strong>.</li>
</ol>
<p><strong><em>For Example</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">make, model, year</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.make = make;</span><br><span class="line">  <span class="keyword">this</span>.model = model;</span><br><span class="line">  <span class="keyword">this</span>.year = year;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> mycar = <span class="keyword">new</span> Car(<span class="string">'Eagle'</span>, <span class="string">'Talon TSi'</span>, <span class="number">1993</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Note</strong></p>
<ul>
<li>since the assignment does not check types, you can in fact pass in anything you want.<ul>
<li>for example, <code>make</code> could refer to an Object</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="Object-create-Method"><a href="#Object-create-Method" class="headerlink" title="Object.create Method"></a><code>Object.create</code> Method</h4><p>This is useful in the sense that:</p>
<ul>
<li>it allows you to <strong>choose the prototype object</strong> for the object you want to create, without having to define a constructor function.<ul>
<li>The object being inherited from is known as the prototype, and the inherited properties can be found in the <code>prototype</code> object of the constructor. (see [Prototype Chain](#Prototype Chain))</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Animal properties and method encapsulation</span></span><br><span class="line"><span class="keyword">var</span> Animal = &#123;</span><br><span class="line">  type: <span class="string">'Invertebrates'</span>, <span class="comment">// Default value of properties</span></span><br><span class="line">  displayType: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  <span class="comment">// Method which will display type of Animal</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.type);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create new animal type called animal1</span></span><br><span class="line"><span class="keyword">var</span> animal1 = <span class="built_in">Object</span>.create(Animal);</span><br><span class="line">animal1.displayType(); <span class="comment">// Output:Invertebrates</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Create new animal type called Fishes</span></span><br><span class="line"><span class="keyword">var</span> fish = <span class="built_in">Object</span>.create(Animal);</span><br><span class="line">fish.type = <span class="string">'Fishes'</span>;</span><br><span class="line">fish.displayType(); <span class="comment">// Output:Fishes</span></span><br></pre></td></tr></table></figure>

<h3 id="Enumerate-the-Properties-of-an-Object"><a href="#Enumerate-the-Properties-of-an-Object" class="headerlink" title="Enumerate the Properties of an Object"></a>Enumerate the Properties of an Object</h3><p>there are three native ways to list/traverse object properties:</p>
<ul>
<li><p><code>for...in</code> loops</p>
<p>This method <strong>traverses</strong> all enumerable properties of an object and its [prototype chain](#Prototype Chain).</p>
</li>
<li><p><code>Object.keys(o)</code></p>
<p>This method returns an <strong>array</strong> with all the own (not in the prototype chain) enumerable properties’ names (“keys”) of an object <code>o</code>.</p>
</li>
<li><p><code>Object.getOwnPropertyNames(o)</code></p>
<p>This method returns an <strong>array</strong> containing all own properties’ names (enumerable or not) of an object <code>o</code>.</p>
</li>
</ul>
<p><strong><em>For Example:</em></strong> <strong><code>Object.keys(o)</code></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// simple array</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(arr)); <span class="comment">// console: ['0', '1', '2']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// array-like object</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="number">0</span>: <span class="string">'a'</span>, <span class="number">1</span>: <span class="string">'b'</span>, <span class="number">2</span>: <span class="string">'c'</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj)); <span class="comment">// console: ['0', '1', '2']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// array-like object with random key ordering</span></span><br><span class="line"><span class="keyword">const</span> anObj = &#123; <span class="number">100</span>: <span class="string">'a'</span>, <span class="number">2</span>: <span class="string">'b'</span>, <span class="number">7</span>: <span class="string">'c'</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(anObj)); <span class="comment">// console: ['2', '7', '100']</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>For Example: <code>Object.getOwnPropertyNames()</code></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; <span class="number">0</span>: <span class="string">'a'</span>, <span class="number">1</span>: <span class="string">'b'</span>, <span class="number">2</span>: <span class="string">'c'</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(obj).sort()); <span class="comment">// .sort() is an array method.</span></span><br><span class="line"><span class="comment">// logs ["0", "1", "2"]</span></span><br></pre></td></tr></table></figure>

<h3 id="Prototype-Chain"><a href="#Prototype-Chain" class="headerlink" title="Prototype Chain"></a>Prototype Chain</h3><p>A prototype of an <strong><em>object</em></strong> can be understood as the “parent” of the object (like in Java)</p>
<ul>
<li>so that properties to be inherited goes in the <code>prototype</code> field</li>
</ul>
<p>In JavaScript, <strong><em>functions are able to have properties/fields</em></strong>. All functions have a special property named <code>prototype</code>.</p>
<ul>
<li>There is one exception that arrow function doesn’t have a default prototype property</li>
</ul>
<p><strong><em>For Example</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log( doSomething.prototype );</span><br><span class="line"><span class="comment">//  It does not matter how you declare the function, a</span></span><br><span class="line"><span class="comment">//  function in JavaScript will always have a default</span></span><br><span class="line"><span class="comment">//  prototype property.</span></span><br><span class="line"><span class="keyword">var</span> doSomething = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log( doSomething.prototype );</span><br></pre></td></tr></table></figure>

<p>and the output is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">constructor: ƒ doSomething()</span><br><span class="line">__proto__:</span><br><span class="line">    constructor: ƒ Object()</span><br><span class="line">    hasOwnProperty: ƒ hasOwnProperty()</span><br><span class="line">    isPrototypeOf: ƒ isPrototypeOf()</span><br><span class="line">    propertyIsEnumerable: ƒ propertyIsEnumerable()</span><br><span class="line">    toLocaleString: ƒ toLocaleString()</span><br><span class="line">    toString: ƒ toString()</span><br><span class="line">    valueOf: ƒ valueOf()</span><br><span class="line">    __defineGetter__: ƒ __defineGetter__()</span><br><span class="line">    __defineSetter__: ƒ __defineSetter__()</span><br><span class="line">    __lookupGetter__: ƒ __lookupGetter__()</span><br><span class="line">    __lookupSetter__: ƒ __lookupSetter__()</span><br><span class="line">    get __proto__: ƒ __proto__()</span><br><span class="line">    set __proto__: ƒ __proto__()</span><br></pre></td></tr></table></figure>

<p>At this point, this means you can add properties to a function in two ways:</p>
<ul>
<li>add the property to the function directly</li>
<li>instantiate it as an Object and add a property<ul>
<li>Calling a function with the <code>new</code> operator <strong>returns an object that is an instance of the function</strong>. Properties can then be added onto this object.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">doSomething.prototype.foo = <span class="string">"bar"</span>; <span class="comment">// add a property onto the prototyped directly</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> doSomeInstancing = <span class="keyword">new</span> doSomething(); <span class="comment">// instantiated an object</span></span><br><span class="line">doSomeInstancing.prop = <span class="string">"some value"</span>; <span class="comment">// add a property onto the object</span></span><br><span class="line"><span class="built_in">console</span>.log( doSomeInstancing );</span><br></pre></td></tr></table></figure>

<p>this produces the following:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">prop: <span class="string">"some value"</span></span><br><span class="line">__proto__:</span><br><span class="line">    foo: <span class="string">"bar"</span></span><br><span class="line">    <span class="keyword">constructor</span>: ƒ doSomething()</span><br><span class="line">    __proto__:</span><br><span class="line">        <span class="keyword">constructor</span>: ƒ Object()</span><br><span class="line">        hasOwnProperty: ƒ hasOwnProperty()</span><br><span class="line">        isPrototypeOf: ƒ isPrototypeOf()</span><br><span class="line">        propertyIsEnumerable: ƒ propertyIsEnumerable()</span><br><span class="line">        toLocaleString: ƒ toLocaleString()</span><br><span class="line">        toString: ƒ toString()</span><br><span class="line">        valueOf: ƒ valueOf()</span><br><span class="line">        __defineGetter__: ƒ __defineGetter__()</span><br><span class="line">        __defineSetter__: ƒ __defineSetter__()</span><br><span class="line">        __lookupGetter__: ƒ __lookupGetter__()</span><br><span class="line">        __lookupSetter__: ƒ __lookupSetter__()</span><br><span class="line">        <span class="keyword">get</span> __proto__: ƒ __proto__()</span><br><span class="line">        <span class="keyword">set</span> __proto__: ƒ __proto__()</span><br></pre></td></tr></table></figure>

<p>This tells us three things:</p>
<ol>
<li><p><strong>the <code>__proto__</code> of <code>doSomeInstancing</code> is <code>doSomething.prototype</code>.</strong></p>
</li>
<li><p><strong>constructor</strong> and its “<strong>superclass</strong>“ information is stored in its <code>__proto__</code> field</p>
<ul>
<li>in the above, the constructor is <code>doSomething()</code>, and its “superclass” is <code>Object</code></li>
</ul>
</li>
<li><p>There is a <strong>prototype chain</strong> that holds property of things, which is used for <strong>property/field look up</strong></p>
<ul>
<li><p>If <code>doSomeInstancing</code> does not have the property, then the browser looks for the property in the <code>__proto__</code> of <code>doSomeInstancing</code> (a.k.a. <code>doSomething.prototype</code>). If the <code>__proto__</code> of <code>doSomeInstancing</code> has the property being looked for, then that property on the <code>__proto__</code> of <code>doSomeInstancing</code> is used.</p>
</li>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">doSomething.prototype.foo = <span class="string">"bar"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> doSomeInstancing = <span class="keyword">new</span> doSomething();</span><br><span class="line">doSomeInstancing.prop = <span class="string">"some value"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(doSomeInstancing.foo); <span class="comment">// returns "bar"</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h3 id="Defining-Methods"><a href="#Defining-Methods" class="headerlink" title="Defining Methods"></a>Defining Methods</h3><p>Methods are defined the way normal functions are defined, except that they have to be <strong>assigned as the property of an object.</strong></p>
<p><strong><em>For Example:</em> Object Created using Initializer</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  firstName: <span class="string">"John"</span>,</span><br><span class="line">  lastName : <span class="string">"Doe"</span>,</span><br><span class="line">  id       : <span class="number">5566</span>,</span><br><span class="line">  fullName : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// notice no function name after "function" keyword</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">" "</span> + <span class="keyword">this</span>.lastName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong><em>For Example:</em> Objects Created using Constructor</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyObj</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">"Jason"</span>;</span><br><span class="line">    <span class="keyword">this</span>.id = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.print = <span class="function"><span class="keyword">function</span>(<span class="params">color</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span> is <span class="subst">$&#123;color&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>Combing the above two, it means you can <strong>attach any function to any type as you want</strong>, by simply assigning the function as a property (hence becoming a method).</p>
<ul>
<li>provided that you know something about the object</li>
</ul>
<h4 id="Getters-and-Setters"><a href="#Getters-and-Setters" class="headerlink" title="Getters and Setters"></a>Getters and Setters</h4><p>In summary, getters and setters are functions with a special keyword that can be either</p>
<ul>
<li>defined using object initializers, or</li>
<li>added later to any object at any time using a getter or setter adding method.</li>
</ul>
<p>However, there is one extra restriction on getter/setter:</p>
<ul>
<li>the <strong>getter</strong> method must <strong><em>not expect a parameter</em></strong></li>
<li>the <strong>setter</strong> method <strong><em>expects exactly one parameter</em></strong></li>
</ul>
<blockquote>
<p><strong>Note</strong></p>
<ul>
<li>in a sense, <strong>getter and setters are more like “computable” fields rather than methods when executing</strong>.</li>
</ul>
</blockquote>
<p><strong><em>For Example:</em> Getter and Setter for Object Initializers</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">  a: <span class="number">7</span>,</span><br><span class="line">  <span class="keyword">get</span> b() &#123; <span class="comment">// get the property a</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.a + <span class="number">1</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span> c(x) &#123; <span class="comment">// </span></span><br><span class="line">    <span class="keyword">this</span>.a = x / <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(o.a); <span class="comment">// 7</span></span><br><span class="line"><span class="built_in">console</span>.log(o.b); <span class="comment">// 8 &lt;-- At this point the get b() method is initiated.</span></span><br><span class="line">o.c = <span class="number">50</span>;         <span class="comment">//   &lt;-- At this point the set c(x) method is initiated</span></span><br><span class="line"><span class="built_in">console</span>.log(o.a); <span class="comment">// 25</span></span><br></pre></td></tr></table></figure>

<p>which would be the <strong>same</strong> as:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">a</span>: <span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperties(o, &#123;</span><br><span class="line">    <span class="string">'b'</span>: &#123; <span class="attr">get</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>.a + <span class="number">1</span>; &#125; &#125;,</span><br><span class="line">    <span class="string">'c'</span>: &#123; <span class="attr">set</span>: <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123; <span class="keyword">this</span>.a = x / <span class="number">2</span>; &#125; &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(o.a); <span class="comment">// 7</span></span><br><span class="line"><span class="built_in">console</span>.log(o.b); <span class="comment">// 8</span></span><br><span class="line">o.c = <span class="number">50</span>;         </span><br><span class="line"><span class="built_in">console</span>.log(o.a); <span class="comment">// 25</span></span><br></pre></td></tr></table></figure>

<h3 id="Deleting-Properties"><a href="#Deleting-Properties" class="headerlink" title="Deleting Properties"></a>Deleting Properties</h3><p>You can remove a <strong>non-inherited property by using the <code>delete</code> operator</strong>. The following code shows how to remove a property.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myobj = <span class="keyword">new</span> <span class="built_in">Object</span>;</span><br><span class="line">myobj.a = <span class="number">5</span>;</span><br><span class="line">myobj.b = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Removes the a property, leaving myobj with only the b property.</span></span><br><span class="line"><span class="keyword">delete</span> myobj.a;</span><br><span class="line"><span class="built_in">console</span>.log (<span class="string">'a'</span> <span class="keyword">in</span> myobj); <span class="comment">// output: "false"</span></span><br></pre></td></tr></table></figure>

<h3 id="Comparing-Objects"><a href="#Comparing-Objects" class="headerlink" title="Comparing Objects"></a>Comparing Objects</h3><p>Two distinct objects are never equal, even if they have the same  properties. Only comparing the same object reference with itself yields <code>true</code>.</p>
<blockquote>
<p><strong>Reminder</strong></p>
<ul>
<li>Strict equal (<code>===</code>)  Returns <code>true</code> if the operands are equal <strong>and of the same type</strong>. </li>
</ul>
</blockquote>
<p><strong><em>For Example</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Two variables, two distinct objects with the same properties</span></span><br><span class="line"><span class="keyword">var</span> fruit = &#123;<span class="attr">name</span>: <span class="string">'apple'</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> fruitbear = &#123;<span class="attr">name</span>: <span class="string">'apple'</span>&#125;;</span><br><span class="line"></span><br><span class="line">fruit == fruitbear; <span class="comment">// return false</span></span><br><span class="line">fruit === fruitbear; <span class="comment">// return false</span></span><br></pre></td></tr></table></figure>

<p>and only:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Two variables, a single object</span></span><br><span class="line"><span class="keyword">var</span> fruit = &#123;<span class="attr">name</span>: <span class="string">'apple'</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> fruitbear = fruit;  <span class="comment">// Assign fruit object reference to fruitbear</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Here fruit and fruitbear are pointing to same object</span></span><br><span class="line">fruit == fruitbear; <span class="comment">// return true</span></span><br><span class="line">fruit === fruitbear; <span class="comment">// return true</span></span><br></pre></td></tr></table></figure>

<h2 id="Control-Flows"><a href="#Control-Flows" class="headerlink" title="Control Flows"></a>Control Flows</h2><p>Since for most languages, the idea for control flows are the same, this section only discusses some important/interesting ones that JavaScript has.</p>
<h3 id="Conditional-Statements"><a href="#Conditional-Statements" class="headerlink" title="Conditional Statements"></a>Conditional Statements</h3><p>The first thing to know are the expressions that evaluate to <code>true/false</code>:</p>
<ul>
<li><p><strong>False Values</strong></p>
<ul>
<li><code>false</code></li>
<li><code>undefined</code></li>
<li><code>null</code></li>
<li><code>0</code></li>
<li><code>NaN</code></li>
<li><strong><em>the empty string</em></strong> (<code>&quot;&quot;</code>)</li>
</ul>
</li>
<li><p><strong>True Values</strong></p>
<ul>
<li>All other values, <strong><em>including all objects</em></strong></li>
</ul>
</li>
</ul>
<blockquote>
<p>In this sense, it is more similar to languages like <code>C</code> rather than <code>Java</code></p>
</blockquote>
<blockquote>
<p><strong>Note</strong></p>
<ul>
<li><p>There is a non-trivial difference between the object <code>Boolean</code> and the values of <code>true</code> and <code>false</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">if</span> (b)         <span class="comment">// this condition evaluates to true</span></span><br><span class="line"><span class="keyword">if</span> (b == <span class="literal">true</span>) <span class="comment">// this condition evaluates to false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="If-Else"><a href="#If-Else" class="headerlink" title="If-Else"></a>If-Else</h4><p>This is basically the same across most languages:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition_1) &#123;</span><br><span class="line">  statement_1;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (condition_2) &#123;</span><br><span class="line">  statement_2;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (condition_n) &#123;</span><br><span class="line">  statement_n;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  statement_last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h4><p>Again, this is the same in languages like Java:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (expression) &#123;</span><br><span class="line">  <span class="keyword">case</span> label_1:</span><br><span class="line">    statements_1</span><br><span class="line">    [<span class="keyword">break</span>;]</span><br><span class="line">  <span class="keyword">case</span> label_2:</span><br><span class="line">    statements_2</span><br><span class="line">    [<span class="keyword">break</span>;]</span><br><span class="line">    …</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    statements_def</span><br><span class="line">    [<span class="keyword">break</span>;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><p>The program <strong>first looks for a <code>case</code> clause with a label matching the value of expression</strong> and then transfers control to that  clause, executing the associated statements.</p>
</li>
<li><p>If <strong>no matching label</strong> is found, the program looks for the optional <code>default</code> clause:  </p>
<ul>
<li>If a <code>default</code> clause is found, the program transfers control to that clause, executing the associated statements.</li>
<li>If <strong>no</strong> <code>default</code> clause is found, the program resumes execution at the statement following the end of <code>switch</code>.</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>Note that:</strong></p>
<ul>
<li>Same as Java, the optional <code>break</code> statement associated with each <code>case</code> clause ensures that the program breaks out of <code>switch</code> once the matched statement is executed.<ul>
<li>If <code>break</code> is omitted, the program continues execution inside the <code>switch</code> statement (and will evaluate the next <code>case</code>, and so on).</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="Handling-Exceptions"><a href="#Handling-Exceptions" class="headerlink" title="Handling Exceptions"></a>Handling Exceptions</h3><p>There are some differences between JavaScript and languages like Java:</p>
<ol>
<li>Just about <strong><em>any object can be thrown</em></strong> in JavaScript.<ul>
<li>though it is more frequent to throw: <ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Error_types" target="_blank" rel="noopener">ECMAScript exceptions</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMException" target="_blank" rel="noopener"><code>DOMException</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMError" target="_blank" rel="noopener"><code>DOMError</code></a></li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong><em>For Example:</em> Throwing any Object</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="string">'Error2'</span>;   <span class="comment">// String type</span></span><br><span class="line"><span class="keyword">throw</span> <span class="number">42</span>;         <span class="comment">// Number type</span></span><br><span class="line"><span class="keyword">throw</span> <span class="literal">true</span>;       <span class="comment">// Boolean type</span></span><br><span class="line"><span class="keyword">throw</span> &#123;<span class="attr">toString</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="string">"I'm an object!"</span>; &#125; &#125;;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong><em>For Example:</em> Throwing a Simple Custom Exception</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Create an object type UserException</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UserException</span>(<span class="params">message</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.message = message;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">'UserException'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make the exception convert to a pretty string when used as a string</span></span><br><span class="line"><span class="comment">// (e.g., by the error console)</span></span><br><span class="line">UserException.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>: "<span class="subst">$&#123;<span class="keyword">this</span>.message&#125;</span>"`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create an instance of the object type and throw it</span></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> UserException(<span class="string">'Value too high'</span>);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>in general, it is a good practice to have a <code>name</code> and <code>message</code> field (see [Utilizing Error Objects](#Utilizing Error Objects))</li>
</ul>
<h4 id="Catch-and-Finally"><a href="#Catch-and-Finally" class="headerlink" title="Catch and Finally"></a><code>Catch</code> and <code>Finally</code></h4><p>Since JavaScript is a weakly typed language (as compared to Java), it only makes sense to have at most one <code>catch</code> block:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">openMyFile();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  writeMyFile(theData); <span class="comment">// This may throw an error</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123; <span class="comment">// As compared to Java, does not differentiate between "types"</span></span><br><span class="line">  handleError(e); <span class="comment">// If an error occurred, handle it</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  closeMyFile(); <span class="comment">// Always close the resource</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Note that:</strong></p>
<ul>
<li><p>Same as in languages like Java, using <code>finally</code> means you might “mask the exceptions” thrown in the original <code>try</code> block:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">'bogus'</span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'caught inner "bogus"'</span>);</span><br><span class="line">    <span class="keyword">throw</span> e; <span class="comment">// this throw statement is suspended until</span></span><br><span class="line">             <span class="comment">// finally block has completed</span></span><br><span class="line">  &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// OVERWRITES/MASKS the previous "throw"</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// "return false" is executed now</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>in fact, in this case, you will <strong>never be able to throw an exception</strong> from the function <code>f()</code></li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="Utilizing-Error-Objects"><a href="#Utilizing-Error-Objects" class="headerlink" title="Utilizing Error Objects"></a>Utilizing Error Objects</h4><p>In general, two fields are often used:</p>
<ol>
<li>the<code>name</code> property provides the <strong>general class of <code>Error</code></strong> (such as <code>DOMException</code> or <code>Error</code>)</li>
<li>the <code>message</code> generally provides a <strong>more succinct message</strong> than one would get by converting the error object to a string.</li>
</ol>
<p>A simple example would be:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  doSomethingErrorProne();</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;               <span class="comment">// NOW, we actually use `console.error()`</span></span><br><span class="line">  <span class="built_in">console</span>.error(e.name);    <span class="comment">// logs 'Error'</span></span><br><span class="line">  <span class="built_in">console</span>.error(e.message); <span class="comment">// logs 'The message', or a JavaScript error message</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Loops-and-Iteration"><a href="#Loops-and-Iteration" class="headerlink" title="Loops and Iteration"></a>Loops and Iteration</h3><p>In summary, you have:</p>
<ul>
<li><p><code>for</code> loop</p>
<ul>
<li><p>similar to the Java and C <code>for</code> loop.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; selectObject.options.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (selectObject.options[i].selected) &#123;</span><br><span class="line">      numberSelected++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><code>let</code> is often used because the variable would be then <strong>local scoped</strong></li>
</ul>
</li>
</ul>
</li>
<li><p><code>do...while</code> loop</p>
<ul>
<li><p>again, similar to Java</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span></span><br><span class="line">  statement</span><br><span class="line"><span class="keyword">while</span> (condition);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>while</code> loop</p>
<ul>
<li><pre><code class="javascript"><span class="keyword">while</span> (condition)
  statement
&lt;!--￼<span class="number">59</span>--&gt;</code></pre>
</li>
</ul>
</li>
<li><p>to break:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">break</span> [label];</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><em>For Example</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> z = <span class="number">0</span>;</span><br><span class="line">labelCancelLoops: </span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Outer loops: '</span> + x);</span><br><span class="line">  x += <span class="number">1</span>;</span><br><span class="line">  z = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Inner loops: '</span> + z);</span><br><span class="line">    z += <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (z === <span class="number">10</span> &amp;&amp; x === <span class="number">10</span>) &#123;</span><br><span class="line">      <span class="keyword">break</span> labelCancelLoops; <span class="comment">// break the outer loop</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (z === <span class="number">10</span>) &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Enhanced-for-Loops"><a href="#Enhanced-for-Loops" class="headerlink" title="Enhanced for Loops"></a>Enhanced <code>for</code> Loops</h4><p>There are “two” enhanced for loops:</p>
<ul>
<li><code>for...in</code><ul>
<li>iterates a specified variable <strong>over all the enumerable properties</strong> of an object</li>
</ul>
</li>
<li><code>for...of</code><ul>
<li>iterates <strong>over <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/iterable" target="_blank" rel="noopener">iterable objects</a></strong> (including<code>Array</code>, <code>Map</code>, <code>Set</code>, <code>arguments</code> object and so on)</li>
</ul>
</li>
</ul>
<p><strong><em>For Example:</em> <code>for...in</code> Loop</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dump_props</span>(<span class="params">obj, obj_name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    result += obj_name + <span class="string">'.'</span> + i + <span class="string">' = '</span> + obj[i] + <span class="string">'&lt;br&gt;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  result += <span class="string">'&lt;hr&gt;'</span>;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>For an object <code>car</code> with properties <code>make</code> and <code>model</code>, <code>result</code> would be:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">car.make &#x3D; Ford</span><br><span class="line">car.model &#x3D; Mustang</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Note:</strong> If you want to iterate over an array:</p>
<ul>
<li>In most cases, it is better to use a traditional <code>for</code> loop with a numeric index when iterating over arrays, because the <code>for...in</code> statement <strong>iterates over user-defined properties in addition to the  array elements</strong>, if you modify the Array object (such as adding custom  properties or methods).</li>
</ul>
</blockquote>
<hr>
<p><strong><em>For Example:</em> <code>for...of</code> Loop</strong></p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>];</span><br><span class="line">arr.foo = <span class="string">'hello'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> arr) &#123; <span class="comment">// also iterate the property foo</span></span><br><span class="line">   <span class="built_in">console</span>.log(i); <span class="comment">// logs "0", "1", "2", "foo"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> arr) &#123; <span class="comment">// does not iterate the property foo</span></span><br><span class="line">   <span class="built_in">console</span>.log(i); <span class="comment">// logs 3, 5, 7</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><h3 id="Defining-Functions"><a href="#Defining-Functions" class="headerlink" title="Defining Functions"></a>Defining Functions</h3><p>A <strong>function definition</strong> (also called a <strong>function declaration</strong>, or <strong>function statement</strong>) consists of the <code>function</code> keyword, followed by:</p>
<ul>
<li>The <strong>name</strong> of the function.</li>
<li>A list of <strong>arguments</strong></li>
<li>The JavaScript statements that define the function, enclosed in curly brackets, <code>{...}</code>.</li>
</ul>
<blockquote>
<p><strong>Note</strong></p>
<ul>
<li>Same as Java and C, JavaScript <strong>passes parameters by value.</strong> So that<ul>
<li>primitive passes by value of the primitive</li>
<li>object passes y the value of the address</li>
</ul>
</li>
</ul>
</blockquote>
<p><strong><em>For Example</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">functionName</span>(<span class="params">arguement1, arguement2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arguement1 * arguement2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Function-Expressions"><a href="#Function-Expressions" class="headerlink" title="Function Expressions"></a>Function Expressions</h3><p>This basically treats functions as expressions, and you can also pass them around like variables.</p>
<p>A function expression:</p>
<ul>
<li>can be anonymous</li>
<li>assigned to a variable to pass around</li>
</ul>
<p><strong><em>For Example:</em> Function Statement</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factorial = <span class="function"><span class="keyword">function</span> <span class="title">fac</span>(<span class="params">n</span>) </span>&#123; <span class="keyword">return</span> n &lt; <span class="number">2</span> ? <span class="number">1</span> : n * fac(n - <span class="number">1</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(factorial(<span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Reminder</strong></p>
<ul>
<li><p>In <code>C</code>, you have the equivalent like this:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">const</span> <span class="title">int</span> <span class="params">(*factorial)</span><span class="params">(<span class="keyword">int</span> n)</span> </span>= &amp;fac;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<hr>
<p><strong><em>For Example:</em> Passing in a Function</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">map</span>(<span class="params">f, a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = []; <span class="comment">// Create a new Array</span></span><br><span class="line">  <span class="keyword">let</span> i; <span class="comment">// Declare variable</span></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i != a.length; i++)</span><br><span class="line">    result[i] = f(a[i]); <span class="comment">// Uses the function f</span></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> f = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> x * x * x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> numbers = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">10</span>];</span><br><span class="line"><span class="keyword">let</span> cube = map(f,numbers);</span><br><span class="line"><span class="built_in">console</span>.log(cube);</span><br></pre></td></tr></table></figure>

<p>Function returns: <code>[0, 1, 8, 125, 1000]</code>.</p>
<h3 id="Function-Hoisting-1"><a href="#Function-Hoisting-1" class="headerlink" title="Function Hoisting"></a>Function Hoisting</h3><p>Function declaration, like variables, are hoisted.</p>
<blockquote>
<p><strong>However:</strong></p>
<ul>
<li>function expressions are not hoisted.</li>
</ul>
</blockquote>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(square(<span class="number">5</span>));</span><br><span class="line"><span class="comment">/* ... */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">n</span>) </span>&#123; <span class="keyword">return</span> n * n &#125; <span class="comment">// returns 25</span></span><br></pre></td></tr></table></figure>

<p>However:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(square)    <span class="comment">// square is hoisted with an initial value undefined.</span></span><br><span class="line"><span class="built_in">console</span>.log(square(<span class="number">5</span>)) <span class="comment">// Uncaught TypeError: square is not a function</span></span><br><span class="line"><span class="keyword">const</span> square = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123; <span class="comment">// function expression</span></span><br><span class="line">  <span class="keyword">return</span> n * n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h3><p>A function can refer to and call itself. There are <strong>three ways for a function to refer to itself</strong>:</p>
<ol>
<li>The function’s name</li>
<li><code>arguments.callee</code></li>
<li>An in-scope variable that refers to the function</li>
</ol>
<p><strong><em>For example</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="comment">// statements go here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where, within the function body, the following are all <strong>equivalent</strong>:</p>
<ol>
<li><code>bar()</code></li>
<li><code>arguments.callee()</code></li>
<li><code>foo()</code></li>
</ol>
<h3 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h3><p>Closure describes the property of nested functions such that:</p>
<ul>
<li>the <strong>inner function full access</strong> to all the variables and functions defined inside the outer function (and all other variables and functions that the outer function has access to)</li>
<li>the <strong>outer function does <em>not</em> have access</strong> to the variables and functions defined inside the inner function.</li>
</ul>
<p>As a result</p>
<ul>
<li>since the inner function has access to the scope of the outer function, the <strong>variables and functions defined in the <em>outer</em> function</strong> will <strong><em>live longer</em></strong> than the <strong>duration of the <em>outer</em> function</strong> execution, if the inner function manages to survive beyond the life of the outer function</li>
</ul>
<p><strong><em>For Example</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> createPet = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> sex;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    setName: <span class="function"><span class="keyword">function</span>(<span class="params">newName</span>) </span>&#123;</span><br><span class="line">      name = newName;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    getName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> name;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    getSex: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    setSex: <span class="function"><span class="keyword">function</span>(<span class="params">newSex</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="keyword">typeof</span> newSex === <span class="string">'string'</span> &amp;&amp; (newSex.toLowerCase() === <span class="string">'male'</span> ||</span><br><span class="line">        newSex.toLowerCase() === <span class="string">'female'</span>)) &#123;</span><br><span class="line">        sex = newSex;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pet = createPet(<span class="string">'Vivie'</span>);</span><br><span class="line">pet.getName();                  <span class="comment">// Vivie (lived longer than the scope of createPet)</span></span><br><span class="line"></span><br><span class="line">pet.setName(<span class="string">'Oliver'</span>);</span><br><span class="line">pet.setSex(<span class="string">'male'</span>);</span><br><span class="line">pet.getSex();                   <span class="comment">// male</span></span><br><span class="line">pet.getName();                  <span class="comment">// Oliver</span></span><br></pre></td></tr></table></figure>

<h4 id="Variable-Hiding"><a href="#Variable-Hiding" class="headerlink" title="Variable Hiding"></a>Variable Hiding</h4><p>This talks about the phenomena that:</p>
<ul>
<li>If an enclosed function defines a variable with the same name as a  variable in the outer scope, then <strong>there is no way to refer to the variable in the outer scope again</strong>.</li>
</ul>
<p><strong><em>For Example</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> createPet = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;  <span class="comment">// The outer function defines a variable called "name".</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    setName: <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123; </span><br><span class="line">      name = name; <span class="comment">// there is no way to refer to the outer function "name" variable              </span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Arguments-Object"><a href="#Arguments-Object" class="headerlink" title="Arguments Object"></a>Arguments Object</h3><p>The <strong>arguments</strong> of a function are <strong>maintained in an array-like <em>object</em></strong>. </p>
<ul>
<li>it is strictly speaking not an <code>Array</code> (see [Rest Parameters](#Rest Parameters))</li>
</ul>
<p>Within a function, you can address the arguments passed to it as <code>arguments[i]</code>.</p>
<ul>
<li>in a sense, <strong>this means <code>varargs</code> comes naturally to JavaScript without specification</strong></li>
</ul>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">easy</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line">easy(<span class="number">10</span>, <span class="number">20</span>); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong><em>For Example:</em> Using Arguments Object</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myConcat</span>(<span class="params">separator</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> result = <span class="string">''</span>; <span class="comment">// initialize list</span></span><br><span class="line">   <span class="keyword">var</span> i;</span><br><span class="line">   <span class="comment">// iterate through arguments, starts from 1 to skip the `seperator` argument</span></span><br><span class="line">   <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="built_in">arguments</span>.length; i++) &#123;</span><br><span class="line">      result += <span class="built_in">arguments</span>[i] + separator;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>and calling it:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// returns "red, orange, blue, "</span></span><br><span class="line">myConcat(<span class="string">', '</span>, <span class="string">'red'</span>, <span class="string">'orange'</span>, <span class="string">'blue'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Arrow-Functions"><a href="#Arrow-Functions" class="headerlink" title="Arrow Functions"></a>Arrow Functions</h3><p>Basically, this idea is analogous to the lambda expressions in Java.</p>
<p>One common usage of arrow function is its combination with <code>Array.prototype.map()</code></p>
<ul>
<li>The <code>map()</code> method <strong>creates a new array</strong> populated with the results of calling a provided function on every element in the calling array.</li>
</ul>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// pass a function to map</span></span><br><span class="line"><span class="keyword">const</span> map1 = array1.map(<span class="function"><span class="params">x</span> =&gt;</span> x * <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(map1);</span><br><span class="line"><span class="comment">// expected output: Array [2, 8, 18, 32]</span></span><br></pre></td></tr></table></figure>

<h3 id="Function-Parameters"><a href="#Function-Parameters" class="headerlink" title="Function Parameters"></a>Function Parameters</h3><p>Starting with ECMAScript 2015, there are two new kinds of parameters: </p>
<ul>
<li><em>default parameters</em> </li>
<li><em>rest parameters</em></li>
</ul>
<h4 id="Default-Parameters"><a href="#Default-Parameters" class="headerlink" title="Default Parameters"></a>Default Parameters</h4><p>In JavaScript, parameters of functions default to <code>undefined</code>. However, in some situations it might be useful to set a different default value.</p>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">a, b = <span class="number">1</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">multiply(<span class="number">5</span>); <span class="comment">// 5</span></span><br><span class="line">multiply(); <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>

<h4 id="Rest-Parameters"><a href="#Rest-Parameters" class="headerlink" title="Rest Parameters"></a>Rest Parameters</h4><p>This is basically <code>varargs</code></p>
<ul>
<li>in particular, the rest parameters behaves exactly like an <code>Array</code></li>
</ul>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">multiplier, ...theArgs</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> theArgs.map(<span class="function"><span class="params">x</span> =&gt;</span> multiplier * x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = multiply(<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Difference between Rest Parameters and <code>Argument</code> Object</strong></p>
<ul>
<li>Arguments object includes <strong>all arguments passed to the function</strong>, whereas rest parameters are those, which are not given another name.</li>
<li>The <strong>rest parameters are Array instances</strong>, whereas arguments object isn’t an array. Array instances can use the following methods: <code>map</code>, <code>sort</code>, <code>pop</code>, etc</li>
</ul>
</blockquote>
<h3 id="Predefined-Functions"><a href="#Predefined-Functions" class="headerlink" title="Predefined Functions"></a>Predefined Functions</h3><p>JavaScript has several top-level, built-in functions (for a full list, please visit <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#Predefined_functions" target="_blank" rel="noopener">this link</a>):</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval" target="_blank" rel="noopener"><code>eval()</code></a></p>
<ul>
<li>The <code>eval()</code> method evaluates JavaScript code represented as a string.</li>
<li>for example, <code>eval(&quot;2+2&quot;)</code> gives <code>4</code></li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/uneval" target="_blank" rel="noopener"><code>uneval()</code></a></p>
<ul>
<li>The <code>uneval()</code> method creates a string representation of the source code of an <code>Object</code></li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN" target="_blank" rel="noopener"><code>isNaN()</code></a></p>
<ul>
<li>The <code>isNaN()</code> function determines whether a value is <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN" target="_blank" rel="noopener"><code>NaN</code></a> or not. Note: coercion inside the <code>isNaN</code> function has <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN#Description" target="_blank" rel="noopener">interesting</a> rules; you may alternatively want to use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN" target="_blank" rel="noopener"><code>Number.isNaN()</code></a>, as defined in ECMAScript 2015, or you can use <code>typeof</code> to determine if the value is Not-A-Number.</li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseFloat" target="_blank" rel="noopener"><code>parseFloat()</code></a></p>
<ul>
<li>The <code>parseFloat()</code> function parses a string argument and returns a floating point number.</li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt" target="_blank" rel="noopener"><code>parseInt()</code></a></p>
<ul>
<li>The <code>parseInt()</code> function parses a string argument and returns an integer of the specified radix (the base in mathematical numeral systems).</li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURI" target="_blank" rel="noopener"><code>decodeURI()</code></a></p>
<ul>
<li>The <code>decodeURI()</code> function decodes a Uniform Resource Identifier (URI) previously created by <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI" target="_blank" rel="noopener"><code>encodeURI</code></a> or by a similar routine.</li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent" target="_blank" rel="noopener"><code>decodeURIComponent()</code></a></p>
<ul>
<li>The <code>decodeURIComponent()</code> method decodes a Uniform Resource Identifier (URI) component previously created by <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" target="_blank" rel="noopener"><code>encodeURIComponent</code></a> or by a similar routine.</li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI" target="_blank" rel="noopener"><code>encodeURI()</code></a></p>
<ul>
<li>The <code>encodeURI()</code> method encodes a Uniform Resource Identifier (URI) by replacing each instance of certain  characters by one, two, three, or four escape sequences representing the UTF-8 encoding of the character (will only be four escape sequences for characters composed of two “surrogate” characters).</li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" target="_blank" rel="noopener"><code>encodeURIComponent()</code></a></p>
<ul>
<li>The <code>encodeURIComponent()</code> method encodes a Uniform Resource Identifier (URI) component by replacing each  instance of certain characters by one, two, three, or four escape sequences representing the UTF-8 encoding of the character (will only be four escape sequences for characters composed of two “surrogate”  characters).</li>
</ul>
<h2 id="Prototype-and-Inheritance"><a href="#Prototype-and-Inheritance" class="headerlink" title="Prototype and Inheritance"></a>Prototype and Inheritance</h2><p>In Java, suppose you want to have something like:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Manager</span> <span class="keyword">extends</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">   <span class="keyword">public</span> Employee[] reports = <span class="keyword">new</span> Employee[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WorkerBee</span> <span class="keyword">extends</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">   <span class="keyword">public</span> String[] projects = <span class="keyword">new</span> String[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>In JavaScript</strong>, you need to do:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Manager</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Employee.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.reports = [];</span><br><span class="line">&#125;</span><br><span class="line">Manager.prototype = <span class="built_in">Object</span>.create(Employee.prototype);</span><br><span class="line">Manager.prototype.constructor = Manager;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">WorkerBee</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Employee.call(<span class="keyword">this</span>);</span><br><span class="line">  <span class="keyword">this</span>.projects = [];</span><br><span class="line">&#125;</span><br><span class="line">WorkerBee.prototype = <span class="built_in">Object</span>.create(Employee.prototype);</span><br><span class="line">WorkerBee.prototype.constructor = WorkerBee;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Reminder</strong></p>
<ul>
<li>remember that <strong>constructor and its superclass information of a custom type</strong> is stored in the <strong><code>&lt;CustomeType&gt;.prototype</code> field</strong> (see [Prototype Chain](#Prototype Chain)).</li>
</ul>
</blockquote>
<h3 id="Prototypes"><a href="#Prototypes" class="headerlink" title="Prototypes"></a>Prototypes</h3><p>In short, a <strong>prototype</strong> of an Object <strong>defines what gets inherited</strong>. (It is <strong><em>not</em></strong> to be seen as “prototype object of the current object”).</p>
<ul>
<li>this means that any functions defined in <code>Object.prototype</code> will get inherited in any other Object, and other functions defined only with <code>Object</code> will not be inherited</li>
</ul>
<blockquote>
<p><strong>As a result</strong></p>
<ul>
<li>So <code>Object.prototype.toString()</code>, <code>Object.prototype.valueOf()</code>, etc., are <strong>available to any object types that inherit from <code>Object.prototype</code></strong>, including new object instances created from the <code>Person()</code> constructor.</li>
</ul>
</blockquote>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">first, last, age, gender, interests</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// property and method definitions</span></span><br><span class="line">  <span class="keyword">this</span>.name = &#123;</span><br><span class="line">    <span class="string">'first'</span>: first,</span><br><span class="line">    <span class="string">'last'</span> : last</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.gender = gender;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.toString(); <span class="comment">// works because it is in Object.prototype.toString()</span></span><br></pre></td></tr></table></figure>

<p>then, compare:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype;</span><br><span class="line"><span class="comment">// constructor: ƒ Person(first, last, age, gender, interests)</span></span><br><span class="line"><span class="comment">// __proto__: Object</span></span><br></pre></td></tr></table></figure>

<p>and:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype;</span><br><span class="line"><span class="comment">// constructor: ƒ Object()</span></span><br><span class="line"><span class="comment">// hasOwnProperty: ƒ hasOwnProperty()</span></span><br><span class="line"><span class="comment">// isPrototypeOf: ƒ isPrototypeOf()</span></span><br><span class="line"><span class="comment">// propertyIsEnumerable: ƒ propertyIsEnumerable()</span></span><br><span class="line"><span class="comment">// toLocaleString: ƒ toLocaleString()</span></span><br><span class="line"><span class="comment">// toString: ƒ toString()</span></span><br><span class="line"><span class="comment">// valueOf: ƒ valueOf()</span></span><br><span class="line"><span class="comment">// __defineGetter__: ƒ __defineGetter__()</span></span><br><span class="line"><span class="comment">// __defineSetter__: ƒ __defineSetter__()</span></span><br><span class="line"><span class="comment">// __lookupGetter__: ƒ __lookupGetter__()</span></span><br><span class="line"><span class="comment">// __lookupSetter__: ƒ __lookupSetter__()</span></span><br><span class="line"><span class="comment">// get __proto__: ƒ __proto__()</span></span><br><span class="line"><span class="comment">// set __proto__: ƒ __proto__()</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Note:</strong></p>
<ul>
<li>In the above example, <strong>the <code>constructor</code> automatically becomes a property of the <code>prototype</code>.</strong></li>
<li>This means that all Objects from <code>Person</code> will have <code>constructor</code> available</li>
</ul>
</blockquote>
<h4 id="Revisiting-create"><a href="#Revisiting-create" class="headerlink" title="Revisiting create()"></a>Revisiting <code>create()</code></h4><p>In summary, <code>Object.create()</code> lets you create an Object with a custom prototype:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person1 = <span class="keyword">new</span> Person(<span class="string">'Bob'</span>, <span class="string">'Smith'</span>, <span class="number">32</span>, <span class="string">'male'</span>, [<span class="string">'music'</span>, <span class="string">'skiing'</span>]);</span><br><span class="line"><span class="keyword">let</span> person2 = <span class="built_in">Object</span>.create(person1); <span class="comment">// recall person1 is of type Person</span></span><br></pre></td></tr></table></figure>

<p>then:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">person2.__proto__</span><br><span class="line"><span class="comment">// Person &#123;name: &#123;…&#125;, age: 32, gender: "male"&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="Using-the-constructor-property"><a href="#Using-the-constructor-property" class="headerlink" title="Using the constructor property"></a>Using the <code>constructor</code> property</h4><p>As shown in the example in the <a href="#Prototypes">Prototypes</a> section above, a constructor property is automatically placed in <code>prototype</code>, so that</p>
<ul>
<li>it is <strong>available</strong> to all instances of the object</li>
<li>and <strong>all children inheriting</strong> from this object</li>
</ul>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person1 = <span class="keyword">new</span> Person(<span class="string">'Bob'</span>, <span class="string">'Smith'</span>, <span class="number">32</span>, <span class="string">'male'</span>, [<span class="string">'music'</span>, <span class="string">'skiing'</span>]);</span><br><span class="line"><span class="keyword">let</span> person2 = <span class="built_in">Object</span>.create(person1);</span><br><span class="line"></span><br><span class="line">person1.constructor;</span><br><span class="line">person2.constructor; <span class="comment">// outputs the same as above</span></span><br></pre></td></tr></table></figure>

<p>and more interestingly:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person3 = <span class="keyword">new</span> person1.constructor(<span class="string">'Karen'</span>, <span class="string">'Stephenson'</span>, <span class="number">26</span>, <span class="string">'female'</span>, [<span class="string">'playing drums'</span>, <span class="string">'mountain climbing'</span>]);</span><br></pre></td></tr></table></figure>

<p>works as well.</p>
<h4 id="Modifying-Prototypes"><a href="#Modifying-Prototypes" class="headerlink" title="Modifying Prototypes"></a>Modifying Prototypes</h4><p>In summary, I show:</p>
<ul>
<li>how to add a method/function to the <code>Person</code>‘s prototype, so that all instances of it/children of it can use the function</li>
</ul>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// adding a function `farewell()` to prototype</span></span><br><span class="line">Person.prototype.farewell = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="keyword">this</span>.name.first + <span class="string">' has left the building. Bye for now!'</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>then call it with either:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">person1.farewell();</span><br><span class="line">person2.farewell();</span><br></pre></td></tr></table></figure>

<p>where both would output the same.</p>
<blockquote>
<p><strong>Note that:</strong></p>
<ul>
<li><p>be careful when defining fields using <code>this</code>. For instance, below would not work:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `this` refers to the global scope</span></span><br><span class="line">Person.prototype.fullName = <span class="keyword">this</span>.name.first + <span class="string">' '</span> + <span class="keyword">this</span>.name.last;</span><br></pre></td></tr></table></figure>

<p>and only function scope works properly</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.farewell = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// this refers to the Object calling the function (function scope)</span></span><br><span class="line">  alert(<span class="keyword">this</span>.name.first + <span class="string">' has left the building. Bye for now!'</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="Inheritance-with-Prototype"><a href="#Inheritance-with-Prototype" class="headerlink" title="Inheritance with Prototype"></a>Inheritance with Prototype</h3><p>In short, to inherit <code>Teacher</code> from another object <code>Person</code>, you need to:</p>
<ol>
<li><p>use <code>Person.call(this, ...paremeters)</code></p>
<ul>
<li>this sets up the <code>constructor</code> to inherit properties of another object</li>
</ul>
</li>
<li><p>use <code>Teacher.prototype = Object.create(Person.prototype)</code></p>
<ul>
<li>this sets up the <code>prototype</code> field of the <code>Teacher</code> object</li>
<li>however, this <strong><em>also sets</em></strong> the <code>prototype.constructor</code> to <code>Person</code> (might cause further inheritance issues)</li>
</ul>
</li>
<li><p>use <code>Object.defineProperty()</code> to reset the constructor to <code>Teacher()</code></p>
<ul>
<li>so that now <code>prototype.constructor</code> will be <code>Teacher</code>, and inheriting from <code>Teacher</code> would lead to the <strong><em>correct constructor being inherited</em></strong></li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>Recall that:</strong></p>
<ul>
<li><p>the <code>Person.prototype</code> would basically have the following content:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">farewell: ƒ ()</span><br><span class="line"><span class="keyword">constructor</span>: ƒ Person(first, last, age, gender, interests)</span><br><span class="line">__proto__: Object</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<p><strong><em>For Example:</em></strong></p>
<p>Consider the same <code>Person</code> object we had before:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">first, last, age, gender, interests</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = &#123;</span><br><span class="line">    <span class="string">'first'</span>: first,</span><br><span class="line">    <span class="string">'last'</span> : last</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.gender = gender;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>to create another object <code>Teacher</code> that inherits its fields/properties:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Teacher</span>(<span class="params">first, last, age, gender, interests, subject</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// basically `super(first, last, age, gender, interests);`</span></span><br><span class="line">  Person.call(<span class="keyword">this</span>, first, last, age, gender, interests);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.subject = subject;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>and then:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Teacher.prototype = <span class="built_in">Object</span>.create(Person.prototype);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>In this case we are using it to create a new object and make it the value of <code>Teacher.prototype</code>.</li>
</ul>
<ol start="3">
<li>Finally, we <strong>reset</strong> the <code>prototype.constructor</code> to make sure future correct behavior for inheriting from <code>Teacher</code>:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(Teacher.prototype, <span class="string">'constructor'</span>, &#123;</span><br><span class="line">    value: Teacher,</span><br><span class="line">    enumerable: <span class="literal">false</span>, <span class="comment">// so that it does not appear in 'for in' loop</span></span><br><span class="line">    writable: <span class="literal">true</span> &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Inheritance-with-Class"><a href="#Inheritance-with-Class" class="headerlink" title="Inheritance with Class"></a>Inheritance with Class</h3><p>This is applicable since ECMAScript 2015.</p>
<p>In short, this basically allows syntaxes like Java/C++.</p>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(first, last, age, gender, interests) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = &#123;</span><br><span class="line">      first,</span><br><span class="line">      last</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    <span class="keyword">this</span>.interests = interests;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  greeting() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hi! I'm <span class="subst">$&#123;<span class="keyword">this</span>.name.first&#125;</span>`</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  farewell() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name.first&#125;</span> has left the building. Bye for now!`</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>instead of the function constructor and prototype definitions.</p>
<p>Additionally, inheritance becomes:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(first, last, age, gender, interests, subject, grade) &#123;</span><br><span class="line">    <span class="keyword">super</span>(first, last, age, gender, interests); <span class="comment">// note that this is required</span></span><br><span class="line">    <span class="keyword">this</span>.subject = subject;</span><br><span class="line">    <span class="keyword">this</span>.grade = grade;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Getters-and-Setters-1"><a href="#Getters-and-Setters-1" class="headerlink" title="Getters and Setters"></a>Getters and Setters</h4><p>In both prototype and class definitions, the idea is basically the same:</p>
<ul>
<li>use <code>get &lt;property&gt;()</code> for getters in a class</li>
<li>use <code>set &lt;property&gt;()</code> for setters</li>
</ul>
<p><strong><em>For Example:</em> Class Based Getter and Setter</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(first, last, age, gender, interests, subject, grade) &#123;</span><br><span class="line">    <span class="keyword">super</span>(first, last, age, gender, interests);</span><br><span class="line">    <span class="comment">// subject and grade are specific to Teacher</span></span><br><span class="line">    <span class="keyword">this</span>._subject = subject;</span><br><span class="line">    <span class="keyword">this</span>.grade = grade;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> subject() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._subject;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> subject(newSubject) &#123;</span><br><span class="line">    <span class="keyword">this</span>._subject = newSubject;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><em>For Example:</em> Prototype Based Getter and Setter</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperties(Teacher.prototype, &#123;</span><br><span class="line">    <span class="string">'subject'</span>: &#123; <span class="attr">get</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>._subject; &#125; &#125;,</span><br><span class="line">    <span class="string">'subject'</span>: &#123; <span class="attr">set</span>: <span class="function"><span class="keyword">function</span>(<span class="params">newSubject</span>) </span>&#123; <span class="keyword">this</span>._subject = newSubject; &#125; &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="Dynamic-Client-Side-Programming"><a href="#Dynamic-Client-Side-Programming" class="headerlink" title="Dynamic Client Side Programming"></a>Dynamic Client Side Programming</h1><p>This section talks about the building blocks of programming a dynamic website/application.</p>
<h2 id="Working-with-JSON"><a href="#Working-with-JSON" class="headerlink" title="Working with JSON"></a>Working with JSON</h2><p>JavaScript Object Notation (JSON) is a standard text-based format for  representing structured data based on JavaScript object syntax.</p>
<ul>
<li>therefore, all you need to do is to <strong>parse the JSON string</strong> using <code>JSON.parse()</code></li>
</ul>
<blockquote>
<p><strong>JavaScript provides a global <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener">JSON</a> object</strong> that has methods available for converting between the two.</p>
</blockquote>
<h3 id="Array-as-JSON"><a href="#Array-as-JSON" class="headerlink" title="Array as JSON"></a>Array as JSON</h3><p>Basically arrays are formatted using the <code>[]</code> symbol.</p>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> heroes = <span class="built_in">JSON</span>.parse(<span class="string">`[</span></span><br><span class="line"><span class="string">  &#123;</span></span><br><span class="line"><span class="string">    "name": "Molecule Man",</span></span><br><span class="line"><span class="string">    "age": 29,</span></span><br><span class="line"><span class="string">    "secretIdentity": "Dan Jukes",</span></span><br><span class="line"><span class="string">    "powers": [</span></span><br><span class="line"><span class="string">      "Radiation resistance",</span></span><br><span class="line"><span class="string">      "Turning tiny",</span></span><br><span class="line"><span class="string">      "Radiation blast"</span></span><br><span class="line"><span class="string">    ]</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  &#123;</span></span><br><span class="line"><span class="string">    "name": "Madame Uppercut",</span></span><br><span class="line"><span class="string">    "age": 39,</span></span><br><span class="line"><span class="string">    "secretIdentity": "Jane Wilson",</span></span><br><span class="line"><span class="string">    "powers": [</span></span><br><span class="line"><span class="string">      "Million tonne punch",</span></span><br><span class="line"><span class="string">      "Damage resistance",</span></span><br><span class="line"><span class="string">      "Superhuman reflexes"</span></span><br><span class="line"><span class="string">    ]</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">]`</span>);</span><br><span class="line">heroes[<span class="number">0</span>][<span class="string">"powers"</span>][<span class="number">0</span>]; <span class="comment">// gives "Radiation resistance"</span></span><br></pre></td></tr></table></figure>

<h3 id="JSON-Structure-Object"><a href="#JSON-Structure-Object" class="headerlink" title="JSON Structure/Object"></a>JSON Structure/Object</h3><p>In general, an object in JSON uses the format:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"propertyName"</span>: <span class="string">"value"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><em>For Example</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'&#123;</span></span><br><span class="line"><span class="string">  "squadName": "Super hero squad",</span></span><br><span class="line"><span class="string">  "homeTown": "Metro City",</span></span><br><span class="line"><span class="string">  "formed": 2016,</span></span><br><span class="line"><span class="string">  "secretBase": "Super tower",</span></span><br><span class="line"><span class="string">  "active": true,</span></span><br><span class="line"><span class="string">  "members": [</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">      "name": "Molecule Man",</span></span><br><span class="line"><span class="string">      "age": 29,</span></span><br><span class="line"><span class="string">      "secretIdentity": "Dan Jukes",</span></span><br><span class="line"><span class="string">      "powers": [</span></span><br><span class="line"><span class="string">        "Radiation resistance",</span></span><br><span class="line"><span class="string">        "Turning tiny",</span></span><br><span class="line"><span class="string">        "Radiation blast"</span></span><br><span class="line"><span class="string">      ]</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">      "name": "Madame Uppercut",</span></span><br><span class="line"><span class="string">      "age": 39,</span></span><br><span class="line"><span class="string">      "secretIdentity": "Jane Wilson",</span></span><br><span class="line"><span class="string">      "powers": [</span></span><br><span class="line"><span class="string">        "Million tonne punch",</span></span><br><span class="line"><span class="string">        "Damage resistance",</span></span><br><span class="line"><span class="string">        "Superhuman reflexes"</span></span><br><span class="line"><span class="string">      ]</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">      "name": "Eternal Flame",</span></span><br><span class="line"><span class="string">      "age": 1000000,</span></span><br><span class="line"><span class="string">      "secretIdentity": "Unknown",</span></span><br><span class="line"><span class="string">      "powers": [</span></span><br><span class="line"><span class="string">        "Immortality",</span></span><br><span class="line"><span class="string">        "Heat Immunity",</span></span><br><span class="line"><span class="string">        "Inferno",</span></span><br><span class="line"><span class="string">        "Teleportation",</span></span><br><span class="line"><span class="string">        "Interdimensional travel"</span></span><br><span class="line"><span class="string">      ]</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  ]</span></span><br><span class="line"><span class="string">&#125;'</span></span><br></pre></td></tr></table></figure>

<h3 id="Using-XMLHttpRequest"><a href="#Using-XMLHttpRequest" class="headerlink" title="Using XMLHttpRequest"></a>Using <code>XMLHttpRequest</code></h3><p>In short, you can <strong>obtain data with with JavaScript using a <code>XMLHttpRequest</code> to a backend server</strong>.</p>
<blockquote>
<p>The API called <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener"><code>XMLHttpRequest</code></a> (often called <strong>XHR</strong>). This is a very useful JavaScript object that allows us to make network  requests to retrieve resources from a server via JavaScript (e.g.  images, text, JSON, even HTML snippets), meaning that we can <strong>update small sections of content without having to reload the entire page</strong>.</p>
</blockquote>
<p>To do this, you usually need to:</p>
<ol>
<li>prepare the <code>requestURL</code></li>
<li>create a <code>new XMLHttpRequest()</code></li>
<li>open the request and set the request methods and request URL</li>
<li>set the expected response type</li>
<li><strong>send</strong> the request</li>
<li>format the <strong>response</strong> in the <code>request.response</code> into your HTML<ul>
<li>here you will use the <code>onload</code> function</li>
</ul>
</li>
</ol>
<p><strong><em>For Example</em></strong></p>
<p>For step 1-5:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> requestURL =</span><br><span class="line">    <span class="string">'https://mdn.github.io/learningarea/javascript/oojs/json/superheroes.json'</span>;</span><br><span class="line"><span class="keyword">let</span> request = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">request.open(<span class="string">"GET"</span>, requestURL);</span><br><span class="line">request.responseType = <span class="string">"json"</span>;</span><br><span class="line">request.send();</span><br></pre></td></tr></table></figure>

<p>For step 6:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">request.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// this variable now contains the JavaScript object based on the JSON!</span></span><br><span class="line">  <span class="keyword">const</span> superHeroes = request.response;</span><br><span class="line">  <span class="comment">// these two functions below will format the webpage</span></span><br><span class="line">  populateHeader(superHeroes);</span><br><span class="line">  showHeroes(superHeroes);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>The <strong><code>XMLHttpRequest.onload</code></strong> is the function <strong>called</strong> when an <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener"><code>XMLHttpRequest</code></a> transaction <strong>completes successfully</strong>.</li>
</ul>
<p>Lastly, to format the data into the web page:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./javascripts/superheroes.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>and to populate the <code>header</code> and <code>section</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> header = <span class="built_in">document</span>.querySelector(<span class="string">'header'</span>);</span><br><span class="line"><span class="keyword">const</span> section = <span class="built_in">document</span>.querySelector(<span class="string">'section'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">populateHeader</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> myH1 = <span class="built_in">document</span>.createElement(<span class="string">'h1'</span>); <span class="comment">// creates an &lt;h1&gt; element</span></span><br><span class="line">    myH1.textContent = obj[<span class="string">'squadName'</span>]; <span class="comment">// sets the text content of the element</span></span><br><span class="line">    header.appendChild(myH1); <span class="comment">// add the element under the `header`</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> myPara = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">    myPara.textContent = <span class="string">'Hometown: '</span> + obj[<span class="string">'homeTown'</span>] + <span class="string">' // Formed: '</span> + obj[<span class="string">'formed'</span>];</span><br><span class="line">    header.appendChild(myPara);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showHeroes</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> heroes = obj[<span class="string">'members'</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; heroes.length; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> myArticle = <span class="built_in">document</span>.createElement(<span class="string">'article'</span>);</span><br><span class="line">        <span class="keyword">const</span> myH2 = <span class="built_in">document</span>.createElement(<span class="string">'h2'</span>);</span><br><span class="line">        <span class="keyword">const</span> myPara1 = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">        <span class="keyword">const</span> myPara2 = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">        <span class="keyword">const</span> myPara3 = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">        <span class="keyword">const</span> myList = <span class="built_in">document</span>.createElement(<span class="string">'ul'</span>);</span><br><span class="line"></span><br><span class="line">        myH2.textContent = heroes[i].name;</span><br><span class="line">        myPara1.textContent = <span class="string">'Secret identity: '</span> + heroes[i].secretIdentity;</span><br><span class="line">        myPara2.textContent = <span class="string">'Age: '</span> + heroes[i].age;</span><br><span class="line">        myPara3.textContent = <span class="string">'Superpowers:'</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> superPowers = heroes[i].powers;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; superPowers.length; j++) &#123;</span><br><span class="line">            <span class="keyword">const</span> listItem = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</span><br><span class="line">            listItem.textContent = superPowers[j];</span><br><span class="line">            myList.appendChild(listItem);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        myArticle.appendChild(myH2);</span><br><span class="line">        myArticle.appendChild(myPara1);</span><br><span class="line">        myArticle.appendChild(myPara2);</span><br><span class="line">        myArticle.appendChild(myPara3);</span><br><span class="line">        myArticle.appendChild(myList);</span><br><span class="line"></span><br><span class="line">        section.appendChild(myArticle);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Converting-between-Objects-and-Text"><a href="#Converting-between-Objects-and-Text" class="headerlink" title="Converting between Objects and Text"></a>Converting between Objects and Text</h4><p>The above section worked with a piece of JSON data directly. However, sometimes data sent are in the forms of a <code>String</code>, or that you need to send data across in <code>String</code>. As a result, you need to convert between a <code>String</code> to a JS <code>Object</code>.</p>
<p>To do this, use the <strong>functions</strong> of the <code>JSON</code> object:</p>
<ul>
<li><code>parse()</code>: Accepts a JSON string as a parameter, and returns the corresponding JavaScript object.</li>
<li><code>stringify()</code>: Accepts an object as a parameter, and returns the equivalent JSON string.</li>
</ul>
<p><strong><em>For Example:</em></strong></p>
<p>If instead of <code>JSON</code>, you receive <code>text</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">request.open(<span class="string">'GET'</span>, requestURL);</span><br><span class="line">request.responseType = <span class="string">'text'</span>; <span class="comment">// now we're getting a string!</span></span><br><span class="line">request.send();</span><br><span class="line"></span><br><span class="line">request.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> superHeroesText = request.response; <span class="comment">// get the string from the response</span></span><br><span class="line">  <span class="keyword">const</span> superHeroes = <span class="built_in">JSON</span>.parse(superHeroesText); <span class="comment">// convert it to an object</span></span><br><span class="line">  populateHeader(superHeroes);</span><br><span class="line">  showHeroes(superHeroes);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>and to use <code>stringify()</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myObj = &#123; <span class="attr">name</span>: <span class="string">"Chris"</span>, <span class="attr">age</span>: <span class="number">38</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> myString = <span class="built_in">JSON</span>.stringify(myObj);</span><br></pre></td></tr></table></figure>

<h2 id="Asynchronous-JavaScript"><a href="#Asynchronous-JavaScript" class="headerlink" title="Asynchronous JavaScript"></a>Asynchronous JavaScript</h2><p>This section assumes some prior knowledge of threading and blocking, so that you need to know:</p>
<ul>
<li>a <strong>browser blocks</strong> user’s inputs when the (JS) application has not been computed/rendered</li>
<li>programs <strong>by default</strong> are <strong>single threaded</strong> (main thread)</li>
</ul>
<p>Therefore, the solution is avoid blocking is to:</p>
<ol>
<li>do some expensive task in another thread:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  Main thread: Task A --&gt; Task C</span><br><span class="line">Worker thread: Expensive task B</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>use asynchronous programming with a <code>Promise</code></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Main thread: Task A                   Task B</span><br><span class="line">    Promise:      |__async operation__|</span><br></pre></td></tr></table></figure>

<p><strong><em>For Example:</em> Simple Asynchronous JavaScript</strong></p>
<p>Consider the case when you are downloading an image, and then need to do something (e.g. apply a filter) to that image:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> response = fetch(<span class="string">'myImage.png'</span>); <span class="comment">// fetch is asynchronous</span></span><br><span class="line"><span class="keyword">let</span> blob = response.blob(); <span class="comment">// display your image blob in the UI somehow</span></span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>because <code>fetch</code> is <code>async</code>, it immediately goes on the next line of code <strong>without the promise</strong> that the download has finished.<ul>
<li>as a result, the second line will throw an error if the data isn’t ready</li>
</ul>
</li>
</ul>
<h3 id="Async-Callbacks"><a href="#Async-Callbacks" class="headerlink" title="Async Callbacks"></a>Async Callbacks</h3><blockquote>
<p><strong>Reminder: Callback functions</strong></p>
<ul>
<li><p>Callback functions are just functions passed in as an argument into another function. When the background code <strong>finishes</strong> running, it <strong>calls the callback function</strong> to let you know the work is done, or to let you know that  something of interest has happened.</p>
</li>
<li><p>for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(<span class="string">'click'</span>, () =&gt; &#123;</span><br><span class="line">  alert(<span class="string">'You clicked me!'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> pElem = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">  pElem.textContent = <span class="string">'This is a newly-added paragraph.'</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(pElem);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><code>&#39;click&#39;</code> is the first argument, specifying the type of event that <code>btn</code> to listen for</li>
<li>the second argument is the <strong>callback</strong> function, so that it is invoked <strong>after</strong> the event is fired</li>
</ul>
</li>
</ul>
</blockquote>
<p>A more complete and relevant example would be:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadAsset</span>(<span class="params">url, type, callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">  xhr.open(<span class="string">'GET'</span>, url);</span><br><span class="line">  xhr.responseType = type;</span><br><span class="line"></span><br><span class="line">  xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    callback(xhr.response);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  xhr.send();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayImage</span>(<span class="params">blob</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> objectURL = URL.createObjectURL(blob);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> image = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">  image.src = objectURL;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(image);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loadAsset(<span class="string">'coffee.jpg'</span>, <span class="string">'blob'</span>, displayImage);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><code>callback</code> argument in the <code>loadAsset()</code> serves as a callback function that is <strong>waiting</strong> on the XHR call to <strong>finish downloading the resource</strong> (using the <code>onload</code> event handler) before it passes it to the callback.</li>
</ul>
<h3 id="Promises"><a href="#Promises" class="headerlink" title="Promises"></a>Promises</h3><p>Promises are the <strong>new style of async code</strong> that you’ll see used in modern Web APIs. A good example is the <code>fetch()</code> API, which is basically like a modern, <strong>more efficient version of <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener"><code>XMLHttpRequest</code></a>.</strong></p>
<p>In short, a <code>Promise</code> is:</p>
<ul>
<li><p>it’s the browser’s way of saying “<em>I promise to get back to you with the answer as soon as I can</em>“</p>
</li>
<li><p>technically, it’s an <strong>object</strong> representing the completion or failure of the async operation (i.e. it is on its way, but it <strong>could succeed <em>or</em> fail</strong>)</p>
</li>
</ul>
<p><strong><em>For Example:</em> Using <code>fetch</code></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">'products.json'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123; <span class="comment">// the first promise is the response</span></span><br><span class="line">  <span class="keyword">return</span> response.json();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">json</span>) </span>&#123; <span class="comment">// the second promise is response.json (chained promises)</span></span><br><span class="line">  products = json;</span><br><span class="line">  initialize();</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Fetch problem: '</span> + err.message);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><code>fetch()</code> taking a single parameter — the URL of a resource you want to fetch from the network — and returning a <code>promise</code></li>
</ul>
<p>then, <strong>after the <code>async</code> <code>fetch</code> comes back with result</strong>, you have:</p>
<ul>
<li><strong>Two <code>then()</code> blocks</strong>. Both contain a callback function that will run <em>if the previous operation is successful</em>, and <strong><em>each callback receives as input the result of the previous successful operation</em></strong>, so you can go forward and do  something else to it. <ul>
<li>In fact, <strong>each <code>.then()</code> block returns another promise</strong>, meaning that you can chain multiple <code>.then()</code> blocks onto each other, so multiple asynchronous operations can be made to run in order, one after another.</li>
</ul>
</li>
<li><strong>The <code>catch()</code> block</strong> at the end runs if any of the <code>.then()</code> blocks fail<ul>
<li>in a similar way to synchronous <code>try...catch</code> blocks, an error object is made available inside the <code>catch()</code>, which can be used to report the kind of error that has occurred. Note however that synchronous <code>try...catch</code> won’t work with promises, although it will work with <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Async_await" target="_blank" rel="noopener">async/await</a>, as you’ll learn later on.</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>In essence:</strong></p>
<ul>
<li><code>Promise</code>s are essentially a returned object to which you <strong><em>attach</em></strong> callback functions (with <code>.then()</code>), rather than having to <strong><em>pass</em></strong> callbacks into a function.</li>
</ul>
</blockquote>
<h4 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all"></a><code>Promise.all</code></h4><p>For the code before, we are just waiting for a single promise, and then deal with it asynchronously with <code>.then()</code>. But <strong>what if</strong> you want to run some code <strong>only after a whole bunch of promises have <em>all</em> fulfilled</strong>?</p>
<p>To do this, you can use the <code>Promise.all()</code> static method:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all([a, b, c]).then(<span class="function"><span class="params">values</span> =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>the <code>.then()</code> block runs only after <strong>all three</strong> Promises <code>a</code>, <code>b</code>, <code>c</code> returned.</li>
<li>the <strong>returned</strong> <code>values</code> will be an <strong>array of three Promises</strong>, in the order of <code>[resultA, resultB, resultC]</code></li>
</ul>
<p><strong><em>For Example:</em></strong></p>
<p>Below will send three requests, and render the webpage only when <strong>all three request’s data</strong> have been received.</p>
<p>Step 1, <strong>send</strong> the three requests async:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> coffee = fetchAndDecode(<span class="string">'coffee.jpg'</span>, <span class="string">'blob'</span>);</span><br><span class="line"><span class="keyword">let</span> tea = fetchAndDecode(<span class="string">'tea.jpg'</span>, <span class="string">'blob'</span>);</span><br><span class="line"><span class="keyword">let</span> description = fetchAndDecode(<span class="string">'description.txt'</span>, <span class="string">'text'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fetchAndDecode</span>(<span class="params">url, type</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Returning the top level promise (result of the entire chain)</span></span><br><span class="line">    <span class="keyword">return</span> fetch(url)</span><br><span class="line">        .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(!response.ok) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`HTTP error! status: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(type === <span class="string">'blob'</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> response.blob();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(type === <span class="string">'text'</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> response.text();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">        .catch(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`There has been a problem with your fetch operation for resource "<span class="subst">$&#123;url&#125;</span>": `</span> + e.message);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Step 2: wait for <strong>all three Promises async</strong>, and <strong>then</strong> render the page:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all([coffee, tea, description]).then(<span class="function"><span class="params">values</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(values);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Store each value returned from the promises in separate variables</span></span><br><span class="line">    <span class="comment">//create object URLs from the blobs</span></span><br><span class="line">    <span class="keyword">let</span> objectURL1 = URL.createObjectURL(values[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">let</span> objectURL2 = URL.createObjectURL(values[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">let</span> descText = values[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Display the images in &lt;img&gt; elements</span></span><br><span class="line">    <span class="keyword">let</span> image1 = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">    <span class="keyword">let</span> image2 = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">    image1.src = objectURL1;</span><br><span class="line">    image2.src = objectURL2;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(image1);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(image2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Display the text in a paragraph</span></span><br><span class="line">    <span class="keyword">let</span> para = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">    para.textContent = descText;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(para);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>basically now <code>values[0]</code> will be the result from <code>coffee</code> request, <code>values[1]</code> will be from <code>tea</code> request, and <code>values[2]</code> will be from <code>description</code> request</li>
</ul>
<h4 id="finally-for-Promises"><a href="#finally-for-Promises" class="headerlink" title="finally for Promises"></a><code>finally</code> for Promises</h4><p>In short, this is the same as the <code>try...catch...finally</code> logic in languages like Java.</p>
<ul>
<li>the <code>.finally()</code> method can be chained onto the end of your regular promise chain, and is guaranteed to be run in the end</li>
</ul>
<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fetchAndDecode</span>(<span class="params">url, type</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> fetch(url).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(!response.ok) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`HTTP error! status: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(type === <span class="string">'blob'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> response.blob();</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(type === <span class="string">'text'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> response.text();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`There has been a problem with your fetch operation for resource "<span class="subst">$&#123;url&#125;</span>": `</span> + e.message);</span><br><span class="line">  &#125;)</span><br><span class="line">  .finally(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`fetch attempt for "<span class="subst">$&#123;url&#125;</span>" finished.`</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><code>fetch attempt for &quot;${url}&quot; finished.</code> will be printed in console no matter the requests failed or succeeded.</li>
</ul>
<h4 id="Creating-Own-Promises"><a href="#Creating-Own-Promises" class="headerlink" title="Creating Own Promises"></a>Creating Own Promises</h4><p>In short, we know that a promise “does two things”:</p>
<ol>
<li>resolve/fulfill the task<ul>
<li>the underneath <code>resolve()</code> function</li>
</ul>
</li>
<li>failed to resolve/fulfill the task<ul>
<li>the underneath <code>reject()</code> function</li>
</ul>
</li>
</ol>
<p>Therefore, this is the <strong>common usage of a <code>Promise()</code> constructor</strong>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(resolveFunction, rejectFunction);</span><br></pre></td></tr></table></figure>

<p>so that you will have code like this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myFirstPromise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// do something asynchronous which eventually calls either:</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">//   resolve(someValue)        // fulfilled</span></span><br><span class="line">  <span class="comment">// or</span></span><br><span class="line">  <span class="comment">//   reject("failure reason")  // rejected</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong><em>For Example:</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeoutPromise</span>(<span class="params">message, interval</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (message === <span class="string">''</span> || <span class="keyword">typeof</span> message !== <span class="string">'string'</span>) &#123;</span><br><span class="line">      reject(<span class="string">'Message is empty or not a string'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (interval &lt; <span class="number">0</span> || <span class="keyword">typeof</span> interval !== <span class="string">'number'</span>) &#123;</span><br><span class="line">      reject(<span class="string">'Interval is negative or not a number'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        resolve(message);</span><br><span class="line">      &#125;, interval);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">timeoutPromise(<span class="string">'Hello there!'</span>, <span class="number">1000</span>)</span><br><span class="line"><span class="comment">// then will execute</span></span><br><span class="line">.then(<span class="function"><span class="params">message</span> =&gt;</span> &#123;</span><br><span class="line">   alert(message);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Error: '</span> + e);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">timeoutPromise(<span class="string">'Hello there!'</span>, <span class="number">-1</span>)</span><br><span class="line">.then(<span class="function"><span class="params">message</span> =&gt;</span> &#123;</span><br><span class="line">   alert(message);</span><br><span class="line">&#125;) <span class="comment">// catch will execute</span></span><br><span class="line">.catch(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Error: '</span> + e);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>if <strong>successful</strong>, the <strong>data Promise</strong> will be a string of<code>&quot;Success&quot;</code> (in analogy of what we have done with <code>fetch</code>, the success result is a the <code>response</code>)</li>
<li>if <strong>failed</strong>, the <strong>error</strong> will be the string error message inside the <code>reject()</code> clause.</li>
</ul>
<hr>
<p><strong><em>For Example:</em>Mimicking <code>fetch</code></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myAsyncFunction</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    xhr.open(<span class="string">"GET"</span>, url);</span><br><span class="line">    xhr.onload = <span class="function"><span class="params">()</span> =&gt;</span> resolve(xhr.responseText); <span class="comment">// data if success</span></span><br><span class="line">    xhr.onerror = <span class="function"><span class="params">()</span> =&gt;</span> reject(xhr.statusText); <span class="comment">// data/reason if failed</span></span><br><span class="line">    xhr.send();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>this basically mimics what happens under a <code>fetch</code> API</li>
</ul>
<h2 id="Introduction-to-Events"><a href="#Introduction-to-Events" class="headerlink" title="Introduction to Events"></a>Introduction to Events</h2><p>In the case of the Web, events are <strong>fired inside the browser window</strong>, and tend to be <strong>attached to a specific item</strong> that resides in it — this might be a single element, set of elements, the HTML document loaded in the current tab, or the entire browser window.</p>
<p>There are many different  types of events that can occur. For example:</p>
<ul>
<li>The user <strong>selects</strong> a certain element or <strong>hovers</strong> the cursor over a certain element.</li>
<li>The user <strong>hits</strong> a key on the keyboard.</li>
<li>The user <strong>resizes or closes</strong> the browser <strong>window</strong>.</li>
<li>A web page <strong>finishes loading</strong>.</li>
<li>A <strong>form</strong> is <strong>submitted</strong>.</li>
<li>A <strong>video</strong> is played, paused, or finishes.</li>
<li>An <strong>error</strong> occurs.</li>
</ul>
<p>There are even more in the MDN <a href="https://developer.mozilla.org/en-US/docs/Web/Events" target="_blank" rel="noopener">Event reference</a>.</p>
<p>Now, to <strong>interact</strong> with the events, you typically use the <code>event handler</code>.</p>
<ul>
<li>Each available event has an <strong>event handler</strong>, which is a  block of code (usually a JavaScript function that you as a programmer  create) that runs when the event fires. <ul>
<li>When such a block of code is  defined to run in response to an event, we say we are <strong>registering an event handler</strong>. </li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Note</strong>: </p>
<ul>
<li>Event handlers are sometimes called <strong>event listeners</strong> — they are pretty much interchangeable for our purposes, although strictly speaking: the <strong><em>listener listens</em></strong> out for the  event happening, and the <strong><em>handler</em></strong> is the code that is run in <strong><em>response</em></strong> to it happening.</li>
</ul>
</blockquote>
<p><strong><em>For Example:</em> A simple Example</strong></p>
<p>First, in the <code>html</code>, there is a button element:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>Change color<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>then, we would like to interact with the <code>click</code> event of the button:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (number+<span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> rndCol = <span class="string">'rgb('</span> + random(<span class="number">255</span>) + <span class="string">','</span> + random(<span class="number">255</span>) + <span class="string">','</span> + random(<span class="number">255</span>) + <span class="string">')'</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.style.backgroundColor = rndCol;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>first we <strong>store a reference to the button</strong> inside a constant called <code>btn</code>, using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector" target="_blank" rel="noopener"><code>Document.querySelector()</code></a> function</li>
<li>then we <strong>defined a function <code>random()</code> that returns a number</strong></li>
<li>finally, we have the event handler: the object <code>button</code> has a number of events that can fire on it, and  therefore, event handlers available.<ul>
<li>Here, we are <strong>listening for the <code>click</code> event firing</strong>, by setting the <code>onclick</code> event handler property to equal an anonymous function containing code that generates a random RGB color and sets the <code>&lt;body&gt;</code> <code>background-color</code> equal to it.</li>
<li>Therefore, the <strong>event handler code</strong> runs/handles <strong>whenever the <code>click</code> event fires</strong> on the <code>&lt;button&gt;</code> element, that is, whenever a user selects it.</li>
</ul>
</li>
</ul>
<h3 id="Event-Handler-Properties"><a href="#Event-Handler-Properties" class="headerlink" title="Event Handler Properties"></a>Event Handler Properties</h3><p>In short, those are <strong>properties</strong> that exists to <strong>contain the event handler code</strong>.</p>
<p>An example would be the above code:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line"></span><br><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> rndCol = <span class="string">`rgb(<span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>,<span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>,<span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>)`</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.style.backgroundColor = rndCol;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>The <code>onclick</code> <strong>property</strong> would <strong>contain the code for handling the event <code>click</code></strong></li>
</ul>
<p>In fact, some other <strong>common event handler properties</strong> include:</p>
<ul>
<li><code>btn.onfocus</code> and <code>btn.onblur</code><ul>
<li>The color changes when the button is focused (selected) and unfocused (unselected);</li>
</ul>
</li>
<li><code>btn.ondblclick</code><ul>
<li>the color changes when the button is double clicked</li>
</ul>
</li>
<li><code>window.onkeypress</code>, <code>window.onkeydown</code>, <code>window.onkeyup</code><ul>
<li>The color changes when a key is pressed on the keyboard.</li>
<li>note that we register it on the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window" target="_blank" rel="noopener">window</a> object, which represents the entire browser window.</li>
</ul>
</li>
<li><code>btn.onmouseover</code> and <code>btn.onmouseout</code><ul>
<li>The color changes when the mouse pointer hovers over the button, or when the pointer moves off the button, respectively.</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Note that:</strong></p>
<ul>
<li>Some <strong><em>events are general and available nearly anywhere</em></strong> (e.g. an <code>onclick</code> handler can be registered on nearly any element), whereas some are more specific and only useful in certain situations (e.g. it makes sense to  use <a href="https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/GlobalEventHandlers.onplay" target="_blank" rel="noopener">onplay</a> only on specific elements, such as <code>video</code>).</li>
</ul>
</blockquote>
<p><strong><em>For Example:</em> Using <code>foreach</code> with handler property</strong></p>
<p>Sometimes, when you want to set a number of buttons on the page to simultaneously, you can do:</p>
<ol>
<li>select all the button elements</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buttons = <span class="built_in">document</span>.querySelectorAll(<span class="string">'button'</span>);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Iterate through the array of buttons and assign them:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// either</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; buttons.length; i++) &#123;</span><br><span class="line">  buttons[i].onclick = bgChange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">buttons.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">button</span>) </span>&#123;</span><br><span class="line">  button.onclick = bgChange;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>The <strong><code>forEach()</code></strong> method of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList" target="_blank" rel="noopener"><code>NodeList</code></a> interface calls the callback given in parameter once for each value pair in the list</li>
</ul>
<h3 id="Using-addEventListener"><a href="#Using-addEventListener" class="headerlink" title="Using addEventListener()"></a>Using <code>addEventListener()</code></h3><p>Instead of setting the event handler/listener inside the property, you can use the <code>addEventListener()</code> directly to the object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">target.addEventListener(type, listener [, options]);</span><br></pre></td></tr></table></figure>

<p>For instance, converting the previous example into <code>addEventListener()</code> code, you will have:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bgChange</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> rndCol = <span class="string">'rgb('</span> + random(<span class="number">255</span>) + <span class="string">','</span> + random(<span class="number">255</span>) + <span class="string">','</span> + random(<span class="number">255</span>) + <span class="string">')'</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.style.backgroundColor = rndCol;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// listens for the 'click' event and handles with 'bgChange'</span></span><br><span class="line">btn.addEventListener(<span class="string">'click'</span>, bgChange);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>Inside the <code>addEventListener()</code> function, there are two parameters:<ul>
<li>the <strong>name of the event</strong> we want to this <code>target=btn</code> to <strong>listen</strong> to</li>
<li>the <strong>code</strong> that comprises the handler function we want to run in <strong>handle</strong> it.</li>
</ul>
</li>
</ul>
<p>There are some advantages of this over the mechanism of using property:</p>
<ol>
<li>there is a <strong>counterpart</strong> function, <code>removeEventListener()</code> which <strong>removes</strong> a previously added listener. </li>
<li>you can perform various functions at the same time with <code>addEventListener()</code></li>
</ol>
<p><strong><em>For Example:</em> Using <code>addEventListener</code> and <code>removeEventListener</code></strong></p>
<p>To register <strong>multiple handlers to execute simultaneously</strong> when an event is fired:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">myElement.addEventListener(<span class="string">'click'</span>, functionA);</span><br><span class="line">myElement.addEventListener(<span class="string">'click'</span>, functionB);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* this will just have `functionB` registered</span></span><br><span class="line"><span class="comment">myElement.onclick = functionA;</span></span><br><span class="line"><span class="comment">myElement.onclick = functionB;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>then, to <strong>remove</strong> <strong>one of the handlers</strong>, use:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myElement.removeEventListener(<span class="string">'click'</span>, functionA);</span><br></pre></td></tr></table></figure>

<h3 id="The-Event-Object"><a href="#The-Event-Object" class="headerlink" title="The Event Object"></a>The Event Object</h3><p>The <strong>event object</strong> is <strong>automatically passed to event</strong> handlers to provide extra features and information.</p>
<ul>
<li>one useful property of the <code>event</code> object is the <code>event.target</code> - a <strong>reference</strong> to the <strong>element the event occurred upon</strong></li>
</ul>
<p><strong><em>For Example:</em> Changing the color of the button itself</strong></p>
<p>To get the button, you can <strong>use the <code>e.target</code></strong> instead of the <code>btn</code> Object.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bgChange</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> rndCol = <span class="string">'rgb('</span> + random(<span class="number">255</span>) + <span class="string">','</span> + random(<span class="number">255</span>) + <span class="string">','</span> + random(<span class="number">255</span>) + <span class="string">')'</span>;</span><br><span class="line">  e.target.style.backgroundColor = rndCol;</span><br><span class="line">  <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">btn.addEventListener(<span class="string">'click'</span>, bgChange);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>notice that the handler function now takes the argument <code>e</code>/<code>evt</code>/<code>event</code> object, which is <strong>automatically passed in when an event occurs</strong></li>
</ul>
<blockquote>
<p>Most event handlers you’ll encounter have a standard set of properties and functions (methods) available on the event object; see the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event" target="_blank" rel="noopener"><code>Event</code></a> object reference for a full list. </p>
</blockquote>
<h3 id="Preventing-Default-Behavior"><a href="#Preventing-Default-Behavior" class="headerlink" title="Preventing Default Behavior"></a>Preventing Default Behavior</h3><p>In short, this uses the <strong>function <code>preventDefault()</code> of the <code>event</code> Object</strong></p>
<ul>
<li>this is useful when, for example, a user has filled the form incompletely, and you want to <strong>prevent the action of submitting the incomplete form.</strong></li>
</ul>
<p><strong><em>For Example:</em></strong></p>
<p>First, you have the form <code>html</code>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"fname"</span>&gt;</span>First name: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"fname"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"lname"</span>&gt;</span>Last name: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"lname"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"submit"</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>then, you need to <strong>alter the <code>event</code> object</strong> so that its default action of submitting (for a form) is prevented:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> form = <span class="built_in">document</span>.querySelector(<span class="string">'form'</span>);</span><br><span class="line"><span class="keyword">const</span> fname = <span class="built_in">document</span>.getElementById(<span class="string">'fname'</span>);</span><br><span class="line"><span class="keyword">const</span> lname = <span class="built_in">document</span>.getElementById(<span class="string">'lname'</span>);</span><br><span class="line"><span class="keyword">const</span> para = <span class="built_in">document</span>.querySelector(<span class="string">'p'</span>);</span><br><span class="line"></span><br><span class="line">form.onsubmit = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (fname.value === <span class="string">''</span> || lname.value === <span class="string">''</span>) &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    para.textContent = <span class="string">'You need to fill in both names!'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Event-Capturing-and-Bubbling"><a href="#Event-Capturing-and-Bubbling" class="headerlink" title="Event Capturing and Bubbling"></a>Event Capturing and Bubbling</h3><p>This talks about the phenomena that, since <strong>some elements have a layered/nested structure</strong>, (e.g. the <code>video</code> element below is inside the <code>div</code>), clicking the <code>video</code> will have also clicked the <code>div</code>:</p>
<p><img src="D:%5Cjasonyux-Blog%5CHexo%5Csource_posts%5CJavaScript-Summary%5CSnipaste_2021-01-01_18-21-06.png" alt=""></p>
<blockquote>
<p> (source: <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events</a>)</p>
</blockquote>
<p>As a result, some unwanted action might happen. If you want to only trigger the <code>onclick</code> of the <code>video</code>, then you first need to understand the <strong>bubbling and capturing phase</strong>:</p>
<p>In the <strong>capturing</strong> phase:</p>
<ul>
<li>The browser checks to see if the element’s <strong>outer-most</strong> ancestor (<code>html</code>) has an <code>onclick</code> event handler registered on it for the capturing phase, and runs it if so.</li>
<li><strong><em>Then</em></strong> it moves on to the next element <strong>inside <code>&lt;html&gt;</code></strong> and does the same thing, then the next one, and so on until it reaches the element that was actually selected.</li>
</ul>
<p>In the <strong>bubbling</strong> phase, the exact opposite occurs:</p>
<ul>
<li>The browser checks to see if the element selected <strong>(innermost)</strong> has an <code>onclick</code> event handler registered on it for the bubbling phase, and runs it if so.</li>
<li><strong><em>Then</em></strong> it moves on to the <strong>next immediate ancestor</strong> element and does the same thing, then the next one, and so on until it reaches the <code>&lt;html&gt;</code> element.</li>
</ul>
<blockquote>
<p>In modern browsers, <strong>by default</strong>, all <strong>event handlers are registered for the bubbling phase</strong>.</p>
<ul>
<li>this means that <strong><em>it is the <code>Event</code> object that bubbles up from handlers</em></strong></li>
</ul>
<p>If you really want to register an event in the <strong>capturing phase</strong> instead, you can do so by registering your handler using <code>addEventListener()</code>, and setting the optional third property to <code>true</code>.</p>
</blockquote>
<p>Therefore, the solution here is to stop the bubbling propagation with the <code>stopPropagation()</code>, so that when the <strong>innermost <code>video</code> is clicked</strong>, the <strong>outer</strong> <code>div</code> and so on are <strong>not triggered</strong>.</p>
<ul>
<li>technically: the <strong>standard <code>Event</code> object</strong> has a function available on it called <code>stopPropagation()</code> which, when invoked on a handler’s event object, makes it so that <strong>first handler is run but the event doesn’t bubble any further up the chain</strong>,  so no more handlers will be run.</li>
</ul>
<p>In code, you will need:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `videoBox` is the outer `div` element</span></span><br><span class="line">videoBox.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  videoBox.setAttribute(<span class="string">'class'</span>, <span class="string">'hidden'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// `video` is the inner `video` element</span></span><br><span class="line">video.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  e.stopPropagation();</span><br><span class="line">  video.play();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Event-Delegation"><a href="#Event-Delegation" class="headerlink" title="Event Delegation"></a>Event Delegation</h3><p>This talks about <strong>utilizing the bubbling</strong> propagation to <strong>gain information on its immediate child</strong>.</p>
<ul>
<li>since the <code>Event</code> object gets bubbled up, we can check the value of the <code>event.target</code> to know the child value</li>
</ul>
<p>Consider the case where you have a list of items:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"parent-list"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-1"</span>&gt;</span>Item 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-2"</span>&gt;</span>Item 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-3"</span>&gt;</span>Item 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-4"</span>&gt;</span>Item 4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-5"</span>&gt;</span>Item 5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-6"</span>&gt;</span>Item 6<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>then you want to have an event listener <strong>for each item if it gets clicked</strong>. The most efficient way is to utilize the bubbling and the <code>event</code> object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Get the element, add a click listener...</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"parent-list"</span>).addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">	<span class="comment">// e.target is the clicked element!</span></span><br><span class="line">	<span class="comment">// If it was a list item</span></span><br><span class="line">	<span class="keyword">if</span>(e.target &amp;&amp; e.target.nodeName == <span class="string">"LI"</span>) &#123;</span><br><span class="line">		<span class="comment">// List item found!  Output the ID!</span></span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"List item "</span>, e.target.id.replace(<span class="string">"post-"</span>, <span class="string">""</span>), <span class="string">" was clicked!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li>the <code>Event</code> object is <strong>bubbled</strong> up, <strong>so <code>Event.target</code> contains the innermost clicked information</strong></li>
</ul>
<h2 id="Introduction-to-APIs"><a href="#Introduction-to-APIs" class="headerlink" title="Introduction to APIs"></a>Introduction to APIs</h2><p>This section assumes some prior knowledge/experience of using APIs. So that you know what APIs are, and have used them at least for once.</p>
<h3 id="APIs-in-Client-Side-JavaScript"><a href="#APIs-in-Client-Side-JavaScript" class="headerlink" title="APIs in Client-Side JavaScript"></a>APIs in Client-Side JavaScript</h3><p>Client-side APIs include:</p>
<ul>
<li><strong>Browser APIs</strong><ul>
<li>APIs built into your web browser and are able to <strong>expose data from the browser and surrounding computer environment</strong> and do useful complex things with it. </li>
<li><em>For example</em>, the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API" target="_blank" rel="noopener">Web Audio API</a> provides JavaScript constructs for manipulating audio in the browser —  taking an audio track, altering its volume, applying effects to it, etc.</li>
</ul>
</li>
<li><strong>Third-party APIs</strong><ul>
<li>APIs <strong>not</strong> built into the browser by default, and you generally have to <strong>retrieve their code and information from somewhere on the Web</strong>. </li>
<li>For example, the <a href="https://dev.twitter.com/overview/documentation" target="_blank" rel="noopener">Twitter API</a> allows you to do things like displaying your latest tweets on your website.</li>
</ul>
</li>
</ul>
<p>And importantly, the distinction between JavaScript Library and JavaScript Frameworks</p>
<ul>
<li><strong>JavaScript libraries</strong> — Usually one or more <strong>JavaScript files</strong> containing <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Functions#Custom_functions" target="_blank" rel="noopener">custom functions</a> that you can attach to your web page to speed up or enable writing  common functionality. <ul>
<li>Examples include jQuery, Mootools and React.</li>
</ul>
</li>
<li><strong>JavaScript frameworks</strong> — The next step up from libraries, JavaScript frameworks (e.g. Angular and Ember) tend to be packages of HTML, CSS,  JavaScript, and other technologies that you <strong>install and then use to write an entire web application</strong> from scratch. <ul>
<li>The key difference between a library and a framework is “Inversion of Control”. When calling a  method from a library, the developer is in control. With a <strong><em>framework</em></strong>, the control is inverted: the <strong><em>framework calls the developer’s code</em></strong>. (i.e. you are just “configuring the framework’s behavior”)</li>
</ul>
</li>
</ul>
<h4 id="Common-APIs-to-Know"><a href="#Common-APIs-to-Know" class="headerlink" title="Common APIs to Know"></a>Common APIs to Know</h4><ul>
<li><p><strong>APIs for manipulating documents</strong> loaded into the browser. </p>
<ul>
<li>The most obvious example is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model" target="_blank" rel="noopener">DOM (Document Object Model) API</a>, which allows you to <strong><em>manipulate HTML and CSS</em></strong> — creating, removing and  changing HTML, dynamically applying new styles to your page, etc</li>
<li>see more in [Manipulating documents](#Manipulating documents)</li>
</ul>
</li>
<li><p><strong>APIs that fetch data from the server</strong> to update small sections of a webpage on their own are very commonly used. </p>
<ul>
<li>Some common examples include <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener"><code>XMLHttpRequest</code></a> and the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" target="_blank" rel="noopener">Fetch API</a>. You may also come across the term <strong>Ajax</strong>, which describes this technique.</li>
<li>see more in [Fetching data from the server](#Fetching data from the server)</li>
</ul>
</li>
<li><p><strong>APIs for drawing and manipulating graphics</strong> are now widely supported in browsers — the most popular ones are <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" target="_blank" rel="noopener">Canvas</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API" target="_blank" rel="noopener">WebGL</a>, which allow you to programmatically update the pixel data contained in an HTML <code>canvas</code> element to create 2D and 3D scenes.</p>
</li>
<li><p><strong><a href="https://developer.mozilla.org/en-US/Apps/Fundamentals/Audio_and_video_delivery" target="_blank" rel="noopener">Audio and Video APIs</a></strong> like <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement" target="_blank" rel="noopener"><code>HTMLMediaElement</code></a>, the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API" target="_blank" rel="noopener">Web Audio API</a>, and <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API" target="_blank" rel="noopener">WebRTC</a> allow you to do really interesting things with multimedia</p>
<ul>
<li>For example, creating custom UI controls for playing audio and video, displaying text tracks like captions and subtitles along with your videos</li>
</ul>
</li>
<li><p><strong>Device APIs</strong> are basically APIs for manipulating and  retrieving data from modern device hardware in a way that is useful for  web apps. </p>
<ul>
<li>Examples include telling the user that a useful update is  available on a web app via system notifications</li>
</ul>
</li>
<li><p><strong>Client-side storage APIs</strong> are becoming a lot more widespread in web browsers — the ability to store data on the client-side is very useful.</p>
<ul>
<li>There are a number of options available, e.g. simple name/value storage with the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API" target="_blank" rel="noopener">Web Storage API</a>, and more complex tabular data storage with the <a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener">IndexedDB API</a>.</li>
</ul>
</li>
</ul>
<p>In terms of Third-party APIs, some common ones are:</p>
<ul>
<li><p><strong>The <a href="https://dev.twitter.com/overview/documentation" target="_blank" rel="noopener">Twitter API</a>,</strong> which allows you to do things like displaying your latest tweets on your website.</p>
</li>
<li><p><strong>Map APIs</strong> like <a href="https://developer.mapquest.com/" target="_blank" rel="noopener">Mapquest</a> and the <a href="https://developers.google.com/maps/" target="_blank" rel="noopener">Google Maps API</a> allows you to do all sorts of things with maps on your web pages.</p>
</li>
<li><p><strong>The <a href="https://developers.facebook.com/docs/" target="_blank" rel="noopener">Facebook suite of APIs</a></strong> enables you to use various parts of the Facebook ecosystem to benefit  your app, for example by providing app login using Facebook login, accepting in-app payments, rolling out targeted ad campaigns, etc.</p>
</li>
<li><p>etc.</p>
</li>
</ul>
<h4 id="Entry-Points-of-Common-APIs"><a href="#Entry-Points-of-Common-APIs" class="headerlink" title="Entry Points of Common APIs"></a>Entry Points of Common APIs</h4><p>When using an API, you should make sure you know where the entry point  is for the API. </p>
<ul>
<li><p>In The <strong>Web Audio API</strong>, this is pretty simple — it is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/AudioContext" target="_blank" rel="noopener"><code>AudioContext</code></a> object, which needs to be used to do any audio manipulation whatsoever.</p>
</li>
<li><p>The <strong>Document Object Model (DOM) API</strong> also has a simple entry point — its features tend to be found hanging off the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document" target="_blank" rel="noopener"><code>Document</code></a> object, or an instance of an HTML element that you want to affect in some way</p>
</li>
<li><p>The <strong><a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" target="_blank" rel="noopener">Canvas API</a></strong> also relies on getting a context object to use to manipulate things, although in this case, it’s a graphical context rather than an audio  context.</p>
<ul>
<li>Its context object is created by getting a reference to the <code>canvas</code> element you want to draw on, and then calling its <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext" target="_blank" rel="noopener"><code>HTMLCanvasElement.getContext()</code></a> method</li>
</ul>
</li>
</ul>
<p><strong><em>For Example:</em> Using Web Audio API</strong></p>
<p>The entry point is usually the <code>AutioContext</code> Object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> AudioContext = <span class="built_in">window</span>.AudioContext || <span class="built_in">window</span>.webkitAudioContext;</span><br><span class="line"><span class="keyword">const</span> audioCtx = <span class="keyword">new</span> AudioContext();</span><br></pre></td></tr></table></figure>

<p>and then you could add functions such as:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> audioElement = <span class="built_in">document</span>.querySelector(<span class="string">'audio'</span>);</span><br><span class="line"><span class="keyword">const</span> playBtn = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line"></span><br><span class="line">playBtn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// check if context is in suspended state (autoplay policy)</span></span><br><span class="line">    <span class="keyword">if</span> (audioCtx.state === <span class="string">'suspended'</span>) &#123;</span><br><span class="line">        audioCtx.resume();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// if track is stopped, play it</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.getAttribute(<span class="string">'class'</span>) === <span class="string">'paused'</span>) &#123;</span><br><span class="line">        audioElement.play();</span><br><span class="line">        <span class="keyword">this</span>.setAttribute(<span class="string">'class'</span>, <span class="string">'playing'</span>);</span><br><span class="line">        <span class="keyword">this</span>.textContent = <span class="string">'Pause'</span></span><br><span class="line">    <span class="comment">// if track is playing, stop it</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.getAttribute(<span class="string">'class'</span>) === <span class="string">'playing'</span>) &#123;</span><br><span class="line">        audioElement.pause();</span><br><span class="line">        <span class="keyword">this</span>.setAttribute(<span class="string">'class'</span>, <span class="string">'paused'</span>);</span><br><span class="line">        <span class="keyword">this</span>.textContent = <span class="string">'Play'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// if track ends</span></span><br><span class="line">audioElement.addEventListener(<span class="string">'ended'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    playBtn.setAttribute(<span class="string">'class'</span>, <span class="string">'paused'</span>);</span><br><span class="line">    playBtn.textContent = <span class="string">'Play'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<hr>
<p><strong><em>For Example:</em> Using DOM APIs</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> em = <span class="built_in">document</span>.createElement(<span class="string">'em'</span>); <span class="comment">// create a new em element</span></span><br><span class="line"><span class="keyword">const</span> para = <span class="built_in">document</span>.querySelector(<span class="string">'p'</span>); <span class="comment">// reference an existing p element</span></span><br><span class="line">em.textContent = <span class="string">'Hello there!'</span>; <span class="comment">// give em some text content</span></span><br><span class="line">para.appendChild(em); <span class="comment">// embed em inside para</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong><em>For Example:</em> Canvas APIs</strong></p>
<p>To get the entry point for a Canvas, you usually <strong>use the <code>context</code></strong> of the <code>canvas</code> object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">'canvas'</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br></pre></td></tr></table></figure>

<p>then to put some custom shapes into the canvas, you can use the <code>context</code> object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Ball.prototype.draw = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ctx.beginPath();</span><br><span class="line">  ctx.fillStyle = <span class="keyword">this</span>.color;</span><br><span class="line">  ctx.arc(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.size, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI);</span><br><span class="line">  ctx.fill();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Manipulating-documents"><a href="#Manipulating-documents" class="headerlink" title="Manipulating documents"></a>Manipulating documents</h3><h3 id="Fetching-data-from-the-server"><a href="#Fetching-data-from-the-server" class="headerlink" title="Fetching data from the server"></a>Fetching data from the server</h3>
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/learning/2020/07/22/Spring-Security-Manual/" rel="prev" title="Spring Security (OAuth2) Manual">
      <i class="fa fa-chevron-left"></i> Spring Security (OAuth2) Manual
    </a></div>
      <div class="post-nav-item">
    <a href="/learning/2021/02/10/Kubernetes-Manual/" rel="next" title="Kubernetes Manual">
      Kubernetes Manual <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiao Yu</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/learning/lib/anime.min.js"></script>
  <script src="/learning/lib/velocity/velocity.min.js"></script>
  <script src="/learning/lib/velocity/velocity.ui.min.js"></script>

<script src="/learning/js/utils.js"></script>

<script src="/learning/js/motion.js"></script>


<script src="/learning/js/next-boot.js"></script>


  















  

  

</body>
</html>
