<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jasonyux.github.io","root":"/","scheme":"Pisces","version":"8.0.0-rc.3","exturl":false,"sidebar":{"position":"left","width":350,"display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="IMPORTANT:Much of the content here is a personal summary&#x2F;abbrieviation of contents on the Offical Spring Boot Documentation. For more complete information, please refer to the offical site.  Spring B">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot Manual">
<meta property="og:url" content="https://jasonyux.github.io/2020/06/09/SpringBoot-Manual/index.html">
<meta property="og:site_name" content="From a Beginner to a Disaster">
<meta property="og:description" content="IMPORTANT:Much of the content here is a personal summary&#x2F;abbrieviation of contents on the Offical Spring Boot Documentation. For more complete information, please refer to the offical site.  Spring B">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-06-09T03:35:00.000Z">
<meta property="article:modified_time" content="2020-06-22T13:28:57.198Z">
<meta property="article:author" content="Xiao Yu">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://jasonyux.github.io/2020/06/09/SpringBoot-Manual/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Spring Boot Manual | From a Beginner to a Disaster</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before, .use-motion .logo-line-after {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line-before"></i>
      <h1 class="site-title">From a Beginner to a Disaster</h1>
      <i class="logo-line-after"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Xiao.Y</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-Boot-Installation"><span class="nav-number">1.</span> <span class="nav-text">Spring Boot Installation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Structuring-Your-Code"><span class="nav-number">2.</span> <span class="nav-text">Structuring Your Code</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Auto-Configuration"><span class="nav-number">2.1.</span> <span class="nav-text">Auto-Configuration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Beans-and-Dependency-Injection-in-Spring-Boot"><span class="nav-number">2.2.</span> <span class="nav-text">Spring Beans and Dependency Injection in Spring Boot</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Running-Your-Application"><span class="nav-number">3.</span> <span class="nav-text">Running Your Application</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Compiling-and-Running-using-Maven-Plugin"><span class="nav-number">3.1.</span> <span class="nav-text">Compiling and Running using Maven Plugin</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Developer-Tools"><span class="nav-number">4.</span> <span class="nav-text">Developer Tools</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Enabling-spring-boot-devtools"><span class="nav-number">4.1.</span> <span class="nav-text">Enabling spring-boot-devtools</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-your-spring-boot-devtools"><span class="nav-number">4.2.</span> <span class="nav-text">Configuring your spring-boot-devtools</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Automatic-Reload"><span class="nav-number">4.3.</span> <span class="nav-text">Automatic Reload</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Automatic-Restart"><span class="nav-number">4.4.</span> <span class="nav-text">Automatic Restart</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Auto-Reload-vs-Auto-Restart"><span class="nav-number">4.5.</span> <span class="nav-text">Auto-Reload vs Auto-Restart</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Customizing-the-Restart-Classloader"><span class="nav-number">4.6.</span> <span class="nav-text">Customizing the Restart Classloader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LiveReload"><span class="nav-number">4.7.</span> <span class="nav-text">LiveReload</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configure-your-File-System-Watcher"><span class="nav-number">4.8.</span> <span class="nav-text">Configure your File System Watcher</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Global-Settings-File"><span class="nav-number">4.9.</span> <span class="nav-text">Global Settings File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Remote-Applications"><span class="nav-number">4.10.</span> <span class="nav-text">Remote Applications</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Updates-in-your-Remote-Application"><span class="nav-number">4.11.</span> <span class="nav-text">Updates in your Remote Application</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-Boot-Features"><span class="nav-number">5.</span> <span class="nav-text">Spring Boot Features</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Startup-Failures"><span class="nav-number">5.1.</span> <span class="nav-text">Startup Failures</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Lazy-Initialization"><span class="nav-number">5.2.</span> <span class="nav-text">Lazy Initialization</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Customzing-your-SpringApplication"><span class="nav-number">5.3.</span> <span class="nav-text">Customzing your SpringApplication</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Application-Liveness"><span class="nav-number">5.4.</span> <span class="nav-text">Application Liveness</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Application-Readiness"><span class="nav-number">5.5.</span> <span class="nav-text">Application Readiness</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Application-Event-and-Listeners"><span class="nav-number">5.6.</span> <span class="nav-text">Application Event and Listeners</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web-Applications"><span class="nav-number">5.7.</span> <span class="nav-text">Web Applications</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Accessing-Application-Arguements"><span class="nav-number">5.8.</span> <span class="nav-text">Accessing Application Arguements</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Running-Specific-Code-for-SpringApplication"><span class="nav-number">5.9.</span> <span class="nav-text">Running Specific Code for SpringApplication</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Applicaiton-Exit"><span class="nav-number">5.10.</span> <span class="nav-text">Applicaiton Exit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Externalized-Configuration"><span class="nav-number">6.</span> <span class="nav-text">Externalized Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-a-Wildcard-for-Loading-Configuration-Files"><span class="nav-number">6.1.</span> <span class="nav-text">Using a Wildcard for Loading Configuration Files</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Generating-and-Using-Random-Values"><span class="nav-number">6.2.</span> <span class="nav-text">Generating and Using Random Values</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Command-Line-Properties"><span class="nav-number">6.3.</span> <span class="nav-text">Command Line Properties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Application-Properties-File"><span class="nav-number">6.4.</span> <span class="nav-text">Application Properties File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Profile-Specific-Properties"><span class="nav-number">6.5.</span> <span class="nav-text">Profile Specific Properties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Injecting-Property-Values"><span class="nav-number">6.6.</span> <span class="nav-text">Injecting Property Values</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-safe-Configuration-Properties"><span class="nav-number">6.7.</span> <span class="nav-text">Type-safe Configuration Properties</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#JavaBean-properties-binding"><span class="nav-number">6.7.1.</span> <span class="nav-text">JavaBean properties binding</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Constructor-Binding"><span class="nav-number">6.7.2.</span> <span class="nav-text">Constructor Binding</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Enabling-ConfigurationProperties"><span class="nav-number">6.8.</span> <span class="nav-text">Enabling @ConfigurationProperties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Properties-Binding-to-a-Bean"><span class="nav-number">6.9.</span> <span class="nav-text">Properties Binding to a Bean</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Binding-Maps"><span class="nav-number">6.10.</span> <span class="nav-text">Binding Maps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Relaxed-Name-Matching-and-Binding-for-Enviromental-Variables"><span class="nav-number">6.11.</span> <span class="nav-text">Relaxed Name Matching and Binding for Enviromental Variables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Properties-Type-Conversion"><span class="nav-number">6.12.</span> <span class="nav-text">Properties Type Conversion</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Converting-time-durations"><span class="nav-number">6.12.1.</span> <span class="nav-text">Converting time durations</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Converting-Periods"><span class="nav-number">6.12.2.</span> <span class="nav-text">Converting Periods</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Converting-Data-Size"><span class="nav-number">6.12.3.</span> <span class="nav-text">Converting Data Size</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Validating-ConfigurationProperties"><span class="nav-number">6.13.</span> <span class="nav-text">Validating @ConfigurationProperties</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Logging"><span class="nav-number">7.</span> <span class="nav-text">Logging</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Log-Format"><span class="nav-number">7.1.</span> <span class="nav-text">Log Format</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#debug-log"><span class="nav-number">7.2.</span> <span class="nav-text">debug log</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#trace-log"><span class="nav-number">7.3.</span> <span class="nav-text">trace log</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-Log-Levels-for-a-specific-logger"><span class="nav-number">7.4.</span> <span class="nav-text">Configuring Log Levels for a specific logger</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-Log-Levels-using-Log-Groups"><span class="nav-number">7.5.</span> <span class="nav-text">Configuring Log Levels using Log Groups</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#File-Output"><span class="nav-number">7.6.</span> <span class="nav-text">File Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Logback-Extensions"><span class="nav-number">7.7.</span> <span class="nav-text">Logback Extensions</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Profile-Specific-Configuration"><span class="nav-number">7.7.0.1.</span> <span class="nav-text">Profile Specific Configuration</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Environment-Properties"><span class="nav-number">7.7.0.2.</span> <span class="nav-text">Environment Properties</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Developing-Web-Applications"><span class="nav-number">8.</span> <span class="nav-text">Developing Web Applications</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-Web-MVC-Framework"><span class="nav-number">8.1.</span> <span class="nav-text">Spring Web MVC Framework</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Graceful-shutdown"><span class="nav-number">9.</span> <span class="nav-text">Graceful shutdown</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Xiao Yu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


      <div class="main-inner">
        

        <div class="content post posts-expand">
          

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonyux.github.io/2020/06/09/SpringBoot-Manual/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Yu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="From a Beginner to a Disaster">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Spring Boot Manual
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-09 11:35:00" itemprop="dateCreated datePublished" datetime="2020-06-09T11:35:00+08:00">2020-06-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-06-22 21:28:57" itemprop="dateModified" datetime="2020-06-22T21:28:57+08:00">2020-06-22</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <hr>
<p><strong>IMPORTANT</strong>:<br>Much of the content here is a personal summary/abbrieviation of contents on the <a href="https://docs.spring.io/spring-boot/docs/2.3.0.RELEASE/reference/html/" target="_blank" rel="noopener">Offical Spring Boot Documentation</a>. For more complete information, please refer to the offical site.</p>
<hr>
<h2 id="Spring-Boot-Installation"><a href="#Spring-Boot-Installation" class="headerlink" title="Spring Boot Installation"></a>Spring Boot Installation</h2><hr>
<p>For instructions on installing and a quick overview of using Spring Boot, please refer to this <a href="https://docs.spring.io/spring-boot/docs/2.3.0.RELEASE/reference/html/getting-started.html#getting-started-installing-spring-boot" target="_blank" rel="noopener">page</a></p>
<h2 id="Structuring-Your-Code"><a href="#Structuring-Your-Code" class="headerlink" title="Structuring Your Code"></a>Structuring Your Code</h2><hr>
<p>Technically, Spring Boot does not require any specific code layout to work. However, there are <strong>some best practices that help:</strong></p>
<ul>
<li><p>Your <code>main application</code> class:</p>
<ul>
<li><p>It is generally recommend that you locate <strong>your <code>main application</code> class in a root package above other<br>classes.</strong> The <code>@SpringBootApplication</code> annotation is often placed on your main class, and it implicitly<br>defines a base “search package” for certain items</p>
</li>
<li><p>For example, the follwoing structure:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">com</span><br><span class="line">+- example</span><br><span class="line">	+- myapplication</span><br><span class="line">		+- Application.java</span><br><span class="line">		|</span><br><span class="line">		+- customer</span><br><span class="line">		|   +- Customer.java</span><br><span class="line">		|   +- CustomerController.java</span><br><span class="line">		|   +- CustomerService.java</span><br><span class="line">		|   +- CustomerRepository.java</span><br><span class="line">		|</span><br><span class="line">		+- order</span><br><span class="line">			+- Order.java</span><br><span class="line">			+- OrderController.java</span><br><span class="line">			+- OrderService.java</span><br><span class="line">			+- OrderRepository.java</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Your primary <code>configuration</code> class</p>
<ul>
<li>Although it is possible to use <code>SpringApplication</code> with <code>XML</code> sources, we generally recommend that <strong>your primary source be a single <code>@Configuration</code> class</strong>. Usually the <strong>class that defines the main method is a good candidate as the primary <code>@Configuration</code></strong>.</li>
<li>You can also <strong>import configuration classes</strong>:<ul>
<li>The <strong><code>@Import</code> annotation can be used to import additional configuration classes</strong>. Alternatively, you can <strong>use <code>@ComponentScan</code> to automatically pick up all Spring components</strong>, including <code>@Configuration</code> classes.</li>
</ul>
</li>
<li><strong>Import XML Configuration</strong><ul>
<li>If you need to use an XML based configuration, we recommend that you <strong>still start with a <code>@Configuration</code> class</strong>. You can <strong>then use an <code>@ImportResource</code> annotation</strong> to load XML configuration files.<a id="more"></a>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> A single <code>@SpringBootApplication</code> annotation can be <strong>used to enable three features</strong>, that is:<ul>
<li><code>@EnableAutoConfiguration</code>: enable Spring Boot’s auto-configuration mechanism</li>
<li><code>@ComponentScan</code>: enable @Component scan on the package where the application is located (see the best practices)</li>
<li><code>@Configuration</code>: allow to register extra beans in the context or import additional configuration classes<br>SO, the <code>@SpringBootApplication</code> annotation is <strong>equivalent to using <code>@Configuration</code>, <code>@EnableAutoConfiguration</code>, and <code>@ComponentScan</code> with their default attributes</strong>, as shown in the following example:</li>
</ul>
</li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myapplication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span> <span class="comment">// same as @Configuration @EnableAutoConfiguration @ComponentScan</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		SpringApplication.run(Application<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Auto-Configuration"><a href="#Auto-Configuration" class="headerlink" title="Auto-Configuration"></a>Auto-Configuration</h3><p>(additional reference: <a href="https://www.javatpoint.com/spring-boot-auto-configuration" target="_blank" rel="noopener">https://www.javatpoint.com/spring-boot-auto-configuration</a>)</p>
<p>You can also choose to use the Spring Boot <code>auto-configuration</code>, which attempts to automatically configure your Spring application based on the jar dependencies that you have added.</p>
<p>For example, if the H2 database Jar is <strong>present in the classpath and we have not configured any beans</strong> related to the database manually, the Spring Boot’s auto-configuration feature automatically configures it in the project.</p>
<p>To enable <code>auto-configuration</code>, you need to <strong>add either <code>@EnableAutoConfiguration</code> or <code>@SpringBootApplication</code> annotations to one of your <code>@Configuration</code> classes</strong>.</p>
<p>However, if you find that specific auto-configuration classes that you do not want are being applied, you can also specify to disable <strong>disable the specific auto-configuration classes</strong>. We <strong>use the <code>exclude</code> attribute of the annotation <code>@EnableAutoConfiguration</code></strong> to disable the auto-configuration classes. For example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.*;  </span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.jdbc.*;  </span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span>(proxyBeanMethods = <span class="keyword">false</span>)  </span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span>(exclude=&#123;DataSourceAutoConfiguration<span class="class">.<span class="keyword">class</span>&#125;)  </span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">MyConfiguration</span></span>&#123;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We can <strong>use the attribute <code>excludeName</code></strong> of the annotation <code>@EnableAutoConfiguration</code> and specify the qualified name of the class, <strong>if the class is not on the class path</strong>. We can exclude any number of auto-configuration classes by using the property <code>spring.autoconfigure.exclude</code>.</p>
<p>This is also supported if you use the <code>@SpringBootApplication</code> annotation:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.jdbc.*;</span><br><span class="line"><span class="meta">@SpringBootApplication</span>(exclude=&#123;DataSourceAutoConfiguration<span class="class">.<span class="keyword">class</span>&#125;)  // <span class="title">also</span> <span class="title">supported</span></span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">MyApplication</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Spring-Beans-and-Dependency-Injection-in-Spring-Boot"><a href="#Spring-Beans-and-Dependency-Injection-in-Spring-Boot" class="headerlink" title="Spring Beans and Dependency Injection in Spring Boot"></a>Spring Beans and Dependency Injection in Spring Boot</h3><p>You are free to use any of the standard <strong>Spring Framework techniques</strong> to define your beans and their injected dependencies. For simplicity, we often find that <strong>using <code>@ComponentScan</code> (to find your beans) and using <code>@Autowired</code> (to do constructor injection) works well</strong>. If you structure your code as suggested above <strong>(locating your application class in a root package), you can add <code>@ComponentScan</code> without any arguments, as it will automatically scan all component classes in current package and all its subpackages</strong>. All of your application components (<code>@Component</code>, <code>@Service</code>, <code>@Repository</code>, <code>@Controller</code> etc.) are automatically registered as Spring Beans.</p>
<p>For example, if you have in your sub-package a <code>@Service</code> as shown below, it will be automatically included in the configuration:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DatabaseAccountService</span> <span class="keyword">implements</span> <span class="title">AccountService</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> RiskAssessor riskAssessor;  <span class="comment">// Notice this will be final</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DatabaseAccountService</span><span class="params">(RiskAssessor riskAssessor)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.riskAssessor = riskAssessor;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Notice how <strong>using constructor injection lets the <code>riskAssessor</code> field be marked as <code>final</code></strong>, indicating that the reference to that <code>riskAssessor</code> object cannot be subsequently changed (mutator methods of that object can still be used, of course).</p>
<h2 id="Running-Your-Application"><a href="#Running-Your-Application" class="headerlink" title="Running Your Application"></a>Running Your Application</h2><hr>
<p>One of the biggest advantages of packaging your application as a jar and using an embedded HTTP server is that you can run your application as you would any other. Debugging Spring Boot applications is also easy. You do not need any special IDE plugins or extensions.</p>
<p>If you use the Spring Boot Maven or Gradle plugins to create an executable <code>jar</code>, you can <strong>run your application using <code>java -jar</code></strong>, as shown in the following example: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ java -jar target&#x2F;myapplication-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>

<p>It is also possible to run a packaged application with remote debugging support enabled. Doing so lets you attach a debugger to your packaged application, as shown in the following example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ java -Xdebug -Xrunjdwp:server&#x3D;y,transport&#x3D;dt_socket,address&#x3D;8000,suspend&#x3D;n \</span><br><span class="line">-jar target&#x2F;myapplication-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>

<h3 id="Compiling-and-Running-using-Maven-Plugin"><a href="#Compiling-and-Running-using-Maven-Plugin" class="headerlink" title="Compiling and Running using Maven Plugin"></a>Compiling and Running using Maven Plugin</h3><p>The Spring Boot Maven plugin includes a <code>run</code> goal that can be used to quickly compile and run your application. Applications run in an exploded form, as they do in your IDE. The following example shows a typical Maven command to run a Spring Boot application:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn spring-boot:run</span><br></pre></td></tr></table></figure>

<p>You might also want to use the <code>MAVEN_OPTS</code> operating system environment variable, as shown in the following example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ export MAVEN_OPTS&#x3D;-Xmx1024m</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><code>-Xmx1024m</code> specifies the maximum size, in bytes, of the memory allocation pool. This value must <strong>a multiple of 1024 greater than 2 MB</strong>. Append the letter <code>k</code> or <code>K</code> to indicate kilobytes, or <code>m</code> or <code>M</code> to indicate megabytes. The default value is chosen at runtime based on system configuration.</li>
</ul>
<h2 id="Developer-Tools"><a href="#Developer-Tools" class="headerlink" title="Developer Tools"></a>Developer Tools</h2><hr>
<p>Spring Boot includes an additional set of tools that can make the application development experience a little more pleasant. The <code>spring-boot-devtools module</code> can be included in any project to <strong>provide additional development-time features</strong>.</p>
<p>For example, if you have worked on latest UI development frameworks e.g. <code>Node</code>, <code>angular</code>, <code>gulp</code> etc. then you must have appreciated the <strong>auto-reload of UI in browser</strong> whenever there is <strong>change in some code</strong>. Its pretty useful and saves a lot of time.</p>
<p>Well, <strong>same feature can be utilized in spring boot applications using <code>spring-boot-devtools</code> dependency provided features</strong>.</p>
<h3 id="Enabling-spring-boot-devtools"><a href="#Enabling-spring-boot-devtools" class="headerlink" title="Enabling spring-boot-devtools"></a>Enabling <code>spring-boot-devtools</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">	&lt;dependency&gt;</span><br><span class="line">		&lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;</span><br><span class="line">		&lt;artifactId&gt;spring-boot-devtools&lt;&#x2F;artifactId&gt;</span><br><span class="line">		&lt;optional&gt;true&lt;&#x2F;optional&gt;</span><br><span class="line">	&lt;&#x2F;dependency&gt;</span><br><span class="line">&lt;&#x2F;dependencies&gt;</span><br></pre></td></tr></table></figure>

<p>where we flagged the dependency as <code>optional</code> because:</p>
<ul>
<li>Flagging the <strong>dependency as <code>optional</code> in maven</strong> (as shown above) <strong>prevents devtools from being transitively applied to other modules</strong> that use your project.</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> <strong>Developer tools are automatically disabled when running a fully packaged application</strong>. If your application is launched from <code>java -jar</code> or if it is started from a special classloader, then it is considered a “production application”. If that does not apply to you (i.e. if you run your application from a container), consider excluding devtools or set the <code>-Dspring.devtools.restart.enabled=false</code> system property.</li>
</ul>
</blockquote>
<h3 id="Configuring-your-spring-boot-devtools"><a href="#Configuring-your-spring-boot-devtools" class="headerlink" title="Configuring your spring-boot-devtools"></a>Configuring your <code>spring-boot-devtools</code></h3><p>(additional reference: <a href="https://howtodoinjava.com/spring-boot2/developer-tools-module-tutorial/#:~:text=The%20spring%2Dboot%2Ddevtools%20module,default%2C%20live%20reload%20is%20enabled" target="_blank" rel="noopener">https://howtodoinjava.com/spring-boot2/developer-tools-module-tutorial/#:~:text=The%20spring%2Dboot%2Ddevtools%20module,default%2C%20live%20reload%20is%20enabled</a>)</p>
<p>To improve the performance, <strong>dev tools cache the static content/template files to serve them faster to browser/client</strong>. This is <strong>very good feature in production</strong> where every milli-second performance improvement matters. But <strong>in development environment, it can be a problem and cause stale cache problem</strong> and you may not see your changes immediatly in browser. For this reason, <code>springboot-devtools</code> <strong>disables the caching options by default</strong>.</p>
<p>Also, because you need more information about web requests while developing Spring MVC and Spring WebFlux applications, <strong>developer tools will enable <code>DEBUG</code> logging for the web logging group</strong>. This will give you <strong>information about the incoming request, which handler is processing it, the response outcome, etc</strong>.</p>
<p>More importantly, you can also <strong>configure the <code>springboot-devtools</code> to meet your own needs</strong>:</p>
<ol>
<li><p>You can enable the static caching to use in production environment by setting a property:</p>
 <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># inside application.properties</span></span><br><span class="line"><span class="meta">spring.freemarker.cache</span> = <span class="string">true 	# false by default in production environment</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Other such properties</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># spring.thymeleaf.cache = false</span></span><br><span class="line"><span class="comment"># spring.mustache.cache = false</span></span><br><span class="line"><span class="comment"># spring.groovy.template.cache = false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>If you wish to log all request details (including potentially sensitive information), you can turn on the <code>spring.mvc.log-request-details</code> or <code>spring.codec.log-request-details</code> configuration properties.</p>
 <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># inside application.properties</span></span><br><span class="line"><span class="meta">spring.mvn.log-request-details</span> = <span class="string">true 	# or spring.codec.log-request-details = true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>The <code>spring-boot-devtools</code> module <strong>includes an embedded LiveReload server that can be used to trigger a browser refresh when a resource is changed</strong>. Precondition is that your browser should have supported extention for it. You can find such browser extentions in this <a href="https://livereload.com/extensions/" target="_blank" rel="noopener">link</a>.</p>
<p> <strong>By default, live reload is enabled</strong>. If you wish to disable this feature for some reason, then set <code>sping.devtools.livereload.enabled</code> property to <code>false</code>.</p>
 <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#inside application.properties</span></span><br><span class="line"><span class="meta">spring.devtools.livereload.enabled</span>  = <span class="string">false 	# Set false to disable live reload</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>For a complete list of the properties that are applied by the devtools, see <a href="https://github.com/spring-projects/spring-boot/tree/v2.3.0.RELEASE/spring-boot-project/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/env/DevToolsPropertyDefaultsPostProcessor.java" target="_blank" rel="noopener">DevToolsPropertyDefaultsPostProcessor</a>.</p>
</li>
</ol>
<h3 id="Automatic-Reload"><a href="#Automatic-Reload" class="headerlink" title="Automatic Reload"></a>Automatic Reload</h3><p>The automatic reload has been introduced in the section above, which triggers a browser refresh when a resource is changed. By default, it is triggered on these paths:</p>
<ul>
<li><code>/META-INF/maven</code></li>
<li><code>/META-INF/resources</code></li>
<li><code>/resources</code></li>
<li><code>/static</code></li>
<li><code>/public</code></li>
<li><code>/templates</code></li>
</ul>
<p>If you want to <strong>disable auto-reload in browser for files in few of these paths</strong>, then use <code>spring.devtools.restart.exclude property</code>. For example:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">spring.devtools.restart.exclude</span>=<span class="string">static/**,public/**</span></span><br></pre></td></tr></table></figure>

<p>If you want to <strong>watch those addtional files/paths not in the default list</strong> to reload the application, use the <code>spring.devtools.restart.additional-paths</code> property.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.devtools.restart.additional-paths&#x3D;script&#x2F;**</span><br></pre></td></tr></table></figure>

<p>Similarily, If you want to <strong>exclude those additional paths</strong>, use the <code>spring.devtools.restart.additional-exclude property</code>.</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">spring.devtools.restart.additional-exclude</span>=<span class="string">styles/**</span></span><br></pre></td></tr></table></figure>

<h3 id="Automatic-Restart"><a href="#Automatic-Restart" class="headerlink" title="Automatic Restart"></a>Automatic Restart</h3><p>Auto-restart means <strong>reloading the java classes and consiguration at server side</strong>. After the server side changes are re-deployed dynamically, server restart happen and load the modified code and configutation.</p>
<p>This can be a useful feature when working in an IDE, as it gives a very fast feedback loop for code changes. By default, <strong>any entry on the classpath that points to a directory is monitored for changes</strong>. Note that certain resources, such as <strong>static assets and view templates, do not need to restart the application (these would be more appropriate for auto-reload)</strong>.</p>
<p>As DevTools monitors classpath resources, the <strong>only way to trigger a restart is to update the classpath</strong>. The way in which you cause the classpath to be updated depends on the IDE that you are using. In Eclipse, saving a modified file causes the classpath to be updated and triggers a restart. <strong>In IntelliJ IDEA, building the project (Build → Build Project) triggers the restart</strong>.</p>
<p>In general, <strong>automatic restart works very well when used with LiveReload</strong>. See the <a href="#LiveReload">LiveReload</a> section for details. If you use JRebel, automatic restarts are disabled in favor of dynamic class reloading. Other devtools features (such as LiveReload and property overrides) can still be used.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> DevTools relies on the application context’s shutdown hook to close it during a restart. It does not work correctly if you have disabled the shutdown hook (<code>SpringApplication.setRegisterShutdownHook(false)</code>).</li>
</ul>
</blockquote>
<p><strong>To enable/disable automatic restart</strong>, you could use the property <code>spring.devtools.restart.enabled</code>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># inside application.properties</span><br><span class="line">spring.devtools.restart.enabled = false 	# disables restart. Set to true to enable it</span><br></pre></td></tr></table></figure>

<p><strong>To enable/disable logging of auto-configuration changes</strong>, you need to use <code>pring.devtools.restart.log-condition-evaluation-delta</code>. <strong>By default, each time your application restarts, a report showing the condition evaluation delta is logged</strong>. The report shows the changes to your application’s auto-configuration as you make changes such as adding or removing beans and setting configuration properties.</p>
<p>To disable the logging of the report, set the following property:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># inside application.properties</span><br><span class="line">spring.devtools.restart.log-condition-evaluation-delta = false 		# set to true to enable it</span><br></pre></td></tr></table></figure>

<p>Doing so still <strong>initializes the restart classloader</strong>, but it does not watch for file changes.</p>
<p>If you need to <strong>completely disable restart support</strong> (for example, because it does not work with a specific library), you need to set the <strong><code>spring.devtools.restart.enabled</code> System property to <code>false</code> before calling <code>SpringApplication.run(…)</code></strong>, as shown in the following example: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	System.setProperty(<span class="string">"spring.devtools.restart.enabled"</span>, <span class="string">"false"</span>);</span><br><span class="line">	SpringApplication.run(MyApp<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>To trigger a restart with a Trigger File</strong>, you need to set the property <code>spring.devtools.restart.trigger-file</code>. This is useful if automatic restarts may not be desirable on every file change and sometimes can slower down development time due to frequent restarts. To solve this problem, you can use a trigger file. <strong>Spring boot will keep monitoring that file and once it will detect any modification in that file, it will restart the server and reload all your previous changes</strong>.</p>
<p>To use a trigger file, <strong>set the <code>spring.devtools.restart.trigger-file</code> property to the name (excluding<br>any path) of your trigger file</strong>. The trigger file <strong>must appear somewhere on your classpath</strong>.</p>
<p>For example, if you have a project with the following structure:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">+- main</span><br><span class="line">	+- resources</span><br><span class="line">		+- .reloadtrigger</span><br></pre></td></tr></table></figure>

<p>Then your trigger-file property would be:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.devtools.restart.trigger-file=.reloadtrigger</span><br></pre></td></tr></table></figure>

<p>Restarts <strong>will now only happen when the <code>src/main/resources/.reloadtrigger</code> is updated</strong>.</p>
<p>Some IDEs have features that save you from needing to update your trigger file manually. For IntelliJ, you can follow the instructions in <a href="https://www.jetbrains.com/help/idea/spring-boot.html#configure-application-update-policies-with-devtools" target="_blank" rel="noopener">their documentation</a>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> You might want to <strong>set <code>spring.devtools.restart.trigger-file</code> as a global setting (adding a <code>spring-boot-devtools.properties</code> file to <code>$HOME/.config/spring-boot</code> directory, for example)</strong>, so that all your projects behave in the same way.</li>
</ul>
</blockquote>
<h3 id="Auto-Reload-vs-Auto-Restart"><a href="#Auto-Reload-vs-Auto-Restart" class="headerlink" title="Auto-Reload vs Auto-Restart"></a>Auto-Reload vs Auto-Restart</h3><p><strong>Auto-reload</strong> (or auto-refresh) refer to <strong>UI reload at browser to see static content changes</strong>. <strong>Auto-restart</strong> is referred to <strong>reloading the server side code and configurations</strong> followed by server restart.</p>
<p>The <strong>restart technology provided by Spring Boot works by using two classloaders</strong>. Classes that do not change (for example, those from third-party jars) are loaded into a base classloader. Classes that you are actively developing are loaded into a restart classloader. When the application is restarted, <strong>the restart classloader is thrown away and a new one is created</strong>. This approach means that application <strong>restarts are typically much faster than “cold starts”</strong>, since the base classloader is already available and populated.</p>
<p>If you find that** restarts are not quick enough for your applications or you encounter classloading issues<strong>, you **could consider reloading</strong> technologies such as JRebel from ZeroTurnaround. These work by rewriting classes as they are loaded to make them more amenable to reloading.</p>
<h3 id="Customizing-the-Restart-Classloader"><a href="#Customizing-the-Restart-Classloader" class="headerlink" title="Customizing the Restart Classloader"></a>Customizing the Restart Classloader</h3><p><strong>By default</strong>, any <strong>open project in your IDE is loaded with the “restart” classloader</strong>, and <strong>any regular <code>.jar</code> file is loaded with the “base” classloader</strong>. If you work on a multi-module project, and not every module is imported into your IDE, you may need to customize things. To do so, you can create a <code>META-INF/spring-devtools.properties</code> file.</p>
<p>The <code>spring-devtools.properties</code> file can contain properties prefixed with <code>restart.exclude</code> and <code>restart.include</code>. <strong>The <code>include</code> elements</strong> are items that should be** pulled up into the “restart” classloader<strong>, and the **<code>exclude</code> elements</strong> are items that should be <strong>pushed down into the “base” classloader</strong>. The <strong>value of the property is a regex pattern that is applied to the classpath, as shown in the following example:</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">restart.exclude.companycommonlibs=/mycorp-common-[\\w\\d-\.]+\.jar</span><br><span class="line">restart.include.projectcommon=/mycorp-myproj-[\\w\\d-\.]+\.jar</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> Restart functionality <strong>does not work well with objects that are deserialized</strong> by using a standard <code>ObjectInputStream</code>. If you need to deserialize data, you may need to use Spring’s <code>ConfigurableObjectInputStream</code> in combination with <code>Thread.currentThread().getContextClassLoader()</code>.</li>
</ul>
</blockquote>
<p><a name="LiveReload"></a></p>
<h3 id="LiveReload"><a href="#LiveReload" class="headerlink" title="LiveReload"></a>LiveReload</h3><p>The <strong><code>spring-boot-devtools</code> module includes an embedded LiveReload server that can be used to trigger a browser refresh when a resource is changed</strong>. LiveReload browser extensions are freely available for Chrome, Firefox and Safari from livereload.com.</p>
<p>If you do not want to start the LiveReload server when your application runs, you can set the<br><code>spring.devtools.livereload.enabled</code> property to <code>false</code>.</p>
<p>However, note that <strong>you can only run one LiveReload server at a time</strong>. Before starting your application, ensure that no other LiveReload servers are running. If you start multiple applications from your IDE, only the first has LiveReload support.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> <strong>In Intellij</strong>, you might need to configure some settings to make this feature available. For more details, please follow the link: <a href="https://mkyong.com/spring-boot/intellij-idea-spring-boot-template-reload-is-not-working/" target="_blank" rel="noopener">https://mkyong.com/spring-boot/intellij-idea-spring-boot-template-reload-is-not-working/</a></li>
</ul>
</blockquote>
<h3 id="Configure-your-File-System-Watcher"><a href="#Configure-your-File-System-Watcher" class="headerlink" title="Configure your File System Watcher"></a>Configure your File System Watcher</h3><p>If you find that there are times when certain <strong>changes are not reflected</strong> when devtools restarts the application, you might need to configure your File System Watcher.</p>
<p>FileSystemWatcher works by polling the class changes with a certain time interval, and then waiting for a predefined quiet period to make sure there are no more changes. So if you find that certain changes are not     reflected, try increasing the <code>spring.devtools.restart.poll-interval</code> and <code>spring.devtools.restart.quiet-period</code> parameters to the values that fit your development environment:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spring.devtools.restart.poll-interval=2s</span><br><span class="line">spring.devtools.restart.quiet-period=1s</span><br></pre></td></tr></table></figure>

<p>The monitored classpath directories are now <strong>polled every 2 seconds for changes</strong>, and a <strong>1 second quiet period is maintained</strong> to make sure there are no additional class changes.</p>
<h3 id="Global-Settings-File"><a href="#Global-Settings-File" class="headerlink" title="Global Settings File"></a>Global Settings File</h3><p>You can configure <strong>global devtools settings</strong> by adding any of the following files to the <code>$HOME/.config/spring-boot directory</code>:</p>
<ol>
<li>spring-boot-devtools.properties</li>
<li>spring-boot-devtools.yaml</li>
<li>spring-boot-devtools.yml</li>
</ol>
<p>Any <strong>properties added to these file apply to all Spring Boot applications on your machine that use devtools.</strong> For example, to configure restart to always use a trigger file, you would add the following property:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># inside ~/.config/spring-boot/spring-boot-devtools.properties </span><br><span class="line">spring.devtools.restart.trigger-file=.reloadtrigger</span><br></pre></td></tr></table></figure>

<h3 id="Remote-Applications"><a href="#Remote-Applications" class="headerlink" title="Remote Applications"></a>Remote Applications</h3><p>The Spring Boot developer tools are not limited to local development. You can also use several features when running applications remotely. Remote support is opt-in as enabling it can be a security risk. It should only be enabled when running on a trusted network or when secured with SSL.</p>
<p>To enable it, you need to make sure that <code>devtools</code> is included in the repackaged archive, as shown in<br>the following listing:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;build&gt;</span><br><span class="line">	&lt;plugins&gt;</span><br><span class="line">		&lt;plugin&gt;</span><br><span class="line">			&lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;spring-boot-maven-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">			&lt;configuration&gt;</span><br><span class="line">				&lt;excludeDevtools&gt;false&lt;&#x2F;excludeDevtools&gt;</span><br><span class="line">			&lt;&#x2F;configuration&gt;</span><br><span class="line">		&lt;&#x2F;plugin&gt;</span><br><span class="line">	&lt;&#x2F;plugins&gt;</span><br><span class="line">&lt;&#x2F;build&gt;</span><br></pre></td></tr></table></figure>
<p>Then you need to set the <code>spring.devtools.remote.secret</code> property. Like any important password or secret, the value <strong>should be unique and strong such that it cannot be guessed or brute-forced</strong>.</p>
<p>Then, to run the remote application within your IDE, you need to run <code>org.springframework.boot.devtools.RemoteSpringApplication</code> with the <strong>same classpath as the remote project that you connect to</strong>. The application’s single <strong>required argument is the remote URL</strong> to which it connects.</p>
<p>For example, if you are using Eclipse or STS and you have a project named <code>my-app</code> that you have deployed to Cloud Foundry, you would do the following:</p>
<ul>
<li>Select <code>Run Configurations…</code> from the Run menu.</li>
<li>Create a new <code>Java Application</code> “launch configuration”.</li>
<li>Browse for the <code>my-app</code> project.</li>
<li>Use <code>org.springframework.boot.devtools.RemoteSpringApplication</code> as the main class.</li>
<li>Add <code>https://myapp.cfapps.io</code> to the Program arguments (or whatever your remote URL is).</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> Because the <strong>remote client is using the same classpath as the real application it can directly read application properties</strong>. This is how the** <code>spring.devtools.remote.secret</code> property is read and passed to the server for authentication**.</li>
<li><input disabled="" type="checkbox"> It is always advisable to use <code>https://</code> as the connection protocol, so that traffic is encrypted and passwords cannot be intercepted.</li>
</ul>
</blockquote>
<h3 id="Updates-in-your-Remote-Application"><a href="#Updates-in-your-Remote-Application" class="headerlink" title="Updates in your Remote Application"></a>Updates in your Remote Application</h3><p>The <strong>remote client monitors your application classpath for changes in the same way as the local restart</strong>. Any updated resource is pushed to the remote application and (if required) triggers a restart. This can be helpful if you iterate on a feature that uses a cloud service that you do not have locally. Generally, remote updates and restarts are much quicker than a full rebuild and deploy cycle.</p>
<p>On a slower development environment, it may happen that the <strong>quiet period is not enough</strong>, and the <strong>changes in the classes may be split into batches</strong>. The server is <strong>restarted after the first batch of class changes is uploaded</strong>. The next batch can’t be sent to the application, since the server is restarting. This is typically manifested by <strong>a warning in the <code>RemoteSpringApplication</code> logs about failing to upload some of the classes, and a consequent retry</strong>. But it may also lead to application code inconsistency and failure to restart after the first batch of changes is uploaded. If you observe such problems constantly, try increasing the <code>spring.devtools.restart.poll-interval</code> and <code>spring.devtools.restart.quiet-period</code> parameters to the values that fit your development environment.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> Files are <strong>only monitored when the remote client is running</strong>. If you change a file before starting the remote client, it is not pushed to the remote server.</li>
</ul>
</blockquote>
<h2 id="Spring-Boot-Features"><a href="#Spring-Boot-Features" class="headerlink" title="Spring Boot Features"></a>Spring Boot Features</h2><hr>
<p>The SpringApplication class provides a convenient way to bootstrap a Spring application that is started from a <code>main()</code> method. In many situations, you can <strong>delegate to the <code>static SpringApplication.run</code> method</strong>, as shown in the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	SpringApplication.run(MySpringConfiguration<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>When your application starts, you should see something similar to the following output:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  .   ____          _            __ _ _</span><br><span class="line"> &#x2F;\\ &#x2F; ___&#39;_ __ _ _(_)_ __  __ _ \ \ \ \</span><br><span class="line">( ( )\___ | &#39;_ | &#39;_| | &#39;_ \&#x2F; _&#96; | \ \ \ \</span><br><span class="line"> \\&#x2F;  ___)| |_)| | | | | || (_| |  ) ) ) )</span><br><span class="line">  &#39;  |____| .__|_| |_|_| |_\__, | &#x2F; &#x2F; &#x2F; &#x2F;</span><br><span class="line"> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;|_|&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;|___&#x2F;&#x3D;&#x2F;_&#x2F;_&#x2F;_&#x2F;</span><br><span class="line"> :: Spring Boot ::        (v2.3.0.RELEASE)</span><br><span class="line"></span><br><span class="line">2020-06-16 15:35:35.216  INFO 47936 --- [  restartedMain] App                                      : Starting App on XY-Laptop with PID 47936 (E:\Maven Workspace\testSpringBoot\target\classes started by 26238 in E:\Maven Workspace\testSpringBoot)</span><br><span class="line">2020-06-16 15:35:35.218  INFO 47936 --- [  restartedMain] App                                      : No active profile set, falling back to default profiles: default</span><br><span class="line">2020-06-16 15:35:35.248  INFO 47936 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable</span><br><span class="line">2020-06-16 15:35:35.248  INFO 47936 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;</span><br><span class="line">2020-06-16 15:35:36.345  INFO 47936 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)</span><br><span class="line">2020-06-16 15:35:36.351  INFO 47936 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span><br><span class="line">2020-06-16 15:35:36.351  INFO 47936 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat&#x2F;9.0.35]</span><br><span class="line">2020-06-16 15:35:36.399  INFO 47936 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[&#x2F;]       : Initializing Spring embedded WebApplicationContext</span><br><span class="line">2020-06-16 15:35:36.399  INFO 47936 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1151 ms</span><br><span class="line">2020-06-16 15:35:36.504  INFO 47936 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;</span><br><span class="line">2020-06-16 15:35:36.588  INFO 47936 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729</span><br><span class="line">2020-06-16 15:35:36.623  INFO 47936 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;</span><br><span class="line">2020-06-16 15:35:36.630  INFO 47936 --- [  restartedMain] App                                      : Started App in 1.652 seconds (JVM running for 1.947)</span><br></pre></td></tr></table></figure>

<h3 id="Startup-Failures"><a href="#Startup-Failures" class="headerlink" title="Startup Failures"></a>Startup Failures</h3><p>If your application fails to start, registered <code>FailureAnalyzers</code> get a chance to <strong>provide a dedicated error message and a concrete action to fix the problem</strong>. For instance, if you start a web application on port 8080 and that port is already in use, you should see something similar to the following message:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">***************************</span><br><span class="line">APPLICATION FAILED TO START</span><br><span class="line">***************************</span><br><span class="line">Description:</span><br><span class="line">Embedded servlet container failed to start. Port 8080 was already in use.</span><br><span class="line">Action:</span><br><span class="line">Identify and stop the process that&#39;s listening on port 8080 or configure this</span><br><span class="line">application to listen on another port.</span><br></pre></td></tr></table></figure>

<p>If no failure analyzers are able to handle the exception, you can still display the full conditions report to better understand what went wrong. To do so, you need to enable the debug property or enable <code>DEBUG</code> logging for <code>org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener</code>.</p>
<p>For instance, <strong>if you are running your application by using <code>java -jar</code></strong>, you can enable the debug<br>property as follows:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ java -jar myproject<span class="number">-0.0</span><span class="number">.1</span>-SNAPSHOT.jar --debug</span><br></pre></td></tr></table></figure>

<h3 id="Lazy-Initialization"><a href="#Lazy-Initialization" class="headerlink" title="Lazy Initialization"></a>Lazy Initialization</h3><p><code>SpringApplication</code> allows an application to be <strong>initialized lazily (similar to that of the Spring Framework)</strong>. When lazy initialization is enabled, <strong>beans are created as they are needed rather than during application startup</strong>. As a result, enabling <strong>lazy initialization can reduce the time that it takes your application to start</strong>. In a web application, enabling lazy initialization will result in many web-related beans not being initialized until an HTTP request is received.</p>
<p>A downside of lazy initialization is that <strong>it can delay the discovery of a problem with the application</strong>. If a misconfigured bean is initialized lazily, a failure will no longer occur during startup and the problem will only become apparent when the bean is initialized. Care must also be taken to ensure that the <strong>JVM has sufficient memory to accommodate all of the application’s beans and not just those that are initialized during startup</strong>.</p>
<p>To enable lazy initialization, you can use:</p>
<ul>
<li>the <code>lazyInitialization</code> method on <code>SpringApplicationBuilder</code></li>
<li>the <code>setLazyInitialization</code> method on <code>SpringApplication</code></li>
<li>it can be enabled using the <code>spring.main.lazy-initialization</code> property, for example: <code>spring.main.lazy-initialization=true</code></li>
<li>or you can set a specific bean to be lazy initialized with <code>@Lazy(true)</code>, or at a class level with <code>@Lazy</code> (making all beans of that class to be lazily initialized)</li>
</ul>
<h3 id="Customzing-your-SpringApplication"><a href="#Customzing-your-SpringApplication" class="headerlink" title="Customzing your SpringApplication"></a>Customzing your SpringApplication</h3><p>If the <code>SpringApplication</code> defaults are** not to your taste, you can instead create a local instance** and customize it. For example, to turn off the banner (more details on customzing your banner, please visit this <a href="https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/spring-boot-features.html#boot-features-banner" target="_blank" rel="noopener">link</a>), you could write:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	SpringApplication app = <span class="keyword">new</span> SpringApplication(MySpringConfiguration<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">	app.setBannerMode(Banner.Mode.OFF);</span><br><span class="line">	app.run(args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>It is also possible to configure the <code>SpringApplication</code> by using an <code>application.properties</code> file. See <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config" target="_blank" rel="noopener">Externalized Configuration</a> for details.</p>
<p>When deployed on platforms, applications can provide information about their availability to the platform using infrastructure such as <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/" target="_blank" rel="noopener">Kubernetes Probes</a>. Spring Boot includes out-of-the box <strong>support for the commonly used “liveness” and “readiness” availability states</strong>. If you are using Spring Boot’s “actuator” support then these states are exposed as health endpoint groups.</p>
<p>In addition, you can also obtain availability states by injecting the <code>ApplicationAvailability</code> interface into your own beans.</p>
<h3 id="Application-Liveness"><a href="#Application-Liveness" class="headerlink" title="Application Liveness"></a>Application Liveness</h3><h3 id="Application-Readiness"><a href="#Application-Readiness" class="headerlink" title="Application Readiness"></a>Application Readiness</h3><h3 id="Application-Event-and-Listeners"><a href="#Application-Event-and-Listeners" class="headerlink" title="Application Event and Listeners"></a>Application Event and Listeners</h3><h3 id="Web-Applications"><a href="#Web-Applications" class="headerlink" title="Web Applications"></a>Web Applications</h3><h3 id="Accessing-Application-Arguements"><a href="#Accessing-Application-Arguements" class="headerlink" title="Accessing Application Arguements"></a>Accessing Application Arguements</h3><p>If you need to <strong>access the application arguments that were passed to <code>SpringApplication.run(…)</code></strong>, you can <strong>inject a <code>org.springframework.boot.ApplicationArguments</code> bean.</strong> The <code>ApplicationArguments</code> interface provides access to both the raw <code>String[]</code> arguments as well as parsed option and non-option arguments, as shown in the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Autowired</span>	<span class="comment">// bean injected here</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MyBean</span><span class="params">(ApplicationArguments args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">boolean</span> debug = args.containsOption(<span class="string">"debug"</span>);</span><br><span class="line">		List&lt;String&gt; files = args.getNonOptionArgs();</span><br><span class="line">		<span class="comment">// if run with "--debug logfile.txt" debug=true, files=["logfile.txt"]</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Running-Specific-Code-for-SpringApplication"><a href="#Running-Specific-Code-for-SpringApplication" class="headerlink" title="Running Specific Code for SpringApplication"></a>Running Specific Code for SpringApplication</h3><p>If you need to run some specific code once the SpringApplication has started, you can implement the <code>ApplicationRunner</code> or <code>CommandLineRunner</code> interfaces. <strong>Both interfaces work in the same way and offer a single run method, which is called just before <code>SpringApplication.run(…)</code> completes</strong>.</p>
<p>The <code>CommandLineRunner</code> interfaces provides <strong>access to application arguments as a simple string array</strong>, whereas the ApplicationRunner uses the ApplicationArguments interface discussed earlier. The following example shows a CommandLineRunner with a run method:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.*;</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> <span class="keyword">implements</span> <span class="title">CommandLineRunner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">(String... args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// Do something...</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If several <code>CommandLineRunner</code> or <code>ApplicationRunner</code> beans are defined that must be called in a specific order, you can additionally implement the <code>org.springframework.core.Ordered</code> interface or <strong>use the <code>org.springframework.core.annotation.Order</code> annotation (e.g. @Order(1), remember that the smaller the number, the higher the priority)</strong>.</p>
<h3 id="Applicaiton-Exit"><a href="#Applicaiton-Exit" class="headerlink" title="Applicaiton Exit"></a>Applicaiton Exit</h3><p>Each SpringApplication registers a shutdown hook with the JVM to ensure that the ApplicationContext closes gracefully on exit. All the standard Spring lifecycle callbacks (such as the DisposableBean interface or the @PreDestroy annotation) can be used. </p>
<p>In addition, beans may implement the org.springframework.boot.ExitCodeGenerator interface if they wish to return a specific exit code when SpringApplication.exit() is called. This exit code can then be passed to System.exit() to return it as a status code, as shown in the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExitCodeApplication</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> ExitCodeGenerator <span class="title">exitCodeGenerator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> () -&gt; <span class="number">42</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		System.exit(SpringApplication.exit(SpringApplication.run(ExitCodeApplication<span class="class">.<span class="keyword">class</span>,<span class="title">args</span>)))</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Also, the <code>ExitCodeGenerator</code> interface may be implemented by exceptions. When such an exception is encountered, Spring Boot <strong>returns the exit code provided by the implemented <code>getExitCode()</code> method</strong>.</p>
<h2 id="Externalized-Configuration"><a href="#Externalized-Configuration" class="headerlink" title="Externalized Configuration"></a>Externalized Configuration</h2><hr>
<p>Spring Boot lets you externalize your configuration so that you can work with the same application code in different environments. You can <strong>use properties files, YAML files, environment variables, and command-line arguments to externalize configuration</strong>. </p>
<p><strong>Property values can be injected</strong> directly into your beans by using the <code>@Value</code> annotation, accessed through Spring’s <code>Environment</code> abstraction, or be bound to structured objects through <code>@ConfigurationProperties</code>. Spring Boot uses a <strong>very particular PropertySource order that is designed to allow sensible overriding of values</strong>. Properties are considered in the following order:</p>
<ol>
<li>Devtools global settings properties in the <code>$HOME/.config/spring-boot</code> directory when devtools is active.</li>
<li><code>@TestPropertySource</code> annotations on your tests.</li>
<li>properties attribute on your tests. Available on <code>@SpringBootTest</code> and the test annotations for testing a particular slice of your application.</li>
<li>Command line arguments.</li>
<li>Properties from <code>SPRING_APPLICATION_JSON</code> (inline JSON embedded in an environment variable or system property).</li>
<li>ServletConfig init parameters.</li>
<li>ServletContext init parameters.</li>
<li>JNDI attributes from java:comp/env.</li>
<li>Java System properties (<code>System.getProperties()</code>).</li>
<li>OS environment variables.</li>
<li>A RandomValuePropertySource that has properties only in <code>random.*</code>.</li>
<li>Profile-specific application properties outside of your packaged jar (<code>application-{profile}.properties</code> and YAML variants).</li>
<li>Profile-specific application properties packaged inside your jar (<code>application-{profile}.properties</code> and YAML variants).</li>
<li>Application properties outside of your packaged jar (<code>application.properties</code> and <code>YAML</code> variants).</li>
<li>Application properties packaged inside your jar (<code>application.properties</code> and <code>YAML</code> variants).</li>
<li><code>@PropertySource</code> annotations on your <code>@Configuration</code> classes. Please note that such property sources are not added to the Environment until the application context is being refreshed. This is too late to configure certain properties such as <code>logging.*</code> and <code>spring.main.*</code> which are read before refresh begins.</li>
<li>Default properties (specified by setting <code>SpringApplication.setDefaultProperties</code>).</li>
</ol>
<p>To provide a concrete example, suppose you develop a @Component that uses a name property, as shown in the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.*;</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Value</span>(<span class="string">"$&#123;name&#125;"</span>)</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>On your application classpath (for example, inside your jar) you can have an<br>application.properties file that provides a sensible default property value for name. When running<br>in a new environment, an application.properties file can be provided outside of your jar that<br>overrides the name. For one-off testing, you can launch with a specific command line switch (for<br>example, java -jar app.jar –name=”Spring”).</p>
<h3 id="Using-a-Wildcard-for-Loading-Configuration-Files"><a href="#Using-a-Wildcard-for-Loading-Configuration-Files" class="headerlink" title="Using a Wildcard for Loading Configuration Files"></a>Using a Wildcard for Loading Configuration Files</h3><p>Spring Boot also supports wildcard locations when loading configuration files. By default, a wildcard location of <code>config/*/</code> outside of your jar is supported. Wildcard locations are also supported when specifying <code>spring.config.additional-location</code> and <code>spring.config.location</code>. </p>
<p>Wildcard locations are particularly <strong>useful in an environment such as Kubernetes</strong> when there are multiple sources of config properties. For example, if you have some Redis configuration and some MySQL configuration, you might want to keep those two pieces of configuration separate, while <strong>requiring that both those are present in an <code>application.properties</code> that the <code>app</code> can bind to</strong>. This might result in <strong>two separate <code>application.properties</code> files mounted at different locations such as <code>/config/redis/application.properties</code> and <code>/config/mysql/application.properties</code></strong>. In such a case, <strong>having a wildcard location of <code>config/*/</code>, will result in both files being processed</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> A wildcard location <strong>must contain only one and end with <code>/</code> for search locations</strong> that are directories or <strong><code>*/&lt;filename&gt;</code> for search locations that are files</strong>. Locations with wildcards are sorted alphabetically based on the absolute path of the file names.</li>
</ul>
</blockquote>
<h3 id="Generating-and-Using-Random-Values"><a href="#Generating-and-Using-Random-Values" class="headerlink" title="Generating and Using Random Values"></a>Generating and Using Random Values</h3><p>The <code>RandomValuePropertySource</code> is useful for injecting random values <strong>(for example, into secrets or test cases</strong>). It can produce integers, longs, uuids, or strings, as shown in the following example</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">my.secret=$&#123;random.value&#125;</span><br><span class="line">my.number=$&#123;random.int&#125;</span><br><span class="line">my.bignumber=$&#123;random.long&#125;</span><br><span class="line">my.uuid=$&#123;random.uuid&#125;</span><br><span class="line">my.number.less.than.ten=$&#123;random.int(10)&#125;</span><br><span class="line">my.number.in.range=$&#123;random.int[1024,65536]&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>random.int*</code> syntax is <code>OPEN value (,max) CLOSE</code> where the <code>OPEN</code>,<code>CLOSE</code> are any character and value,max are integers. If <code>max</code> is provided, then <code>value</code> is the minimum value and <code>max</code> is the maximum value <strong>(exclusive)</strong>.</p>
<h3 id="Command-Line-Properties"><a href="#Command-Line-Properties" class="headerlink" title="Command Line Properties"></a>Command Line Properties</h3><p>By default, <code>SpringApplication</code> <strong>converts any command line option arguments</strong> (that is, arguments starting with <code>--</code>, such as <code>--server.port=9000</code>) <strong>to a property and adds them to the Spring <code>Environment</code></strong>. As mentioned previously, <strong>command line properties always take precedence over other property sources</strong>.</p>
<p>If you do not want command line properties to be added to the <code>Environment</code>, you can <strong>disable them by using <code>SpringApplication.setAddCommandLineProperties(false)</code></strong>.</p>
<h3 id="Application-Properties-File"><a href="#Application-Properties-File" class="headerlink" title="Application Properties File"></a>Application Properties File</h3><p>SpringApplication loads properties from <code>application.properties</code> files in the following locations and adds them to the Spring Environment:</p>
<ol>
<li>A <code>/config</code> subdirectory of the current directory</li>
<li>The current directory</li>
<li>A classpath <code>/config</code> package</li>
<li>The classpath root</li>
</ol>
<p>The list is <strong>ordered by precedence (properties defined in locations higher in the list override those<br>defined in lower locations)</strong>.</p>
<p>If you do not like <code>application.properties</code> as the configuration file name, you can <strong>switch to another file name by specifying a <code>spring.config.name</code> environment property</strong>. You can also <strong>refer to an explicit location by using the <code>spring.config.location</code> environment property</strong> (which is a comma-separated list of directory locations or file paths). The following example shows how to specify a different file name:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ java -jar myproject.jar --spring.config.name=myproject</span><br></pre></td></tr></table></figure>

<p>The following example shows how to specify two locations:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ java -jar myproject.jar</span><br><span class="line">--spring.config.location=classpath:/default.properties,classpath:/override.properties</span><br></pre></td></tr></table></figure>

<p>However, if you <strong>used a directory for searching that <code>application.properties</code></strong>, so that you <strong>specify custom config locations by using <code>spring.config.location</code></strong>, they replace the default search locations. </p>
<p>For example, if <code>spring.config.location</code> is configured with the value <code>classpath:/custom-config/</code>,<code>file:./custom-config/</code>, the search order becomes the following:</p>
<ol>
<li><code>file:./custom-config/</code></li>
<li><code>classpath:custom-config/</code></li>
</ol>
<p><strong>Instead of/Overrriding the default locations</strong> (<code>file:./config/</code> is searched first):</p>
<ol>
<li><code>file:./config/</code></li>
<li><code>file:./config/*/</code></li>
<li><code>file:./</code></li>
<li><code>classpath:/config/</code></li>
<li><code>classpath:/</code></li>
</ol>
<p>To prevent the overriding behavior, use <code>spring.config.additionallocation</code>, so that they are <strong>used in addition to the default locations</strong>. Additional locations <strong>are searched before the default locations</strong>. For example, if additional locations of <code>classpath:/customconfig/</code>, <code>file:./custom-config/</code> are configured, the search order becomes the following:</p>
<ol>
<li><code>file:./custom-config/</code></li>
<li><code>classpath:custom-config/</code></li>
<li><code>file:./config/</code></li>
<li><code>file:./config/*/</code></li>
<li><code>file:./</code></li>
<li><code>classpath:/config/</code></li>
<li><code>classpath:/</code></li>
</ol>
<h3 id="Profile-Specific-Properties"><a href="#Profile-Specific-Properties" class="headerlink" title="Profile Specific Properties"></a>Profile Specific Properties</h3><p>In addition to <code>application.properties</code> files, <strong>profile-specific properties</strong> can also be defined by using the following naming convention: <code>application-{profile}.properties</code></p>
<p><strong>Profile-specific properties are loaded from the same locations as standard <code>application.properties</code></strong>, with <strong>profile-specific files always overriding the non-specific ones</strong>, whether or not the profile specific files are inside or outside your packaged jar.</p>
<p>If several profiles are specified, a last-wins strategy applies. For example, profiles specified by the <code>spring.profiles.active</code> property are added after those configured through the SpringApplication API and therefore take precedence.</p>
<p>If that didn’t work, you can use either command line options or the <code>SpringApplication.setAdditionalProfiles()</code> option (if both are specified, the command line option takes precedence):</p>
<ul>
<li><p>Command line option:</p>
<ul>
<li>add the option: <code>-Dspring.profiles.active=dev</code> or <code>-Dspring.profiles.active=prod</code> to enable the usage of the <code>application-dev.properties</code> profile or the <code>application-prod.properties</code> profile, respectively</li>
</ul>
</li>
<li><p>SpringApplication</p>
<ul>
<li><p>before calling <code>SpringApplication.run()</code> function, do:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    SpringApplication app = <span class="keyword">new</span> SpringApplication(App<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    app.setAdditionalProfiles(<span class="string">"dev"</span>);</span><br><span class="line">    app.run(args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>to turn on the <code>application-dev.properties</code>. Switch to <code>(&quot;prod&quot;)</code> to enable the <code>application-prod.properties</code>.</p>
</li>
</ul>
</li>
</ul>
<h3 id="Injecting-Property-Values"><a href="#Injecting-Property-Values" class="headerlink" title="Injecting Property Values"></a>Injecting Property Values</h3><p>Basically, once the <code>application.properties</code> or other customized <code>application.properties</code> has been loaded, you can inject values with the placeholder <code>${}</code>.</p>
<p>In the main application where you run your SpringApplication, you can inject them easily with <code>@Value(&quot;${&lt;some-expression&gt;}&quot;)</code>. For example:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># inside application.properties</span><br><span class="line">app.my.name=jason</span><br></pre></td></tr></table></figure>

<p>then in your main application:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value</span>(<span class="string">"$&#123;app.my.name&#125;"</span>)</span><br><span class="line"><span class="keyword">private</span> String appName;</span><br></pre></td></tr></table></figure>

<p>However, in some other places, besides the main application, you might need to specify your <code>application.properties</code> file again before injecting the <code>@Value</code>. For example, in a <code>@Configuration</code> file at some other place in your project hierarchy:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"classpath:application.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ProfileManager <span class="title">profileManager</span><span class="params">(@Autowired Environment env, @Value(<span class="string">"$&#123;app.testname&#125;"</span>)</span> String s) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ProfileManager(env,s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> Here constructor injection is used. For reason why constructor injection is preferred over field injection, please visit the Spring Framework Guide.</li>
</ul>
</blockquote>
<h3 id="Type-safe-Configuration-Properties"><a href="#Type-safe-Configuration-Properties" class="headerlink" title="Type-safe Configuration Properties"></a>Type-safe Configuration Properties</h3><h4 id="JavaBean-properties-binding"><a href="#JavaBean-properties-binding" class="headerlink" title="JavaBean properties binding"></a>JavaBean properties binding</h4><p>It is possible to bind a bean declaring standard JavaBean properties as shown in the following<br>example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(<span class="string">"acme"</span>)	<span class="comment">// matches the all the properties starting with `acme`</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AcmeProperties</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> enabled;	<span class="comment">// matches acme.enabled</span></span><br><span class="line">    <span class="keyword">private</span> InetAddress remoteAddress;  <span class="comment">// matches acme.remote-address</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Security security = <span class="keyword">new</span> Security();	<span class="comment">// matches acme.security.*</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEnabled</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEnabled</span><span class="params">(<span class="keyword">boolean</span> enabled)</span> </span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> InetAddress <span class="title">getRemoteAddress</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRemoteAddress</span><span class="params">(InetAddress remoteAddress)</span> </span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Security <span class="title">getSecurity</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Security</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String username;	<span class="comment">// matches acme.security.username</span></span><br><span class="line">        <span class="keyword">private</span> String password;	<span class="comment">// matches acme.security.password</span></span><br><span class="line">        <span class="keyword">private</span> List&lt;String&gt; roles = <span class="keyword">new</span> ArrayList&lt;&gt;(Collections.singleton(<span class="string">"USER"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123; ... &#125;	<span class="comment">// notice the setters here</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123; ... &#125;	<span class="comment">// notice the setters here</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getRoles</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRoles</span><span class="params">(List&lt;String&gt; roles)</span> </span>&#123; ... &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Constructor-Binding"><a href="#Constructor-Binding" class="headerlink" title="Constructor Binding"></a>Constructor Binding</h4><p>The previous example could be made immutable with constructor binding and making them <code>final</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConstructorBinding;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.bind.DefaultValue;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ConstructorBinding</span>		<span class="comment">// enables constructor binding, so it looks for constructors for parameters to be injected</span></span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(<span class="string">"acme"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AcmeProperties</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">boolean</span> enabled;	<span class="comment">// notice the final keyword</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> InetAddress remoteAddress;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Security security;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AcmeProperties</span><span class="params">(<span class="keyword">boolean</span> enabled, InetAddress remoteAddress, Security</span></span></span><br><span class="line"><span class="function"><span class="params">            security)</span> </span>&#123;		<span class="comment">// this woud be required for constructor binding</span></span><br><span class="line">        <span class="keyword">this</span>.enabled = enabled;</span><br><span class="line">        <span class="keyword">this</span>.remoteAddress = remoteAddress;</span><br><span class="line">        <span class="keyword">this</span>.security = security;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEnabled</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> InetAddress <span class="title">getRemoteAddress</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Security <span class="title">getSecurity</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Security</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> String username;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> String password;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> List&lt;String&gt; roles;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Security</span><span class="params">(String username, String password,</span></span></span><br><span class="line"><span class="function"><span class="params">                        @DefaultValue(<span class="string">"USER"</span>)</span> List&lt;String&gt; roles) </span>&#123;		<span class="comment">// notice the constructor here as well</span></span><br><span class="line">            <span class="keyword">this</span>.username = username;</span><br><span class="line">            <span class="keyword">this</span>.password = password;</span><br><span class="line">            <span class="keyword">this</span>.roles = roles;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getRoles</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this setup, the <strong><code>@ConstructorBinding</code> annotation</strong> is used to indicate that constructor binding should be used. This means that the <strong>binder will expect to find a constructor</strong> with the parameters that you wish to have bound (Nested members of a <code>@ConstructorBinding</code> class (such as Security in the example above) will also be bound via their constructor).</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> To use <strong>constructor binding the class must be enabled using <code>@EnableConfigurationProperties</code> or configuration property scanning</strong>. You <strong>cannot use constructor binding with beans that are created by the regular Spring mechanisms</strong> (e.g. <code>@Component</code> beans, beans created via @Bean methods or beans loaded using <code>@Import</code>).</li>
</ul>
</blockquote>
<h3 id="Enabling-ConfigurationProperties"><a href="#Enabling-ConfigurationProperties" class="headerlink" title="Enabling @ConfigurationProperties"></a>Enabling @ConfigurationProperties</h3><p>Spring Boot provides <strong>infrastructure to bind <code>@ConfigurationProperties</code> types and register them as beans</strong>. You can either enable configuration properties on a class-by-class basis or** enable configuration property scanning** that works in a similar manner to component scanning. </p>
<p>Sometimes, classes annotated with <code>@ConfigurationProperties</code> might not be suitable for scanning, for example, if you’re developing your own auto-configuration or you want to enable them conditionally. In these cases, specify the list of types to process using the <code>@EnableConfigurationProperties</code> annotation. This can be done on any <code>@Configuration</code> class, as shown in the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>(proxyBeanMethods = <span class="keyword">false</span>)</span><br><span class="line"><span class="meta">@EnableConfigurationProperties</span>(AcmeProperties<span class="class">.<span class="keyword">class</span>)	// <span class="title">this</span> <span class="title">will</span> <span class="title">be</span> <span class="title">not</span> <span class="title">necessary</span> <span class="title">if</span> </span></span><br><span class="line"><span class="class">														// <span class="title">you</span> <span class="title">use</span> @<span class="title">ConfigurationPropertiesScane</span> <span class="title">below</span></span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">MyConfiguration</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To use configuration property scanning, add the <code>@ConfigurationPropertiesScan</code> annotation to your application. Typically, it is added to the main application class that is annotated with <code>@SpringBootApplication</code> but it can be added to any <code>@Configuration</code> class.</p>
<p>By default, scanning will occur from the package of the class that declares the annotation. If you want to define specific packages to scan, you can do so as shown in the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@ConfigurationPropertiesScan</span>(&#123; <span class="string">"com.example.app"</span>, <span class="string">"org.acme.another"</span> &#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>One important thing to note is that:</p>
<ul>
<li><p>When <strong>the <code>@ConfigurationProperties</code> bean is registered using configuration property scanning or via <code>@EnableConfigurationProperties</code></strong>, the <strong>bean has a conventional name: <code>&lt;prefix&gt;-&lt;fqn&gt;</code></strong>, where <code>&lt;prefix&gt;</code> is the environment key prefix specified in the <code>@ConfigurationProperties</code> annotation and <code>&lt;fqn&gt;</code> is the fully qualified name of the bean. If the annotation does not provide any prefix, only the fully qualified name of the bean is used. </p>
<p>  The bean name in the example above is <code>acme-com.example.AcmeProperties</code>. This means you can do </p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span>(name = <span class="string">"acme-com.example.AcmeProperties"</span>)		<span class="comment">// instead of @Autowire, if you prefer</span></span><br><span class="line"><span class="keyword">private</span> AcmeProperties acmeProperties;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>In general, it is not recommended to inject other beans while using property binding. However, if you still want to <strong>inject other beans using the constructor</strong>, the <strong>configuration properties bean must be annotated with <code>@Component</code></strong> and use JavaBean-based property binding.</p>
<h3 id="Properties-Binding-to-a-Bean"><a href="#Properties-Binding-to-a-Bean" class="headerlink" title="Properties Binding to a Bean"></a>Properties Binding to a Bean</h3><p>To configure a bean from the Environment properties, add @ConfigurationProperties to its bean registration, as shown in the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"another"</span>)</span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> AnotherComponent <span class="title">anotherComponent</span><span class="params">(...)</span> </span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Any JavaBean property defined with the <code>another</code> prefix is mapped onto that <code>AnotherComponent</code> bean in manner similar to the preceding <code>AcmeProperties</code> example.</p>
<h3 id="Binding-Maps"><a href="#Binding-Maps" class="headerlink" title="Binding Maps"></a>Binding Maps</h3><p>When binding to Map properties, if the key contains <strong>anything other than lowercase alpha-numeric characters or <code>-</code>, you need to use the bracket notation so that the original value is preserved</strong>. If the key is <strong>not surrounded by <code>[]</code></strong>, any characters that are <strong>not alpha-numeric or <code>-</code> are removed.</strong> For example, consider binding the following properties to a Map:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">acme:</span></span><br><span class="line">	<span class="attr">map:</span></span><br><span class="line">		<span class="string">"[/key1]"</span><span class="string">:</span> <span class="string">value1</span></span><br><span class="line">		<span class="string">"[/key2]"</span><span class="string">:</span> <span class="string">value2</span></span><br><span class="line">		<span class="string">/key3:</span> <span class="string">value3</span></span><br></pre></td></tr></table></figure>

<p>The properties above will bind to a Map with <code>/key1</code>, <code>/key2</code> and <code>key3</code> as the keys in the map. (For YAML files, the brackets need to be surrounded by quotes for the keys to be parsed properly.)</p>
<h3 id="Relaxed-Name-Matching-and-Binding-for-Enviromental-Variables"><a href="#Relaxed-Name-Matching-and-Binding-for-Enviromental-Variables" class="headerlink" title="Relaxed Name Matching and Binding for Enviromental Variables"></a>Relaxed Name Matching and Binding for Enviromental Variables</h3><p>Spring Boot uses some relaxed rules for binding <code>Environment</code> properties to <code>@ConfigurationProperties</code> beans, so there <strong>does not need to be an exact match between the Environment property name and the bean property name</strong>. Common examples where this is useful include dash-separated environment properties (for example, <code>context-path</code> binds to <code>contextPath</code>), and capitalized environment properties (for example, <code>PORT</code> binds to <code>port</code>).</p>
<p>Spring Boot’s relaxed binding rules are, as much as possible, designed to be compatible with naming  estrictions in different operating systems, such as Unix and Linux.</p>
<p>To convert a property name in the canonical-form to an environment variable name you can follow<br>these rules:</p>
<ul>
<li>Replace dots (<code>.</code>) with underscores (<code>_</code>).</li>
<li><strong>Remove any dashes</strong> (<code>-</code>).</li>
<li>Convert to uppercase.</li>
</ul>
<p>For example, the configuration property <code>spring.main.log-startup-info</code> would be an environment variable named <code>SPRING_MAIN_LOGSTARTUPINFO</code>.</p>
<h3 id="Properties-Type-Conversion"><a href="#Properties-Type-Conversion" class="headerlink" title="Properties Type Conversion"></a>Properties Type Conversion</h3><p>Spring Boot attempts to <strong>coerce the external application properties to the right type</strong> when it binds to the <code>@ConfigurationProperties</code> beans. </p>
<p>If you need <strong>custom type conversion</strong>, you can provide a <code>ConversionService</code> bean (with a bean named <code>conversionService</code>) or custom property editors (through a <code>CustomEditorConfigurer</code> bean) or custom Converters (with bean definitions annotated as <code>@ConfigurationPropertiesBinding</code>).</p>
<h4 id="Converting-time-durations"><a href="#Converting-time-durations" class="headerlink" title="Converting time durations"></a>Converting time durations</h4><p>Spring Boot has dedicated support for expressing durations. If you expose a <code>java.time.Duration</code> property, the following formats in application properties are available: </p>
<ul>
<li>A regular <code>long</code> representation (using milliseconds as the default unit unless a <code>@DurationUnit</code> has been specified)</li>
<li>The standard ISO-8601 format used by <code>java.time.Duration</code></li>
<li>A more readable format where the value and the unit are coupled (e.g. <code>10s</code> means 10 seconds)</li>
</ul>
<p>Consider the following example:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># inside your application,properties, suppose those units are in seconds</span><br><span class="line">app.time.sessionTimeout=240</span><br><span class="line">app.time.readTimeout=120</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties</span>(<span class="string">"app.system"</span>)</span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"classpath:application.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppSystemProperties</span> </span>&#123;</span><br><span class="line">	<span class="meta">@DurationUnit</span>(ChronoUnit.SECONDS)</span><br><span class="line">	<span class="keyword">private</span> Duration sessionTimeout;</span><br><span class="line">	<span class="meta">@DurationUnit</span>(ChronoUnit.SECONDS)</span><br><span class="line">	<span class="keyword">private</span> Duration readTimeout;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Duration <span class="title">getSessionTimeout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.sessionTimeout;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSessionTimeout</span><span class="params">(Duration sessionTimeout)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.sessionTimeout = sessionTimeout;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Duration <span class="title">getReadTimeout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.readTimeout;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setReadTimeout</span><span class="params">(Duration readTimeout)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.readTimeout = readTimeout;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If you specified a session timeout of <code>30</code> seconds in <code>application.properties</code>, getting <code>30</code>, <code>PT30S</code> and <code>30s</code> are all equivalent, if you specified <code>@DurationUnit(ChronoUnit.SECONDS)</code>. A read timeout of <code>500ms</code> can be specified in any of the following form: <code>500</code>, <code>PT0.5S</code> and <code>500ms</code>, without specifying the <code>@DurationUnit</code>.</p>
<p>Alternatively, you can use <strong>constructor binding</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConstructorBinding</span></span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(<span class="string">"app.time"</span>)</span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"classpath:application.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimeProperties</span> </span>&#123;</span><br><span class="line">    <span class="meta">@DurationUnit</span>(ChronoUnit.SECONDS)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">long</span> sessionTimeout;</span><br><span class="line">    <span class="meta">@DurationUnit</span>(ChronoUnit.SECONDS)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Duration readTimeout;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TimeProperties</span><span class="params">(<span class="keyword">long</span> sessionTimeout, Duration readTimeout)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sessionTimeout = sessionTimeout;</span><br><span class="line">        <span class="keyword">this</span>.readTimeout = readTimeout;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getSessionTimeout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.sessionTimeout;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Duration <span class="title">getReadTimeout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.readTimeout;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Converting-Periods"><a href="#Converting-Periods" class="headerlink" title="Converting Periods"></a>Converting Periods</h4><p>In addition to durations, Spring Boot can also work with <code>java.time.Period type</code>. This is essentially the same as <code>Duration</code> shown above.</p>
<p>The following formats can be used in application properties:</p>
<ul>
<li>An regular <code>int</code> representation (using days as the default unit unless a <code>@PeriodUnit</code> has been specified)</li>
<li>The standard <code>ISO-8601</code> format used by <code>java.time.Period</code></li>
<li>A simpler format where the value and the unit pairs are coupled (e.g. <code>1y3d</code> means 1 year and 3 days)</li>
</ul>
<h4 id="Converting-Data-Size"><a href="#Converting-Data-Size" class="headerlink" title="Converting Data Size"></a>Converting Data Size</h4><p>Spring Framework has a DataSize value type that expresses a size in bytes. If you expose a DataSize<br>property, the following formats in application properties are available:</p>
<ul>
<li>A regular long representation (using bytes as the default unit unless a <code>@DataSizeUnit</code> has been specified)</li>
<li>A more readable format where the value and the unit are coupled (e.g. <code>10MB</code> means 10 megabytes)</li>
</ul>
<p>Consider the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties</span>(<span class="string">"app.io"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppIoProperties</span> </span>&#123;</span><br><span class="line">	<span class="meta">@DataSizeUnit</span>(DataUnit.MEGABYTES)</span><br><span class="line">	<span class="keyword">private</span> DataSize bufferSize = DataSize.ofMegabytes(<span class="number">2</span>);</span><br><span class="line">	<span class="keyword">private</span> DataSize sizeThreshold = DataSize.ofBytes(<span class="number">512</span>);</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> DataSize <span class="title">getBufferSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.bufferSize;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBufferSize</span><span class="params">(DataSize bufferSize)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.bufferSize = bufferSize;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> DataSize <span class="title">getSizeThreshold</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.sizeThreshold;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSizeThreshold</span><span class="params">(DataSize sizeThreshold)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.sizeThreshold = sizeThreshold;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>To specify a buffer size of 10 megabytes, <code>10</code> and <code>10MB</code> are equivalent. A size threshold of 256 bytes can be specified as <code>256</code> or <code>256B</code>.</p>
<p>You can also use any of the supported units. These are:</p>
<ul>
<li><code>B</code> for bytes</li>
<li><code>KB</code> for kilobytes</li>
<li><code>MB</code> for megabytes</li>
<li><code>GB</code> for gigabytes</li>
<li><code>TB</code> for terabytes</li>
</ul>
<p>The default unit is bytes and can be overridden using <code>@DataSizeUnit</code> as illustrated in the sample above.</p>
<h3 id="Validating-ConfigurationProperties"><a href="#Validating-ConfigurationProperties" class="headerlink" title="Validating @ConfigurationProperties"></a>Validating <code>@ConfigurationProperties</code></h3><p>Spring Boot attempts to <strong>validate<code>@ConfigurationProperties</code> classes whenever they are annotated with Spring’s <code>@Validated</code> annotation</strong>. You can use JSR-303 <code>javax.validation</code> constraint annotations directly on your configuration class. To do so, ensure that a compliant JSR-303 implementation is on your classpath and then add constraint annotations to your fields, as shown in the following example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix=<span class="string">"acme"</span>)</span><br><span class="line"><span class="meta">@Validated</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AcmeProperties</span> </span>&#123;</span><br><span class="line">	<span class="meta">@NotNull</span></span><br><span class="line">	<span class="keyword">private</span> InetAddress remoteAddress;</span><br><span class="line">	<span class="comment">// ... getters and setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This will prevent the application from running if that field annotated with <code>@NotNull</code> is actually <code>null</code>. Then, if that is the case, you will see the error in console:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Property: app.time.writeTimeout</span><br><span class="line">Value: null</span><br><span class="line">Reason: cannot be null</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> To use this feature, you need to add the dependency<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-starter-validation&lt;&#x2F;artifactId&gt;</span><br></pre></td></tr></table></figure></li>
<li><input disabled="" type="checkbox"> You can also trigger validation by annotating the <code>@Bean</code> method that creates the configuration properties with <code>@Validated</code></li>
</ul>
</blockquote>
<p>To ensure that validation is always <strong>triggered for nested properties</strong>, the <strong>associated field must be annotated with <code>@Valid</code></strong>, even when no properties are found. The following example builds on the preceding <code>AcmeProperties</code> example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix=<span class="string">"acme"</span>)</span><br><span class="line"><span class="meta">@Validated</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AcmeProperties</span> </span>&#123;</span><br><span class="line">	<span class="meta">@NotNull</span></span><br><span class="line">	<span class="keyword">private</span> InetAddress remoteAddress;</span><br><span class="line">	<span class="meta">@Valid</span>	<span class="comment">// notice the @Valid here</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> Security security = <span class="keyword">new</span> Security();</span><br><span class="line">	<span class="comment">// ... getters and setters</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Security</span> </span>&#123;</span><br><span class="line">		<span class="meta">@NotEmpty</span></span><br><span class="line">		<span class="keyword">public</span> String username;</span><br><span class="line">		<span class="comment">// ... getters and setters</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Logging"><a href="#Logging" class="headerlink" title="Logging"></a>Logging</h2><hr>
<p>There are also quite some options that you can specify with logging. You can change the default logging level to options such as <code>debug</code> or <code>trace</code> to see more information about how Spring Boot configured your application, <code>logging-file-name</code> to produce logs to a local file.</p>
<h3 id="Log-Format"><a href="#Log-Format" class="headerlink" title="Log Format"></a>Log Format</h3><p>The** default log output** from Spring Boot resembles the following example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">2020-06-19 18:33:04.627  INFO 25956 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable</span><br><span class="line">2020-06-19 18:33:04.628  INFO 25956 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;</span><br><span class="line">2020-06-19 18:33:05.317  INFO 25956 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)</span><br><span class="line">2020-06-19 18:33:05.322  INFO 25956 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]</span><br><span class="line">2020-06-19 18:33:05.322  INFO 25956 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat&#x2F;9.0.35]</span><br><span class="line">2020-06-19 18:33:05.408  INFO 25956 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[&#x2F;]       : Initializing Spring embedded WebApplicationContext</span><br><span class="line">2020-06-19 18:33:05.409  INFO 25956 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 781 ms</span><br><span class="line">2020-06-19 18:33:05.645  INFO 25956 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;</span><br><span class="line">2020-06-19 18:33:05.758  INFO 25956 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729</span><br><span class="line">2020-06-19 18:33:05.791  INFO 25956 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;</span><br></pre></td></tr></table></figure>

<p>The following items are output:</p>
<ul>
<li>Date and Time: Millisecond precision and easily sortable.</li>
<li>Log Level: <code>ERROR</code>, <code>WARN</code>, <code>INFO</code>, <code>DEBUG</code>, or <code>TRACE</code>.</li>
<li>Process ID.</li>
<li>A <code>---</code> separator to distinguish the start of actual log messages.</li>
<li>Thread name: Enclosed in square brackets (may be truncated for console output).</li>
<li>Logger name: This is usually the source class name (often abbreviated).</li>
<li>The log message.</li>
</ul>
<h3 id="debug-log"><a href="#debug-log" class="headerlink" title="debug log"></a><code>debug</code> log</h3><p>By default, <code>ERROR-level</code>, <code>WARN-level</code>, and <code>INFO-level</code> messages are logged. You can also enable a “debug” mode by starting your application with a <code>--debug</code> flag, or by specifying <code>debug=true</code> in your <code>application.properties</code>.</p>
<p>When the debug mode is enabled, <strong>a selection of core loggers</strong> (embedded container, Hibernate, and Spring Boot)** are configured to output more information<strong>. Enabling the debug mode does **not</strong> configure your application to <strong>log all messages with <code>DEBUG</code> level</strong>.</p>
<h3 id="trace-log"><a href="#trace-log" class="headerlink" title="trace log"></a><code>trace</code> log</h3><p>Alternatively, you can enable a “trace” mode by starting your application with a <code>--trace</code> flag (or <code>trace=true</code> in your <code>application.properties</code>). Doing so enables <strong>trace logging for a selection of core loggers</strong> (embedded container, Hibernate schema generation, and the whole Spring portfolio).</p>
<h3 id="Configuring-Log-Levels-for-a-specific-logger"><a href="#Configuring-Log-Levels-for-a-specific-logger" class="headerlink" title="Configuring Log Levels for a specific logger"></a>Configuring Log Levels for a specific logger</h3><p>All the supported logging systems can have the logger levels set in the Spring Environment (for example, in <code>application.properties</code>) by <strong>using <code>logging.level.&lt;logger-name&gt;=&lt;level&gt;</code></strong> where level is one of <code>TRACE</code>, <code>DEBUG</code>, <code>INFO</code>, <code>WARN</code>, <code>ERROR</code>, <code>FATAL</code>, or <code>OFF</code>. The root logger can be configured by using <code>logging.level.root</code>.</p>
<p>The following example shows potential logging settings in <code>application.properties</code>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">logging.level.root=warn</span><br><span class="line">logging.level.org.springframework.web=debug</span><br><span class="line">logging.level.org.hibernate=error</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> In the previous section, it is seen that <strong>some of the loggers have the name <code>o.s.boot</code> or <code>o.s.b</code></strong>. They <strong>actually stand for <code>org.springframework.boot</code></strong>. So you can configure them by specifying the logger level of <code>org.springframework.boot</code>.</li>
</ul>
</blockquote>
<h3 id="Configuring-Log-Levels-using-Log-Groups"><a href="#Configuring-Log-Levels-using-Log-Groups" class="headerlink" title="Configuring Log Levels using Log Groups"></a>Configuring Log Levels using Log Groups</h3><p>It’s often useful to be able to <strong>group related loggers together so that they can all be configured at the same time</strong>. For example, you might commonly change the logging levels for all Tomcat related loggers, but you can’t easily remember top level packages.</p>
<p>To help with this, Spring Boot allows you to <strong>define logging groups in your Spring Environment</strong>. For example, here’s how you could define a “tomcat” group by adding it to your <code>application.properties</code>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logging.group.tomcat=org.apache.catalina, org.apache.coyote, org.apache.tomcat</span><br></pre></td></tr></table></figure>

<p>Once defined, you can change the level for all the loggers in the group with a single line:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logging.level.tomcat=TRACE</span><br></pre></td></tr></table></figure>
<p>Spring Boot includes the following <strong>pre-defined logging groups</strong> that can be used out-of-the-box:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Loggers</th>
</tr>
</thead>
<tbody><tr>
<td>web</td>
<td><code>org.springframework.core.codec</code>, <code>org.springframework.http</code>, <code>org.springframework.web</code>, <code>org.springframework.boot.actuate.endpoint.web</code>, <code>org.springframework.boot.web.servlet.ServletContextInitializerBeans</code></td>
</tr>
<tr>
<td>sql</td>
<td><code>org.springframework.jdbc.core</code>, <code>org.hibernate.SQL</code>, <code>org.jooq.tools.LoggerListener</code></td>
</tr>
</tbody></table>
<h3 id="File-Output"><a href="#File-Output" class="headerlink" title="File Output"></a>File Output</h3><p><strong>By default</strong>, Spring Boot <strong>logs only to the console</strong> and does not write log files. If you want to write log files in addition to the console output, you need to set a <code>logging.file.name</code> or <code>logging.file.path property</code>.</p>
<p>For example, to specify your output logging file to <code>./myLog.log</code>, where the current directory would be your project directory (where your <code>POM</code> file resides), you could write:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># inside application.properties</span><br><span class="line">logging.file.name&#x3D;.&#x2F;myLog.log</span><br></pre></td></tr></table></figure>

<p>The following table shows how the <code>logging.*</code> properties can be used together:</p>
<table>
<thead>
<tr>
<th><code>logging.file.name</code></th>
<th><code>logging.file.path</code></th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>(none)</td>
<td>(none)</td>
<td><code>logging.file.name=</code></td>
<td>Console only logging.</td>
</tr>
<tr>
<td>Specific file</td>
<td>(none)</td>
<td><code>logging.file.name=my.log</code></td>
<td>Writes to the specified log file. Names can be an exact location or relative to the current directory.</td>
</tr>
<tr>
<td>(none)</td>
<td>Specific directory</td>
<td><code>logging.file.path=/var/log</code></td>
<td>Writes <code>spring.log</code> to the specified directory.  Names can be an exact location or relative to the current directory.</td>
</tr>
</tbody></table>
<p>Log files rotate when they reach 10 MB and, as with console output, ERROR-level, WARN-level, and INFO<br>-level messages are logged by default. However, if you have specified <code>debug</code> or <code>trace</code> that modifies the console log output, the log written to file will also include those <code>debug</code> or <code>trace</code> information.</p>
<p>Besides that, there are** several other defaults that Spring Boot uses but can be configured**:</p>
<ul>
<li>Size limits can be changed using the <code>logging.file.max-size</code> property (by default it is 10MB). </li>
<li>Rotated log files of the last 7 days are kept by default unless the <code>logging.file.max-history</code> property has been set. </li>
<li>The total size of log archives can be capped using <code>logging.file.total-sizecap</code>. When the total size of log archives exceeds that threshold, backups will be deleted. </li>
<li>To force log archive cleanup on application startup, use the <code>logging.file.clean-history-on-start</code> property.</li>
</ul>
<h3 id="Logback-Extensions"><a href="#Logback-Extensions" class="headerlink" title="Logback Extensions"></a>Logback Extensions</h3><p>By default, the logging system you use is Logback. You can use and configure other logging systems as well (for more details, please visit <a href="https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/spring-boot-features.html#boot-features-custom-log-configuration" target="_blank" rel="noopener">this link</a>). But <strong>if you use Logback</strong>, Spring Boot  includes <strong>a number of extensions to Logback that can help with advanced configuration</strong>.</p>
<p>You can use these extensions in your <code>logback-spring.xml</code> configuration file.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> Because the <strong>standard <code>logback.xml</code> configuration file is loaded too early</strong>, you <strong>cannot use extensions in it</strong>. You need to either use <code>logback-spring.xml</code> or define a <code>logging.config</code> property.</li>
<li><input disabled="" type="checkbox"> The extensions <strong>cannot be used with Logback’s configuration scanning</strong>. If you attempt to do so, making changes to the configuration file results in an error.</li>
</ul>
</blockquote>
<h5 id="Profile-Specific-Configuration"><a href="#Profile-Specific-Configuration" class="headerlink" title="Profile Specific Configuration"></a>Profile Specific Configuration</h5><p>The <code>&lt;springProfile&gt;</code> tag lets you optionally <strong>include or exclude sections of configuration based on the active Spring profiles</strong>. Profile sections are supported anywhere within the <code>&lt;configuration&gt;</code> element. </p>
<p>Use the <code>name</code> attribute to specify which profile accepts the configuration. The <code>&lt;springProfile&gt;</code> tag can contain a simple profile name (for example <code>staging</code>) or a profile expression. </p>
<ul>
<li>A profile expression allows for more complicated profile logic to be expressed, for example <code>production &amp; (eu-central | eu-west)</code>. Check the <a href="https://docs.spring.io/spring/docs/5.2.6.RELEASE/spring-framework-reference/core.html#beans-definition-profiles-java" target="_blank" rel="noopener">reference guide</a> for more details.</li>
</ul>
<p>The following listing shows three sample profiles:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">"staging"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- configuration to be enabled when the "staging" profile is active --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">"dev | staging"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- configuration to be enabled when the "dev" or "staging" profiles are active --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">"!production"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- configuration to be enabled when the "production" profile is not active --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="Environment-Properties"><a href="#Environment-Properties" class="headerlink" title="Environment Properties"></a>Environment Properties</h5><p>The <code>&lt;springProperty&gt;</code> tag lets you expose properties from the Spring Environment for use within Logback. Doing so can be useful <strong>if you want to access values from your <code>application.properties</code> file</strong> in your Logback configuration. </p>
<p>The tag works in a similar way to Logback’s standard <code>&lt;property&gt;</code> tag. However, rather than specifying a direct value, you <strong>specify the source of the property</strong> (from the Environment). If you need to store the property somewhere other than in <code>local</code> scope, you can use the <code>scope</code> attribute. If you need a <code>fallback</code> value (in case the property is not set in the Environment), you can use the <code>defaultValue</code> attribute. The following example shows how to expose properties for use within Logback:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">springProperty</span> <span class="attr">scope</span>=<span class="string">"context"</span> <span class="attr">name</span>=<span class="string">"fluentHost"</span> <span class="attr">source</span>=<span class="string">"myapp.fluentd.host"</span> <span class="attr">defaultValue</span>=<span class="string">"localhost"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"FLUENT"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.more.appenders.DataFluentAppender"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">remoteHost</span>&gt;</span>$&#123;fluentHost&#125;<span class="tag">&lt;/<span class="name">remoteHost</span>&gt;</span></span><br><span class="line">	...</span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Developing-Web-Applications"><a href="#Developing-Web-Applications" class="headerlink" title="Developing Web Applications"></a>Developing Web Applications</h2><hr>
<p>Spring Boot is well suited for web application development. You can create a self-contained HTTP server by using embedded Tomcat, Jetty, Undertow, or Netty. <strong>Most web applications use the <code>springboot-starter-web</code> module to get up and running quickly</strong>. You can also choose to build <strong>reactive web applications by using the <code>spring-boot-starter-webflux</code> module</strong>.</p>
<h3 id="Spring-Web-MVC-Framework"><a href="#Spring-Web-MVC-Framework" class="headerlink" title="Spring Web MVC Framework"></a>Spring Web MVC Framework</h3><p>The Spring Web MVC framework (often referred to as simply “Spring MVC”) is a rich “model view controller” web framework. Spring MVC lets you** create special <code>@Controller</code> or <code>@RestController</code> beans to handle incoming HTTP requests** (<code>@Controller</code> would be returning data that is being rendered by <code>view</code>, and <code>@RestController</code> would be returning raw data). <strong>Methods in your controller are mapped to HTTP by using <code>@RequestMapping</code> annotations</strong>.</p>
<p>The following code shows a typical <code>@RestController</code> that serves JSON data (by default):</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(value=<span class="string">"/users"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRestController</span> </span>&#123;</span><br><span class="line">	<span class="meta">@RequestMapping</span>(value=<span class="string">"/&#123;user&#125;"</span>, method=RequestMethod.GET)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">(@PathVariable Long user)</span> </span>&#123;	<span class="comment">// objects returned are turned into JSON format</span></span><br><span class="line">		<span class="comment">// ...</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@RequestMapping</span>(value=<span class="string">"/&#123;user&#125;/customers"</span>, method=RequestMethod.GET)</span><br><span class="line">	<span class="function">List&lt;Customer&gt; <span class="title">getUserCustomers</span><span class="params">(@PathVariable Long user)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// ...</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@RequestMapping</span>(value=<span class="string">"/&#123;user&#125;"</span>, method=RequestMethod.DELETE)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">deleteUser</span><span class="params">(@PathVariable Long user)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// ...</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Spring MVC is part of the core Spring Framework, and detailed information is available in the <a href="https://docs.spring.io/spring/docs/5.2.6.RELEASE/spring-framework-reference/web.html#mvc" target="_blank" rel="noopener">reference documentation</a>. There are also several guides that cover Spring MVC available at <a href="https://spring.io/guides" target="_blank" rel="noopener">spring.io/guides</a>.</p>
<h2 id="Graceful-shutdown"><a href="#Graceful-shutdown" class="headerlink" title="Graceful shutdown"></a>Graceful shutdown</h2><hr>
<p>Graceful shutdown is supported with all four embedded web servers (Jetty, Reactor Netty, Tomcat, and Undertow) and with both reactive and Servlet-based web applications. It occurs as part of closing the application context and is performed in the earliest phase of stopping SmartLifecycle beans. </p>
<p>This stop processing uses a timeout which provides a grace period during <strong>which existing requests will be allowed to complete but no new requests will be permitted</strong>. The exact way in which new requests are not permitted varies depending on the web server that is being used. Jetty, Reactor Netty, and Tomcat will stop accepting requests at the network layer. Undertow will accept requests but respond immediately with a service unavailable (503) response.</p>
<p>To enable graceful shutdown, configure the server.shutdown property, as shown in the following example:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server.shutdown=graceful</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/06/02/Redis-Manual/" rel="prev" title="Redis Manual">
      <i class="fa fa-chevron-left"></i> Redis Manual
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/06/09/Spring-Framework-Guide/" rel="next" title="Spring Framework Guide">
      Spring Framework Guide <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiao Yu</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/next-boot.js"></script>


  















  

  

</body>
</html>
