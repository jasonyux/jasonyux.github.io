<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Spring Boot Manual | From a Beginner to a Disaster</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="IMPORTANT:Much of the content here is a personal summary&#x2F;abbrieviation of contents on the Offical Spring Boot Documentation. For more complete information, please refer to the offical site.  Spring B">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring Boot Manual">
<meta property="og:url" content="http://yoursite.com/2020/06/09/SpringBoot-Manual/index.html">
<meta property="og:site_name" content="From a Beginner to a Disaster">
<meta property="og:description" content="IMPORTANT:Much of the content here is a personal summary&#x2F;abbrieviation of contents on the Offical Spring Boot Documentation. For more complete information, please refer to the offical site.  Spring B">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-06-09T03:35:00.000Z">
<meta property="article:modified_time" content="2020-06-15T13:02:40.863Z">
<meta property="article:author" content="Xiao Yu">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="From a Beginner to a Disaster" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">From a Beginner to a Disaster</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Xiao.Y</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-SpringBoot-Manual" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/09/SpringBoot-Manual/" class="article-date">
  <time datetime="2020-06-09T03:35:00.000Z" itemprop="datePublished">2020-06-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Spring Boot Manual
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p><strong>IMPORTANT</strong>:<br>Much of the content here is a personal summary/abbrieviation of contents on the <a href="https://docs.spring.io/spring-boot/docs/2.3.0.RELEASE/reference/html/" target="_blank" rel="noopener">Offical Spring Boot Documentation</a>. For more complete information, please refer to the offical site.</p>
<hr>
<h2 id="Spring-Boot-Installation"><a href="#Spring-Boot-Installation" class="headerlink" title="Spring Boot Installation"></a>Spring Boot Installation</h2><p>For instructions on installing and a quick overview of using Spring Boot, please refer to this <a href="https://docs.spring.io/spring-boot/docs/2.3.0.RELEASE/reference/html/getting-started.html#getting-started-installing-spring-boot" target="_blank" rel="noopener">page</a></p>
<h2 id="Structuring-Your-Code"><a href="#Structuring-Your-Code" class="headerlink" title="Structuring Your Code"></a>Structuring Your Code</h2><p>Technically, Spring Boot does not require any specific code layout to work. However, there are <strong>some best practices that help:</strong></p>
<ul>
<li><p>Your <code>main application</code> class:</p>
<ul>
<li><p>It is generally recommend that you locate <strong>your <code>main application</code> class in a root package above other<br>classes.</strong> The <code>@SpringBootApplication</code> annotation is often placed on your main class, and it implicitly<br>defines a base “search package” for certain items</p>
</li>
<li><p>For example, the follwoing structure:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">com</span><br><span class="line">+- example</span><br><span class="line">	+- myapplication</span><br><span class="line">		+- Application.java</span><br><span class="line">		|</span><br><span class="line">		+- customer</span><br><span class="line">		|   +- Customer.java</span><br><span class="line">		|   +- CustomerController.java</span><br><span class="line">		|   +- CustomerService.java</span><br><span class="line">		|   +- CustomerRepository.java</span><br><span class="line">		|</span><br><span class="line">		+- order</span><br><span class="line">			+- Order.java</span><br><span class="line">			+- OrderController.java</span><br><span class="line">			+- OrderService.java</span><br><span class="line">			+- OrderRepository.java</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Your primary <code>configuration</code> class</p>
<ul>
<li>Although it is possible to use <code>SpringApplication</code> with <code>XML</code> sources, we generally recommend that <strong>your primary source be a single <code>@Configuration</code> class</strong>. Usually the <strong>class that defines the main method is a good candidate as the primary <code>@Configuration</code></strong>.</li>
<li>You can also <strong>import configuration classes</strong>:<ul>
<li>The <strong><code>@Import</code> annotation can be used to import additional configuration classes</strong>. Alternatively, you can <strong>use <code>@ComponentScan</code> to automatically pick up all Spring components</strong>, including <code>@Configuration</code> classes.</li>
</ul>
</li>
<li><strong>Import XML Configuration</strong><ul>
<li>If you need to use an XML based configuration, we recommend that you <strong>still start with a <code>@Configuration</code> class</strong>. You can <strong>then use an <code>@ImportResource</code> annotation</strong> to load XML configuration files.</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> A single <code>@SpringBootApplication</code> annotation can be <strong>used to enable three features</strong>, that is:<ul>
<li><code>@EnableAutoConfiguration</code>: enable Spring Boot’s auto-configuration mechanism</li>
<li><code>@ComponentScan</code>: enable @Component scan on the package where the application is located (see the best practices)</li>
<li><code>@Configuration</code>: allow to register extra beans in the context or import additional configuration classes<br>SO, the <code>@SpringBootApplication</code> annotation is <strong>equivalent to using <code>@Configuration</code>, <code>@EnableAutoConfiguration</code>, and <code>@ComponentScan</code> with their default attributes</strong>, as shown in the following example:</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.myapplication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span> <span class="comment">// same as @Configuration @EnableAutoConfiguration @ComponentScan</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		SpringApplication.run(Application<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Auto-Configuration"><a href="#Auto-Configuration" class="headerlink" title="Auto-Configuration"></a>Auto-Configuration</h3><p>(additional reference: <a href="https://www.javatpoint.com/spring-boot-auto-configuration" target="_blank" rel="noopener">https://www.javatpoint.com/spring-boot-auto-configuration</a>)</p>
<p>You can also choose to use the Spring Boot <code>auto-configuration</code>, which attempts to automatically configure your Spring application based on the jar dependencies that you have added.</p>
<p>For example, if the H2 database Jar is <strong>present in the classpath and we have not configured any beans</strong> related to the database manually, the Spring Boot’s auto-configuration feature automatically configures it in the project.</p>
<p>To enable <code>auto-configuration</code>, you need to <strong>add either <code>@EnableAutoConfiguration</code> or <code>@SpringBootApplication</code> annotations to one of your <code>@Configuration</code> classes</strong>.</p>
<p>However, if you find that specific auto-configuration classes that you do not want are being applied, you can also specify to disable <strong>disable the specific auto-configuration classes</strong>. We <strong>use the <code>exclude</code> attribute of the annotation <code>@EnableAutoConfiguration</code></strong> to disable the auto-configuration classes. For example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.*;  </span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.jdbc.*;  </span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span>(proxyBeanMethods = <span class="keyword">false</span>)  </span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span>(exclude=&#123;DataSourceAutoConfiguration<span class="class">.<span class="keyword">class</span>&#125;)  </span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">MyConfiguration</span></span>&#123;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We can <strong>use the attribute <code>excludeName</code></strong> of the annotation <code>@EnableAutoConfiguration</code> and specify the qualified name of the class, <strong>if the class is not on the class path</strong>. We can exclude any number of auto-configuration classes by using the property <code>spring.autoconfigure.exclude</code>.</p>
<p>This is also supported if you use the <code>@SpringBootApplication</code> annotation:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.jdbc.*;</span><br><span class="line"><span class="meta">@SpringBootApplication</span>(exclude=&#123;DataSourceAutoConfiguration<span class="class">.<span class="keyword">class</span>&#125;)  // <span class="title">also</span> <span class="title">supported</span></span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">MyApplication</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Spring-Beans-and-Dependency-Injection-in-Spring-Boot"><a href="#Spring-Beans-and-Dependency-Injection-in-Spring-Boot" class="headerlink" title="Spring Beans and Dependency Injection in Spring Boot"></a>Spring Beans and Dependency Injection in Spring Boot</h3><p>You are free to use any of the standard <strong>Spring Framework techniques</strong> to define your beans and their injected dependencies. For simplicity, we often find that <strong>using <code>@ComponentScan</code> (to find your beans) and using <code>@Autowired</code> (to do constructor injection) works well</strong>. If you structure your code as suggested above <strong>(locating your application class in a root package), you can add <code>@ComponentScan</code> without any arguments, as it will automatically scan all component classes in current package and all its subpackages</strong>. All of your application components (<code>@Component</code>, <code>@Service</code>, <code>@Repository</code>, <code>@Controller</code> etc.) are automatically registered as Spring Beans.</p>
<p>For example, if you have in your sub-package a <code>@Service</code> as shown below, it will be automatically included in the configuration:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DatabaseAccountService</span> <span class="keyword">implements</span> <span class="title">AccountService</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> RiskAssessor riskAssessor;  <span class="comment">// Notice this will be final</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DatabaseAccountService</span><span class="params">(RiskAssessor riskAssessor)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.riskAssessor = riskAssessor;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Notice how <strong>using constructor injection lets the <code>riskAssessor</code> field be marked as <code>final</code></strong>, indicating that the reference to that <code>riskAssessor</code> object cannot be subsequently changed (mutator methods of that object can still be used, of course).</p>
<h2 id="Running-Your-Application"><a href="#Running-Your-Application" class="headerlink" title="Running Your Application"></a>Running Your Application</h2><p>One of the biggest advantages of packaging your application as a jar and using an embedded HTTP server is that you can run your application as you would any other. Debugging Spring Boot applications is also easy. You do not need any special IDE plugins or extensions.</p>
<p>If you use the Spring Boot Maven or Gradle plugins to create an executable <code>jar</code>, you can <strong>run your application using <code>java -jar</code></strong>, as shown in the following example: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ java -jar target&#x2F;myapplication-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>

<p>It is also possible to run a packaged application with remote debugging support enabled. Doing so lets you attach a debugger to your packaged application, as shown in the following example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ java -Xdebug -Xrunjdwp:server&#x3D;y,transport&#x3D;dt_socket,address&#x3D;8000,suspend&#x3D;n \</span><br><span class="line">-jar target&#x2F;myapplication-0.0.1-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>

<h3 id="Compiling-and-Running-using-Maven-Plugin"><a href="#Compiling-and-Running-using-Maven-Plugin" class="headerlink" title="Compiling and Running using Maven Plugin"></a>Compiling and Running using Maven Plugin</h3><p>The Spring Boot Maven plugin includes a <code>run</code> goal that can be used to quickly compile and run your application. Applications run in an exploded form, as they do in your IDE. The following example shows a typical Maven command to run a Spring Boot application:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn spring-boot:run</span><br></pre></td></tr></table></figure>

<p>You might also want to use the <code>MAVEN_OPTS</code> operating system environment variable, as shown in the following example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ export MAVEN_OPTS&#x3D;-Xmx1024m</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><code>-Xmx1024m</code> specifies the maximum size, in bytes, of the memory allocation pool. This value must <strong>a multiple of 1024 greater than 2 MB</strong>. Append the letter <code>k</code> or <code>K</code> to indicate kilobytes, or <code>m</code> or <code>M</code> to indicate megabytes. The default value is chosen at runtime based on system configuration.</li>
</ul>
<h2 id="Developer-Tools"><a href="#Developer-Tools" class="headerlink" title="Developer Tools"></a>Developer Tools</h2><p>Spring Boot includes an additional set of tools that can make the application development experience a little more pleasant. The <code>spring-boot-devtools module</code> can be included in any project to <strong>provide additional development-time features</strong>.</p>
<p>For example, if you have worked on latest UI development frameworks e.g. <code>Node</code>, <code>angular</code>, <code>gulp</code> etc. then you must have appreciated the <strong>auto-reload of UI in browser</strong> whenever there is <strong>change in some code</strong>. Its pretty useful and saves a lot of time.</p>
<p>Well, <strong>same feature can be utilized in spring boot applications using <code>spring-boot-devtools</code> dependency provided features</strong>.</p>
<h3 id="Enabling-spring-boot-devtools"><a href="#Enabling-spring-boot-devtools" class="headerlink" title="Enabling spring-boot-devtools"></a>Enabling <code>spring-boot-devtools</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">	&lt;dependency&gt;</span><br><span class="line">		&lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;</span><br><span class="line">		&lt;artifactId&gt;spring-boot-devtools&lt;&#x2F;artifactId&gt;</span><br><span class="line">		&lt;optional&gt;true&lt;&#x2F;optional&gt;</span><br><span class="line">	&lt;&#x2F;dependency&gt;</span><br><span class="line">&lt;&#x2F;dependencies&gt;</span><br></pre></td></tr></table></figure>

<p>where we flagged the dependency as <code>optional</code> because:</p>
<ul>
<li>Flagging the <strong>dependency as <code>optional</code> in maven</strong> (as shown above) <strong>prevents devtools from being transitively applied to other modules</strong> that use your project.</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> <strong>Developer tools are automatically disabled when running a fully packaged application</strong>. If your application is launched from <code>java -jar</code> or if it is started from a special classloader, then it is considered a “production application”. If that does not apply to you (i.e. if you run your application from a container), consider excluding devtools or set the <code>-Dspring.devtools.restart.enabled=false</code> system property.</li>
</ul>
</blockquote>
<h3 id="Configuring-your-spring-boot-devtools"><a href="#Configuring-your-spring-boot-devtools" class="headerlink" title="Configuring your spring-boot-devtools"></a>Configuring your <code>spring-boot-devtools</code></h3><p>(additional reference: <a href="https://howtodoinjava.com/spring-boot2/developer-tools-module-tutorial/#:~:text=The%20spring%2Dboot%2Ddevtools%20module,default%2C%20live%20reload%20is%20enabled" target="_blank" rel="noopener">https://howtodoinjava.com/spring-boot2/developer-tools-module-tutorial/#:~:text=The%20spring%2Dboot%2Ddevtools%20module,default%2C%20live%20reload%20is%20enabled</a>)</p>
<p>To improve the performance, <strong>dev tools cache the static content/template files to serve them faster to browser/client</strong>. This is <strong>very good feature in production</strong> where every milli-second performance improvement matters. But <strong>in development environment, it can be a problem and cause stale cache problem</strong> and you may not see your changes immediatly in browser. For this reason, <code>springboot-devtools</code> <strong>disables the caching options by default</strong>.</p>
<p>Also, because you need more information about web requests while developing Spring MVC and Spring WebFlux applications, <strong>developer tools will enable <code>DEBUG</code> logging for the web logging group</strong>. This will give you <strong>information about the incoming request, which handler is processing it, the response outcome, etc</strong>.</p>
<p>More importantly, you can also <strong>configure the <code>springboot-devtools</code> to meet your own needs</strong>:</p>
<ol>
<li><p>You can enable the static caching to use in production environment by setting a property:</p>
 <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># inside application.properties</span></span><br><span class="line"><span class="meta">spring.freemarker.cache</span> = <span class="string">true 	# false by default in production environment</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Other such properties</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># spring.thymeleaf.cache = false</span></span><br><span class="line"><span class="comment"># spring.mustache.cache = false</span></span><br><span class="line"><span class="comment"># spring.groovy.template.cache = false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>If you wish to log all request details (including potentially sensitive information), you can turn on the <code>spring.mvc.log-request-details</code> or <code>spring.codec.log-request-details</code> configuration properties.</p>
 <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># inside application.properties</span></span><br><span class="line"><span class="meta">spring.mvn.log-request-details</span> = <span class="string">true 	# or spring.codec.log-request-details = true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>The <code>spring-boot-devtools</code> module <strong>includes an embedded LiveReload server that can be used to trigger a browser refresh when a resource is changed</strong>. Precondition is that your browser should have supported extention for it. You can find such browser extentions in this <a href="https://livereload.com/extensions/" target="_blank" rel="noopener">link</a>.</p>
<p> <strong>By default, live reload is enabled</strong>. If you wish to disable this feature for some reason, then set <code>sping.devtools.livereload.enabled</code> property to <code>false</code>.</p>
 <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#inside application.properties</span></span><br><span class="line"><span class="meta">spring.devtools.livereload.enabled</span>  = <span class="string">false 	# Set false to disable live reload</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>For a complete list of the properties that are applied by the devtools, see <a href="https://github.com/spring-projects/spring-boot/tree/v2.3.0.RELEASE/spring-boot-project/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/env/DevToolsPropertyDefaultsPostProcessor.java" target="_blank" rel="noopener">DevToolsPropertyDefaultsPostProcessor</a>.</p>
</li>
</ol>
<h3 id="Automatic-Reload"><a href="#Automatic-Reload" class="headerlink" title="Automatic Reload"></a>Automatic Reload</h3><p>The automatic reload has been introduced in the section above, which triggers a browser refresh when a resource is changed. By default, it is triggered on these paths:</p>
<ul>
<li><code>/META-INF/maven</code></li>
<li><code>/META-INF/resources</code></li>
<li><code>/resources</code></li>
<li><code>/static</code></li>
<li><code>/public</code></li>
<li><code>/templates</code></li>
</ul>
<p>If you want to <strong>disable auto-reload in browser for files in few of these paths</strong>, then use <code>spring.devtools.restart.exclude property</code>. For example:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">spring.devtools.restart.exclude</span>=<span class="string">static/**,public/**</span></span><br></pre></td></tr></table></figure>

<p>If you want to <strong>watch those addtional files/paths not in the default list</strong> to reload the application, use the <code>spring.devtools.restart.additional-paths</code> property.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.devtools.restart.additional-paths&#x3D;script&#x2F;**</span><br></pre></td></tr></table></figure>

<p>Similarily, If you want to <strong>exclude those additional paths</strong>, use the <code>spring.devtools.restart.additional-exclude property</code>.</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">spring.devtools.restart.additional-exclude</span>=<span class="string">styles/**</span></span><br></pre></td></tr></table></figure>

<h3 id="Automatic-Restart"><a href="#Automatic-Restart" class="headerlink" title="Automatic Restart"></a>Automatic Restart</h3><p>Auto-restart means <strong>reloading the java classes and consiguration at server side</strong>. After the server side changes are re-deployed dynamically, server restart happen and load the modified code and configutation.</p>
<p>This can be a useful feature when working in an IDE, as it gives a very fast feedback loop for code changes. By default, <strong>any entry on the classpath that points to a directory is monitored for changes</strong>. Note that certain resources, such as <strong>static assets and view templates, do not need to restart the application (these would be more appropriate for auto-reload)</strong>.</p>
<p>As DevTools monitors classpath resources, the <strong>only way to trigger a restart is to update the classpath</strong>. The way in which you cause the classpath to be updated depends on the IDE that you are using. In Eclipse, saving a modified file causes the classpath to be updated and triggers a restart. <strong>In IntelliJ IDEA, building the project (Build → Build Project) triggers the restart</strong>.</p>
<p>In general, <strong>automatic restart works very well when used with LiveReload</strong>. See the <a href="#LiveReload">LiveReload</a> section for details. If you use JRebel, automatic restarts are disabled in favor of dynamic class reloading. Other devtools features (such as LiveReload and property overrides) can still be used.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> DevTools relies on the application context’s shutdown hook to close it during a restart. It does not work correctly if you have disabled the shutdown hook (<code>SpringApplication.setRegisterShutdownHook(false)</code>).</li>
</ul>
</blockquote>
<p><strong>To enable/disable automatic restart</strong>, you could use the property <code>spring.devtools.restart.enabled</code>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># inside application.properties</span><br><span class="line">spring.devtools.restart.enabled = false 	# disables restart. Set to true to enable it</span><br></pre></td></tr></table></figure>

<p><strong>To enable/disable logging of auto-configuration changes</strong>, you need to use <code>pring.devtools.restart.log-condition-evaluation-delta</code>. <strong>By default, each time your application restarts, a report showing the condition evaluation delta is logged</strong>. The report shows the changes to your application’s auto-configuration as you make changes such as adding or removing beans and setting configuration properties.</p>
<p>To disable the logging of the report, set the following property:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># inside application.properties</span><br><span class="line">spring.devtools.restart.log-condition-evaluation-delta = false 		# set to true to enable it</span><br></pre></td></tr></table></figure>

<p>Doing so still <strong>initializes the restart classloader</strong>, but it does not watch for file changes.</p>
<p>If you need to <strong>completely disable restart support</strong> (for example, because it does not work with a specific library), you need to set the <strong><code>spring.devtools.restart.enabled</code> System property to <code>false</code> before calling <code>SpringApplication.run(…)</code></strong>, as shown in the following example: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	System.setProperty(<span class="string">"spring.devtools.restart.enabled"</span>, <span class="string">"false"</span>);</span><br><span class="line">	SpringApplication.run(MyApp<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>To trigger a restart with a Trigger File</strong>, you need to set the property <code>spring.devtools.restart.trigger-file</code>. This is useful if automatic restarts may not be desirable on every file change and sometimes can slower down development time due to frequent restarts. To solve this problem, you can use a trigger file. <strong>Spring boot will keep monitoring that file and once it will detect any modification in that file, it will restart the server and reload all your previous changes</strong>.</p>
<p>To use a trigger file, <strong>set the <code>spring.devtools.restart.trigger-file</code> property to the name (excluding<br>any path) of your trigger file</strong>. The trigger file <strong>must appear somewhere on your classpath</strong>.</p>
<p>For example, if you have a project with the following structure:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">+- main</span><br><span class="line">	+- resources</span><br><span class="line">		+- .reloadtrigger</span><br></pre></td></tr></table></figure>

<p>Then your trigger-file property would be:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.devtools.restart.trigger-file=.reloadtrigger</span><br></pre></td></tr></table></figure>

<p>Restarts <strong>will now only happen when the <code>src/main/resources/.reloadtrigger</code> is updated</strong>.</p>
<p>Some IDEs have features that save you from needing to update your trigger file manually. For IntelliJ, you can follow the instructions in <a href="https://www.jetbrains.com/help/idea/spring-boot.html#configure-application-update-policies-with-devtools" target="_blank" rel="noopener">their documentation</a>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> You might want to <strong>set <code>spring.devtools.restart.trigger-file</code> as a global setting</strong>, so that all your projects behave in the same way.</li>
</ul>
</blockquote>
<h3 id="Auto-Reload-vs-Auto-Restart"><a href="#Auto-Reload-vs-Auto-Restart" class="headerlink" title="Auto-Reload vs Auto-Restart"></a>Auto-Reload vs Auto-Restart</h3><p><strong>Auto-reload</strong> (or auto-refresh) refer to <strong>UI reload at browser to see static content changes</strong>. <strong>Auto-restart</strong> is referred to <strong>reloading the server side code and configurations</strong> followed by server restart.</p>
<p>The <strong>restart technology provided by Spring Boot works by using two classloaders</strong>. Classes that do not change (for example, those from third-party jars) are loaded into a base classloader. Classes that you are actively developing are loaded into a restart classloader. When the application is restarted, <strong>the restart classloader is thrown away and a new one is created</strong>. This approach means that application <strong>restarts are typically much faster than “cold starts”</strong>, since the base classloader is already available and populated.</p>
<p>If you find that** restarts are not quick enough for your applications or you encounter classloading issues<strong>, you **could consider reloading</strong> technologies such as JRebel from ZeroTurnaround. These work by rewriting classes as they are loaded to make them more amenable to reloading.</p>
<h3 id="LiveReload"><a href="#LiveReload" class="headerlink" title="LiveReload"></a>LiveReload</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/06/09/SpringBoot-Manual/" data-id="ckb7qqorv0000xworfjw0fm12" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/06/09/Spring-Framework-Guide/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Spring Framework Guide
        
      </div>
    </a>
  
  
    <a href="/2020/06/02/Redis-Manual/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Redis Manual</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/06/15/Go-Manual/">Go Manual</a>
          </li>
        
          <li>
            <a href="/2020/06/09/Spring-Framework-Guide/">Spring Framework Guide</a>
          </li>
        
          <li>
            <a href="/2020/06/09/SpringBoot-Manual/">Spring Boot Manual</a>
          </li>
        
          <li>
            <a href="/2020/06/02/Redis-Manual/">Redis Manual</a>
          </li>
        
          <li>
            <a href="/2020/05/26/MySQL-Manual/">MySQL Manual</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Xiao Yu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>