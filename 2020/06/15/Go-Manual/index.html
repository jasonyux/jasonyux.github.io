<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo-180x180.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo-32x32.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo-16x16.jpg">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jasonyux.github.io","root":"/","scheme":"Pisces","version":"8.0.0-rc.3","exturl":false,"sidebar":{"position":"left","width":350,"display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="IMPORTANT:Some of the content here is a personal summary&#x2F;abbreviation of contents on the Offical Go Documentation. Feel free to refer to the official site if you think some of the sections written he">
<meta property="og:type" content="article">
<meta property="og:title" content="Go Manual">
<meta property="og:url" content="https://jasonyux.github.io/2020/06/15/Go-Manual/index.html">
<meta property="og:site_name" content="From a Beginner to a Disaster">
<meta property="og:description" content="IMPORTANT:Some of the content here is a personal summary&#x2F;abbreviation of contents on the Offical Go Documentation. Feel free to refer to the official site if you think some of the sections written he">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-06-15T02:57:30.000Z">
<meta property="article:modified_time" content="2020-07-29T07:29:06.259Z">
<meta property="article:author" content="Xiao Yu">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://jasonyux.github.io/2020/06/15/Go-Manual/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Go Manual | From a Beginner to a Disaster</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before, .use-motion .logo-line-after {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line-before"></i>
      <h1 class="site-title">From a Beginner to a Disaster</h1>
      <i class="logo-line-after"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Xiao.Y</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Installing-Go"><span class="nav-number">1.</span> <span class="nav-text">Installing Go</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Packages"><span class="nav-number">2.</span> <span class="nav-text">Packages</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-main-package-and-main-function"><span class="nav-number">2.1.</span> <span class="nav-text">The main package and main() function</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Running-a-Program"><span class="nav-number">3.</span> <span class="nav-text">Running a Program</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Imports"><span class="nav-number">4.</span> <span class="nav-text">Imports</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Import-Paths"><span class="nav-number">4.1.</span> <span class="nav-text">Import Paths</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Package-Alias"><span class="nav-number">4.2.</span> <span class="nav-text">Package Alias</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Adding-3rd-party-Packages"><span class="nav-number">4.3.</span> <span class="nav-text">Adding 3rd party Packages</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exports"><span class="nav-number">5.</span> <span class="nav-text">Exports</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Functions"><span class="nav-number">6.</span> <span class="nav-text">Functions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-Parameters-and-Return-Types"><span class="nav-number">6.1.</span> <span class="nav-text">Function Parameters and Return Types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-Type-Abbreviation"><span class="nav-number">6.2.</span> <span class="nav-text">Input Type Abbreviation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Multiple-Return-Results"><span class="nav-number">6.3.</span> <span class="nav-text">Multiple Return Results</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Named-return-values"><span class="nav-number">6.4.</span> <span class="nav-text">Named return values</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Blank-Identifier"><span class="nav-number">6.5.</span> <span class="nav-text">Blank Identifier</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Variables"><span class="nav-number">7.</span> <span class="nav-text">Variables</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Declaring-Variables"><span class="nav-number">7.1.</span> <span class="nav-text">Declaring Variables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Zero-Values"><span class="nav-number">7.2.</span> <span class="nav-text">Zero Values</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Variable-Initialization"><span class="nav-number">7.3.</span> <span class="nav-text">Variable Initialization</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-Inference"><span class="nav-number">7.4.</span> <span class="nav-text">Type Inference</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Short-Variable-Declarations"><span class="nav-number">7.5.</span> <span class="nav-text">Short Variable Declarations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Scope-of-Variables"><span class="nav-number">7.6.</span> <span class="nav-text">Scope of Variables</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Types"><span class="nav-number">8.</span> <span class="nav-text">Types</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Basic-Types"><span class="nav-number">8.1.</span> <span class="nav-text">Basic Types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Byte-and-Rune"><span class="nav-number">8.2.</span> <span class="nav-text">Byte and Rune</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Operations-on-Numberic-Types"><span class="nav-number">8.3.</span> <span class="nav-text">Operations on Numberic Types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Operations-on-Boolean-Types"><span class="nav-number">8.4.</span> <span class="nav-text">Operations on Boolean Types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Operations-on-Complex-Types"><span class="nav-number">8.5.</span> <span class="nav-text">Operations on Complex Types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Strings"><span class="nav-number">8.6.</span> <span class="nav-text">Strings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-Conversion"><span class="nav-number">8.7.</span> <span class="nav-text">Type Conversion</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Constants"><span class="nav-number">9.</span> <span class="nav-text">Constants</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Declaring-a-Constant"><span class="nav-number">9.1.</span> <span class="nav-text">Declaring a Constant</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Typed-and-Untyped-Constants"><span class="nav-number">9.2.</span> <span class="nav-text">Typed and Untyped Constants</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Control-Flow-Statements"><span class="nav-number">10.</span> <span class="nav-text">Control Flow Statements</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#For-Loop"><span class="nav-number">10.1.</span> <span class="nav-text">For Loop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#“While”-Loop"><span class="nav-number">10.2.</span> <span class="nav-text">“While” Loop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Break-Continue-in-For-Loop"><span class="nav-number">10.3.</span> <span class="nav-text">Break&#x2F;Continue in For Loop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#if-else-if-else-Control-Flow"><span class="nav-number">10.4.</span> <span class="nav-text">if&#x2F;else if&#x2F;else Control Flow</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#if-else-if-Short-Declaration"><span class="nav-number">10.5.</span> <span class="nav-text">if&#x2F;else if Short Declaration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Switch-Statement"><span class="nav-number">10.6.</span> <span class="nav-text">Switch Statement</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Switch-Without-A-Condition"><span class="nav-number">10.7.</span> <span class="nav-text">Switch Without A Condition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Defer"><span class="nav-number">10.8.</span> <span class="nav-text">Defer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stacking-Defers"><span class="nav-number">10.9.</span> <span class="nav-text">Stacking Defers</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Pointers"><span class="nav-number">11.</span> <span class="nav-text">Pointers</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Initializing-a-Pointer"><span class="nav-number">11.1.</span> <span class="nav-text">Initializing a Pointer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dereferening-a-Pointer"><span class="nav-number">11.2.</span> <span class="nav-text">Dereferening a Pointer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-a-Pointer-using-the-built-in-new-function"><span class="nav-number">11.3.</span> <span class="nav-text">Creating a Pointer using the built-in new() function</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Structs"><span class="nav-number">12.</span> <span class="nav-text">Structs</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Defining-a-Struct-Type"><span class="nav-number">12.1.</span> <span class="nav-text">Defining a Struct Type</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Instantiating-a-Struct-Type"><span class="nav-number">12.2.</span> <span class="nav-text">Instantiating a Struct Type</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Accessing-fields-of-a-Struct"><span class="nav-number">12.3.</span> <span class="nav-text">Accessing fields of a Struct</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pointer-to-Structs"><span class="nav-number">12.4.</span> <span class="nav-text">Pointer to Structs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-a-struct-using-the-built-in-new-function"><span class="nav-number">12.5.</span> <span class="nav-text">Creating a struct using the built-in new() function</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exported-and-Unexported-Fields-in-a-Struct"><span class="nav-number">12.6.</span> <span class="nav-text">Exported and Unexported Fields in a Struct</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Structs-and-Short-Declarations"><span class="nav-number">12.7.</span> <span class="nav-text">Structs and Short Declarations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Equality"><span class="nav-number">12.8.</span> <span class="nav-text">Equality &#x3D;&#x3D;</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Arrays"><span class="nav-number">13.</span> <span class="nav-text">Arrays</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Declaring-an-Array"><span class="nav-number">13.1.</span> <span class="nav-text">Declaring an Array</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Modifying-an-Array"><span class="nav-number">13.1.1.</span> <span class="nav-text">Modifying an Array</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Slices"><span class="nav-number">14.</span> <span class="nav-text">Slices</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Declaring-a-Slice"><span class="nav-number">14.1.</span> <span class="nav-text">Declaring a Slice</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Creating-from-an-Existing-Array"><span class="nav-number">14.1.1.</span> <span class="nav-text">Creating from an Existing Array</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Creating-a-Brand-New-Slice"><span class="nav-number">14.1.2.</span> <span class="nav-text">Creating a Brand New Slice</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Slicing-Defaults"><span class="nav-number">14.2.</span> <span class="nav-text">Slicing Defaults</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-a-Slice-from-another-Slice"><span class="nav-number">14.3.</span> <span class="nav-text">Creating a Slice from another Slice</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#length-and-a-capacity"><span class="nav-number">14.3.1.</span> <span class="nav-text">length and a capacity</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-a-Slice-with-make"><span class="nav-number">14.4.</span> <span class="nav-text">Creating a Slice with make</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Functions-for-Slice"><span class="nav-number">14.5.</span> <span class="nav-text">Functions for Slice</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Appending-to-a-slice"><span class="nav-number">14.5.1.</span> <span class="nav-text">Appending to a slice</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Copying-a-Slice"><span class="nav-number">14.5.2.</span> <span class="nav-text">Copying a Slice</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterating-over-a-Slice"><span class="nav-number">14.6.</span> <span class="nav-text">Iterating over a Slice</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-range"><span class="nav-number">14.6.1.</span> <span class="nav-text">Using range</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Maps"><span class="nav-number">15.</span> <span class="nav-text">Maps</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Declaring-a-Map"><span class="nav-number">15.1.</span> <span class="nav-text">Declaring a Map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Initializing-a-Map"><span class="nav-number">15.2.</span> <span class="nav-text">Initializing a Map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Initializing-a-map-using-the-built-in-make-function"><span class="nav-number">15.3.</span> <span class="nav-text">Initializing a map using the built-in make() function</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Initializing-a-map-using-a-map-literal"><span class="nav-number">15.3.1.</span> <span class="nav-text">Initializing a map using a map literal</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Adding-items-key-value-pairs-to-a-map"><span class="nav-number">15.4.</span> <span class="nav-text">Adding items (key-value pairs) to a map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Retrieving-the-value-associated-with-a-given-key-in-a-map"><span class="nav-number">15.5.</span> <span class="nav-text">Retrieving the value associated with a given key in a map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Checking-if-a-key-exists-in-a-map"><span class="nav-number">15.6.</span> <span class="nav-text">Checking if a key exists in a map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Deleting-a-key-from-a-map"><span class="nav-number">15.7.</span> <span class="nav-text">Deleting a key from a map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Maps-are-reference-types"><span class="nav-number">15.8.</span> <span class="nav-text">Maps are reference types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterating-over-a-map"><span class="nav-number">15.9.</span> <span class="nav-text">Iterating over a map</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Function-Values"><span class="nav-number">16.</span> <span class="nav-text">Function Values</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Function-closures"><span class="nav-number">16.0.1.</span> <span class="nav-text">Function closures</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Methods"><span class="nav-number">17.</span> <span class="nav-text">Methods</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Methods-with-Pointer-receivers"><span class="nav-number">17.1.</span> <span class="nav-text">Methods with Pointer receivers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-equivalent-of-a-Method"><span class="nav-number">17.2.</span> <span class="nav-text">Function equivalent of a Method</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Methods-and-Pointer-indirection"><span class="nav-number">17.3.</span> <span class="nav-text">Methods and Pointer indirection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Method-definition-restrictions"><span class="nav-number">17.4.</span> <span class="nav-text">Method definition restrictions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Interface"><span class="nav-number">18.</span> <span class="nav-text">Interface</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Implementing-an-interface-in-Go"><span class="nav-number">18.1.</span> <span class="nav-text">Implementing an interface in Go</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-an-interface-type-with-concrete-values"><span class="nav-number">18.2.</span> <span class="nav-text">Using an interface type with concrete values</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Interface-values-How-does-an-interface-type-work-with-concrete-values"><span class="nav-number">18.3.</span> <span class="nav-text">Interface values: How does an interface type work with concrete values?</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#What-if-you-have-a-nil-value-for-an-Interface"><span class="nav-number">18.3.1.</span> <span class="nav-text">What if you have a nil value for an Interface?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#What-if-you-have-a-nil-type-for-an-Interface"><span class="nav-number">18.3.2.</span> <span class="nav-text">What if you have a nil type for an Interface?</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-empty-Interface"><span class="nav-number">18.4.</span> <span class="nav-text">The empty Interface</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-Assertions"><span class="nav-number">18.5.</span> <span class="nav-text">Type Assertions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-switches"><span class="nav-number">18.6.</span> <span class="nav-text">Type switches</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Common-Interfaces"><span class="nav-number">19.</span> <span class="nav-text">Common Interfaces</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Stringer-Interface"><span class="nav-number">19.1.</span> <span class="nav-text">Stringer Interface</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Error-Interface"><span class="nav-number">19.2.</span> <span class="nav-text">Error Interface</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reader-Interface"><span class="nav-number">20.</span> <span class="nav-text">Reader Interface</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Go-Routines"><span class="nav-number">21.</span> <span class="nav-text">Go Routines</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-a-Goroutine"><span class="nav-number">21.1.</span> <span class="nav-text">Creating a Goroutine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Anonymous-Goroutine"><span class="nav-number">21.2.</span> <span class="nav-text">Anonymous Goroutine</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Channels"><span class="nav-number">22.</span> <span class="nav-text">Channels</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-a-Channel"><span class="nav-number">22.1.</span> <span class="nav-text">Creating a Channel</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sending-and-Receiving-Data-from-a-Channel"><span class="nav-number">22.2.</span> <span class="nav-text">Sending and Receiving Data from a Channel</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Closing-a-Channel"><span class="nav-number">22.3.</span> <span class="nav-text">Closing a Channel</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Buffered-Channels"><span class="nav-number">22.4.</span> <span class="nav-text">Buffered Channels</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Select-and-Case-Statement-in-Channel"><span class="nav-number">22.5.</span> <span class="nav-text">Select and Case Statement in Channel</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sync-Mutex"><span class="nav-number">23.</span> <span class="nav-text">sync.Mutex</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Xiao Yu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>
  <div class="sidebar-button motion-element"><i class="fa fa-comment"></i>
    Chat
  </a>
  </div>



      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


      <div class="main-inner">
        

        <div class="content post posts-expand">
          

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonyux.github.io/2020/06/15/Go-Manual/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xiao Yu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="From a Beginner to a Disaster">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Go Manual
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-06-15 10:57:30" itemprop="dateCreated datePublished" datetime="2020-06-15T10:57:30+08:00">2020-06-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-29 15:29:06" itemprop="dateModified" datetime="2020-07-29T15:29:06+08:00">2020-07-29</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <hr>
<p><strong>IMPORTANT</strong>:<br>Some of the content here is a personal summary/abbreviation of contents on the <a href="https://golang.org/doc/" target="_blank" rel="noopener">Offical Go Documentation</a>. Feel free to refer to the official site if you think some of the sections written here are not clear.</p>
<hr>
<h2 id="Installing-Go"><a href="#Installing-Go" class="headerlink" title="Installing Go"></a>Installing Go</h2><p>Please follow the <a href="https://golang.org/doc/install" target="_blank" rel="noopener">Offical Guide on Installing Go</a>.</p>
<h2 id="Packages"><a href="#Packages" class="headerlink" title="Packages"></a>Packages</h2><p>(additional reference: <a href="https://www.callicoder.com/golang-packages/#:~:text=Go%20Package,following%20syntax%20%2D%20package" target="_blank" rel="noopener">https://www.callicoder.com/golang-packages/#:~:text=Go%20Package,following%20syntax%20%2D%20package</a>)</p>
<p>Every <strong>Go program is made up of packages</strong>, and every <strong>Go source file belongs to a package</strong>. To declare a source file to be part of a package, we use the following syntax -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> &lt;packagename&gt;</span><br></pre></td></tr></table></figure>

<p>The above package declaration must be the first line of code in your Go source file. All the functions, types, and variables defined in your Go source file become part of the declared package.</p>
<p>You can <strong>choose to export a member defined in your package to outside packages</strong>, or keep them private to the same package. Other packages can <strong>import and reuse the functions or types that are exported from your package</strong>.</p>
<p>Let’s see an example</p>
<p>Almost all the code that we will see in this tutorial series include the following line -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br></pre></td></tr></table></figure>

<p><code>fmt</code> is a core library package that contains functionalities related to formatting and printing output or reading input from various I/O sources. It exports functions like <code>Println()</code>, <code>Printf()</code>, <code>Scanf()</code> etc, for other packages to reuse.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> By convention, the <strong>package name is</strong> the same as the <strong>last element of the import path</strong>. For instance, the <code>&quot;math/rand&quot;</code> package comprises files that begin with the statement <code>package rand</code>.</li>
</ul>
</blockquote>
<h3 id="The-main-package-and-main-function"><a href="#The-main-package-and-main-function" class="headerlink" title="The main package and main() function"></a>The <code>main</code> package and <code>main()</code> function</h3><p>Go programs start running in the <code>main</code> package. It is a <strong>special package that is used with programs that are meant to be executable</strong>. The <strong><code>main()</code> function is a special function that is the entry point of an executable program</strong>.</p>
<p>By convention, Executable programs (the ones with the main package) are called Commands. Others are called simply Packages.</p>
<a id="more"></a>
<p>Usually, you would have a <code>main</code> package at the top level of your project, and then create sub-directories for other packages. For example, you could have the following structure:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">myProject&#x2F;</span><br><span class="line">	main.go</span><br><span class="line">	subModule&#x2F;</span><br><span class="line">		test1.go</span><br><span class="line">		test2.go</span><br><span class="line">	anotherModule&#x2F;</span><br><span class="line">		test3.go</span><br></pre></td></tr></table></figure>

<h2 id="Running-a-Program"><a href="#Running-a-Program" class="headerlink" title="Running a Program"></a>Running a Program</h2><p><strong>Programs start running in <code>package main</code></strong>.</p>
<p>For example, using the <code>math/rand</code> pacakge, we could generate a random number by:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"math/rand"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"hello, world\n"</span>)</span><br><span class="line">	fmt.Println(rand.Intn(<span class="number">10</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> The environment in which these programs are executed is <strong>deterministic, so each time you run the example program rand.Intn will return the same number</strong>. To see a <strong>different number</strong>, <strong>seed the number generator</strong>; see <code>rand.Seed</code>.</li>
</ul>
</blockquote>
<h2 id="Imports"><a href="#Imports" class="headerlink" title="Imports"></a>Imports</h2><p>To import a <strong>go package (a collection of go files)</strong>, it first needs to be <strong>included in your GoPath</strong>.</p>
<p>There are two ways to import packages in Go -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Multiple import statements</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"time"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"math"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"math/rand"</span></span><br><span class="line"><span class="comment">// Factored import statements</span></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">	<span class="string">"math"</span></span><br><span class="line">    <span class="string">"math/rand"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>It is generally considered a <strong>good style to use the factored import statement</strong>.</p>
<p>Notice that the imported package name basically follow the directory hierarchy (as mentioned before, Go’s convention is that - the package name is the same as the last element of the import path). For example, the name of the package imported as <code>math/rand</code> is rand. It is <strong>imported with path <code>math/rand</code> because It is nested inside the math package as a subdirectory</strong>.</p>
<h3 id="Import-Paths"><a href="#Import-Paths" class="headerlink" title="Import Paths"></a>Import Paths</h3><p>(additional reference: <a href="https://www.callicoder.com/golang-packages/" target="_blank" rel="noopener">https://www.callicoder.com/golang-packages/</a>)</p>
<p>All import paths are relative to the <strong>GoPath or GoModule (this will be talked about later) path</strong>.</p>
<p>For example, if you have <code>github.com/callicode/packer</code> as the directory where you initiate your <code>go.module</code> file, then you can refer to packages <strong>relative to that module’s directory</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"github.com/callicoder/packer/numbers"</span></span><br><span class="line">    <span class="string">"github.com/callicoder/packer/strings"</span>  </span><br><span class="line">    <span class="string">"github.com/callicoder/packer/strings/greeting"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="Package-Alias"><a href="#Package-Alias" class="headerlink" title="Package Alias"></a>Package Alias</h3><p>You can use <strong>package alias to resolve conflicts between different packages of the same name</strong>, or just to give a short name to the imported package</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import (</span><br><span class="line">    str &quot;strings&quot;   &#x2F;&#x2F; Package Alias, so that you can use str.some_function() for strings.some_function()</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="Adding-3rd-party-Packages"><a href="#Adding-3rd-party-Packages" class="headerlink" title="Adding 3rd party Packages"></a>Adding 3rd party Packages</h3><p>Adding 3rd party packages to your project is very easy with Go modules. You can just import the package to any of the source files in your project, and the next time you build/run the project, Go automatically downloads it for you -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"rsc.io/quote"</span>  <span class="comment">// a third-party package</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(quote.Go())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And the output will look like:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ go run main.go</span><br><span class="line">go: finding rsc.io&#x2F;quote v1.5.2</span><br><span class="line">go: downloading rsc.io&#x2F;quote v1.5.2</span><br><span class="line">go: extracting rsc.io&#x2F;quote v1.5.2</span><br><span class="line">go: downloading rsc.io&#x2F;sampler v1.3.0</span><br><span class="line">go: extracting rsc.io&#x2F;sampler v1.3.0</span><br><span class="line">go: downloading golang.org&#x2F;x&#x2F;text v0.0.0-20170915032832-14c0d48ead0c</span><br><span class="line">go: extracting golang.org&#x2F;x&#x2F;text v0.0.0-20170915032832-14c0d48ead0c</span><br><span class="line">go: finding rsc.io&#x2F;sampler v1.3.0</span><br><span class="line">go: finding golang.org&#x2F;x&#x2F;text v0.0.0-20170915032832-14c0d48ead0c</span><br><span class="line"></span><br><span class="line">Don&#39;t communicate by sharing memory, share memory by communicating.</span><br></pre></td></tr></table></figure>
<p>Go will also add this new dependency to the <code>go.mod</code> file.</p>
<h2 id="Exports"><a href="#Exports" class="headerlink" title="Exports"></a>Exports</h2><p>In Go, a <strong>function/variable/type is exported if its name begins with a capital letter</strong>. For example, <code>Pizza()</code> is an exported name, as is <code>Pi</code>, which is exported from the <code>math</code> package.</p>
<p><code>pizza</code> and <code>pi</code> do not start with a capital letter, <strong>so they are not exported</strong>. This means that they are <strong>not accessible from outside the package when using imports</strong>.</p>
<p>So, in short:</p>
<ul>
<li>Anything (variable, type, or function) that <strong>starts with a capital letter is exported</strong>, and visible outside the package.</li>
<li>Anything that <strong>does not start with a capital letter is not exported</strong>, and is <strong>visible only inside the same package</strong>.</li>
</ul>
<p>For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// MaxInt64 is an exported name</span></span><br><span class="line">	fmt.Println(<span class="string">"Max value of int64: "</span>, <span class="keyword">int64</span>(math.MaxInt64))</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Phi is an exported name</span></span><br><span class="line">	fmt.Println(<span class="string">"Value of Phi (ϕ): "</span>, math.Phi)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// pi starts with a small letter, so it is NOT exported</span></span><br><span class="line">	fmt.Println(<span class="string">"Value of Pi (𝜋): "</span>, math.pi)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">.&#x2F;exported_names.go:16:38: cannot refer to unexported name math.pi</span><br><span class="line">.&#x2F;exported_names.go:16:38: undefined: math.pi</span><br></pre></td></tr></table></figure>

<h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><p>(additional reference: <a href="https://www.callicoder.com/golang-functions/" target="_blank" rel="noopener">https://www.callicoder.com/golang-functions/</a>)</p>
<p>In Golang, we declare a function using the <code>func</code> keyword. A function has a <strong>name</strong>, a list of comma-separated <strong>input parameters</strong> along with their types, the** result type(s)<strong>, and a **body</strong>.</p>
<p>Following is an example of a simple function called avg that takes two input parameters of type float64 and returns the average of the inputs. The <strong>result is also of type <code>float64</code></strong> -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">avg</span><span class="params">(x <span class="keyword">float64</span>, y <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> (x + y) / <span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Notice that the <strong>type comes after the variable name</strong>.</p>
<h3 id="Function-Parameters-and-Return-Types"><a href="#Function-Parameters-and-Return-Types" class="headerlink" title="Function Parameters and Return Types"></a>Function Parameters and Return Types</h3><p>The <strong>input parameters and return type(s) are optional for a function</strong>. A function can be declared without any input and output.</p>
<p>The <code>main()</code> function is an example of such a function -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here is another example -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"Hello, World"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Input-Type-Abbreviation"><a href="#Input-Type-Abbreviation" class="headerlink" title="Input Type Abbreviation"></a>Input Type Abbreviation</h3><p>You need to <strong>specify the type only once</strong> for multiple <strong>consecutive</strong> parameters of the same type</p>
<p>If a function has two or more consecutive parameters of the same type, then it suffices to specify the type <strong>only once for the last parameter of that type</strong>.</p>
<p>For example, we can declare the avg function that we saw in the previous section like this as well -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">avg</span><span class="params">(x, y <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123; &#125;</span><br><span class="line"><span class="comment">// Same as - func avg(x float64, y float64) float64 &#123; &#125;</span></span><br></pre></td></tr></table></figure>

<p>Here is another example -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printPersonDetails</span><span class="params">(firstName, lastName <span class="keyword">string</span>, age <span class="keyword">int</span>)</span></span> &#123; &#125;</span><br><span class="line"><span class="comment">// Same as - func printPersonDetails(firstName string, lastName string, age int) &#123; &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Multiple-Return-Results"><a href="#Multiple-Return-Results" class="headerlink" title="Multiple Return Results"></a>Multiple Return Results</h3><p>Go is capable of returning multiple results. You just need to <strong>specify the return types separated by comma inside parentheses</strong>, and then return multiple comma-separated values from the function.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(x, y <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">string</span>, <span class="keyword">string</span>)</span></span> &#123;	<span class="comment">// returning two strings</span></span><br><span class="line">	<span class="keyword">return</span> y, x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a, b := swap(<span class="string">"hello"</span>, <span class="string">"world"</span>)	<span class="comment">// notice the use of :=, the short declaration, which will come later in this guide</span></span><br><span class="line">	fmt.Println(a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>A common approach using this feature is to <strong>return an error value from a function</strong> if there could be an abnormal behavior with some input.</p>
<p>Let’s see an example - The <code>getStockPriceChange</code> function that we saw will return <code>±Inf (Infinity)</code> if the <code>prevPrice</code> is <code>0</code>. If you want to return an <code>error</code> instead, you can do so by <strong>adding another return value of type <code>error</code></strong> and return the <code>error</code> value like so -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getStockPriceChangeWithError</span><span class="params">(prevPrice, currentPrice <span class="keyword">float64</span>)</span> <span class="params">(<span class="keyword">float64</span>, <span class="keyword">float64</span>, error)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> prevPrice == <span class="number">0</span> &#123;</span><br><span class="line">		err := errors.New(<span class="string">"Previous price cannot be zero"</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, <span class="number">0</span>, err</span><br><span class="line">	&#125;</span><br><span class="line">	change := currentPrice - prevPrice</span><br><span class="line">	percentChange := (change / prevPrice) * <span class="number">100</span></span><br><span class="line">	<span class="keyword">return</span> change, percentChange, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <strong><code>error</code> type is a built-in type in Golang</strong>. Go programs use error values to indicate an abnormal situation. Don’t worry if you don’t understand about errors for now. You’ll learn more about error handling in a later section.</p>
<h3 id="Named-return-values"><a href="#Named-return-values" class="headerlink" title="Named return values"></a>Named return values</h3><p>Go’s return values may be named. If so, they are treated as <strong>variables defined at the top of the function</strong>.</p>
<p>For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">split</span><span class="params">(sum <span class="keyword">int</span>)</span> <span class="params">(x, y <span class="keyword">int</span>)</span></span> &#123;	<span class="comment">// notice the specified type</span></span><br><span class="line">	x = sum * <span class="number">4</span> / <span class="number">9</span>		<span class="comment">// notice the change from := (short declaration) to = (assignment)</span></span><br><span class="line">	y = sum - x</span><br><span class="line">	<span class="keyword">return</span>		<span class="comment">// naked return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(split(<span class="number">17</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> A good practise would be <strong>using those names to document the meaning of the return values.</strong></li>
</ul>
</blockquote>
<p>A <strong>return statement without arguments returns the named return values</strong>. This is known as a “naked” return.</p>
<p>Naked return statements <strong>should</strong> be used only in <strong>short functions</strong>, as with the example shown here. They can harm readability in longer functions.</p>
<h3 id="Blank-Identifier"><a href="#Blank-Identifier" class="headerlink" title="Blank Identifier"></a>Blank Identifier</h3><p>Sometimes you may want to <strong>ignore some of the results from a function that returns multiple values</strong>.</p>
<p>For example, Let’s say that you’re using the <code>split</code> function that we defined in the previous section, but you’re only interested in the final result of <code>y</code>, not the intermediate <code>x</code>.</p>
<p>Well, you can use a blank identifier instead -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_, y := split(<span class="number">17</span>)</span><br></pre></td></tr></table></figure>

<p><strong>Q: Why can you not just declare a variable but not use it?</strong></p>
<p>The problem is that in Go, you’ll be forced to use the variables you declared because <strong>Go doesn’t allow creating variables that you never use</strong>.</p>
<h2 id="Variables"><a href="#Variables" class="headerlink" title="Variables"></a>Variables</h2><p>(additional reference: <a href="https://www.callicoder.com/golang-variables-zero-values-type-inference/" target="_blank" rel="noopener">https://www.callicoder.com/golang-variables-zero-values-type-inference/</a>)</p>
<p>Every program needs to store some data/information in memory. The data is stored in memory at a particular memory location.</p>
<p>A variable is just a convenient name given to a memory location where the data is stored. Apart from a <strong>name</strong>, every variable also has an <strong>associated type</strong>.</p>
<p>For example, Golang has a data type called <code>int8</code>. It represents 8-bit integers whose values can range from <code>-128</code> to <code>127</code>. It <strong>also defines the operations</strong> that can be done on <code>int8</code> data type such as addition, subtraction, multiplication, division etc.</p>
<h3 id="Declaring-Variables"><a href="#Declaring-Variables" class="headerlink" title="Declaring Variables"></a>Declaring Variables</h3><p>In Golang, We use the <code>var</code> keyword to declare variables -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> firstName <span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> lastName <span class="keyword">string</span>  </span><br><span class="line"><span class="keyword">var</span> age <span class="keyword">int</span></span><br></pre></td></tr></table></figure>

<p>You can also declare multiple variables at once like so -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	firstName <span class="keyword">string</span></span><br><span class="line">	lastName  <span class="keyword">string</span></span><br><span class="line">	age       <span class="keyword">int</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>You can even combine multiple variable declarations of the same type with comma -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	firstName, lastName <span class="keyword">string</span></span><br><span class="line">	age                 <span class="keyword">int</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="Zero-Values"><a href="#Zero-Values" class="headerlink" title="Zero Values"></a>Zero Values</h3><p>Any <strong>variable declared without an initial value</strong> will have a zero-value depending on the type of the variable-</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Zero Value</th>
</tr>
</thead>
<tbody><tr>
<td>bool</td>
<td>false</td>
</tr>
<tr>
<td>string</td>
<td>””</td>
</tr>
<tr>
<td>int, int8, int16 etc.</td>
<td>0</td>
</tr>
<tr>
<td>float32, float64</td>
<td>0.0</td>
</tr>
</tbody></table>
<p>The example below demonstrates the concept of zero values:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> (</span><br><span class="line">		firstName, lastName <span class="keyword">string</span></span><br><span class="line">		age                 <span class="keyword">int</span></span><br><span class="line">		salary              <span class="keyword">float64</span></span><br><span class="line">		isConfirmed         <span class="keyword">bool</span></span><br><span class="line">	)</span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"firstName: %s, lastName: %s, age: %d, salary: %f, isConfirmed: %t\n"</span>,</span><br><span class="line">		firstName, lastName, age, salary, isConfirmed)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">firstName: , lastName: , age: 0, salary: 0.000000, isConfirmed: false</span><br></pre></td></tr></table></figure>

<h3 id="Variable-Initialization"><a href="#Variable-Initialization" class="headerlink" title="Variable Initialization"></a>Variable Initialization</h3><p>Here is how you can initialize variables during declaration -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> firstName <span class="keyword">string</span> = <span class="string">"Satoshi"</span></span><br><span class="line"><span class="keyword">var</span> lastName <span class="keyword">string</span> = <span class="string">"Nakamoto"</span></span><br><span class="line"><span class="keyword">var</span> age <span class="keyword">int</span> = <span class="number">35</span></span><br></pre></td></tr></table></figure>

<p>You can also use multiple declarations like this -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	firstName <span class="keyword">string</span> = <span class="string">"Satoshi"</span></span><br><span class="line">	lastName  <span class="keyword">string</span> = <span class="string">"Nakamoto"</span></span><br><span class="line">	age       <span class="keyword">int</span>    = <span class="number">35</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>Or even combine multiple variable declarations of the same type with comma and initialize them like so -</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var (</span><br><span class="line">	firstName, lastName string &#x3D; &quot;Satoshi&quot;, &quot;Nakamoto&quot;</span><br><span class="line">	age int &#x3D; 35</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled="" type="checkbox"> All these styles are allowed in both package level declaration and function level declaration</li>
</ul>
</blockquote>
<h3 id="Type-Inference"><a href="#Type-Inference" class="headerlink" title="Type Inference"></a>Type Inference</h3><p>Although Go is a Statically typed language (a language is statically-typed if the <strong>type of a variable is known at compile-time</strong> instead of at run-time), It doesn’t require you to explicitly specify the type of every variable you declare.</p>
<p>When you declare a variable with an initial value, Golang automatically <strong>infers the type</strong> of the variable from the <strong>value on the right-hand side</strong>. So you need not specify the type when you’re initializing the variable at the time of declaration -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">"Rajeev Singh"</span> <span class="comment">// Type declaration is optional here.</span></span><br><span class="line">    fmt.Printf(<span class="string">"Variable 'name' is of type %T\n"</span>, name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">Variable &#39;name&#39; is of type string</span><br></pre></td></tr></table></figure>
<p>In the above example, Golang automatically infers the type of the variable as string from the value on the right-hand side. <strong>If you try to reassign the variable to a value of some other type, then the compiler will throw an error</strong> -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"Rajeev Singh"</span>  <span class="comment">// Type inferred as `string`</span></span><br><span class="line">name = <span class="number">1234</span> <span class="comment">// Compiler Error</span></span><br></pre></td></tr></table></figure>

<p>This also means that type inference allows us to <strong>declare and initialize multiple variables of different data types</strong> in a single line like so -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// Multiple variable declarations with inferred types. No type is explicitly specified here</span></span><br><span class="line">    <span class="keyword">var</span> firstName, lastName, age, salary = <span class="string">"John"</span>, <span class="string">"Maxwell"</span>, <span class="number">28</span>, <span class="number">50000.0</span></span><br><span class="line"></span><br><span class="line">    fmt.Printf(<span class="string">"firstName: %T, lastName: %T, age: %T, salary: %T\n"</span>, </span><br><span class="line">        firstName, lastName, age, salary)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">firstName: string, lastName: string, age: int, salary: float64</span><br></pre></td></tr></table></figure>

<h3 id="Short-Variable-Declarations"><a href="#Short-Variable-Declarations" class="headerlink" title="Short Variable Declarations"></a>Short Variable Declarations</h3><p>Inside a function, the <code>:=</code> short assignment statement can be used in place of a <code>var</code> declaration <strong>with implicit/inferred type</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i, j <span class="keyword">int</span> = <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">	k := <span class="number">3</span></span><br><span class="line">	c, python, java := <span class="literal">true</span>, <span class="literal">false</span>, <span class="string">"yes!"</span>		<span class="comment">// all of them would work in a function level</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(i, j, k, c, python, java)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Outside a function</strong>, every statement <strong>needs to begin with a keyword</strong> (<code>var</code>, <code>func</code>, and so on) and so the <code>:=</code> construct is not available.</p>
<h3 id="Scope-of-Variables"><a href="#Scope-of-Variables" class="headerlink" title="Scope of Variables"></a>Scope of Variables</h3><p>A var statement can be <strong>at package or function level</strong>.</p>
<ul>
<li>If you defined a variable at the function level, then it is visible <strong>only inside that function</strong>.</li>
<li>If you defined a variable at the package level, then it is visible to <strong>all functions inside that package</strong>.</li>
</ul>
<p>However, when you declared a variable inside a function with the same name as the variable defined in the package level, then, from that declaration onwards, <strong>the variable defined in the function will be used</strong>.</p>
<p>For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span>(</span><br><span class="line">	age <span class="keyword">int8</span> = <span class="number">10</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	fmt.Println(age)</span><br><span class="line">	testScope</span><br><span class="line">	fmt.Println(age)	<span class="comment">// still 10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testScope</span><span class="params">()</span></span>&#123;</span><br><span class="line">	fmt.Println(<span class="string">"Inside testScope"</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Println(age)</span><br><span class="line">	<span class="keyword">var</span> age <span class="keyword">int8</span> = <span class="number">20</span>	<span class="comment">// overrides the value in the function level</span></span><br><span class="line">	fmt.Println(age)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"Exited testScope"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h2><p>Go is a <strong>statically typed programming language</strong>. Every variable in Golang has an associated type.</p>
<p>Data types classify a related set of data. They define how the data is stored in memory, what are the possible values that a variable of a particular data type can hold, and the operations that can be done on them.</p>
<h3 id="Basic-Types"><a href="#Basic-Types" class="headerlink" title="Basic Types"></a>Basic Types</h3><p>Go’s basic types are</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>  <span class="keyword">int8</span>  <span class="keyword">int16</span>  <span class="keyword">int32</span>  <span class="keyword">int64</span>	<span class="comment">// signed</span></span><br><span class="line"><span class="keyword">uint</span> <span class="keyword">uint8</span> <span class="keyword">uint16</span> <span class="keyword">uint32</span> <span class="keyword">uint64</span> <span class="keyword">uintptr</span>	<span class="comment">// unsigned</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span> <span class="comment">// alias for uint8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">rune</span> <span class="comment">// alias for int32</span></span><br><span class="line">     <span class="comment">// represents a Unicode code point</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">float32</span> <span class="keyword">float64</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">complex64</span> <span class="keyword">complex128</span>	<span class="comment">// e.g. 0.867 + 0.5i. By default it will be type complex128</span></span><br></pre></td></tr></table></figure>
<p>The example shows variables of several types, and also that variable declarations may be “factored” into blocks, as with import statements.</p>
<p>The <code>int</code>, <code>uint</code>, and <code>uintptr</code> types are usually 32 bits wide on 32-bit systems and 64 bits wide on 64-bit systems. <strong>When you need an integer value you should use <code>int</code></strong> unless you have a specific reason to use a sized or unsigned integer type.</p>
<h3 id="Byte-and-Rune"><a href="#Byte-and-Rune" class="headerlink" title="Byte and Rune"></a>Byte and Rune</h3><p>Golang has two integer type aliases called <code>byte</code> and <code>rune</code> that are aliases for <code>uint8</code> and <code>int32</code> data types respectively -</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Alias For</th>
</tr>
</thead>
<tbody><tr>
<td>byte</td>
<td>uint8</td>
</tr>
<tr>
<td>rune</td>
<td>int32</td>
</tr>
</tbody></table>
<p>In Go, the <code>byte</code> and <code>rune</code> data types are used to <strong>distinguish characters from integer values</strong>.</p>
<p>Golang <strong>doesn’t have a <code>char</code> data type</strong>. It uses** <code>byte</code> and <code>rune</code> to represent character values<strong>. The **<code>byte</code> data type represents ASCII characters</strong> and the <strong><code>rune</code> data type represents</strong> a more broader set of Unicode characters that are encoded in <strong>UTF-8 format</strong>.</p>
<p>Characters are expressed in Golang by enclosing them in single quotes like this: ‘A’.</p>
<p><strong>The default type for character values is <code>rune</code></strong>. That means, if you don’t declare a type explicitly when declaring a variable with a character value, then Go will infer the type as <code>rune</code> -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> firstLetter = <span class="string">'A'</span> <span class="comment">// Type inferred as `rune` (Default type for character values)</span></span><br></pre></td></tr></table></figure>

<p>You can create a <code>byte</code> variable by explicitly specifying the type -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lastLetter <span class="keyword">byte</span> = <span class="string">'Z'</span></span><br></pre></td></tr></table></figure>

<p>Both byte and rune data types are essentially integers. For example, a <code>byte</code> variable with value ‘a’ is converted to the integer 97. Similarly, a <code>rune</code> variable with a unicode value ‘♥’ is converted to the corresponding unicode codepoint <code>U+2665</code>, where <code>U+</code> means unicode and the numbers are hexadecimal, which is essentially an integer.</p>
<h3 id="Operations-on-Numberic-Types"><a href="#Operations-on-Numberic-Types" class="headerlink" title="Operations on Numberic Types"></a>Operations on Numberic Types</h3><p>Go provides several operators for performing operations on numeric types -</p>
<ul>
<li>Arithmetic Operators: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code></li>
<li>Comparison Operators: <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code></li>
<li>Bitwise Operators: <code>&amp;</code>, <code>|</code>, <code>^</code>, <code>&lt;&lt;</code>, <code>&gt;&gt;</code></li>
<li>Increment and Decrement Operators: <code>++</code>, <code>--</code></li>
<li>Assignment Operators: <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code>, <code>&lt;&lt;=</code>, <code>&gt;&gt;=</code>, <code>&amp;=</code>, <code>|=</code>, <code>^=</code></li>
</ul>
<p>Here is an example demonstrating some of the above operators -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a, b = <span class="number">4</span>, <span class="number">5</span></span><br><span class="line">	<span class="keyword">var</span> res1 = (a + b) * (a + b)/<span class="number">2</span>  <span class="comment">// Arithmetic operations</span></span><br><span class="line"></span><br><span class="line">	a++ <span class="comment">// Increment a by 1</span></span><br><span class="line"></span><br><span class="line">	b += <span class="number">10</span> <span class="comment">// Increment b by 10</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> res2 = a ^ b <span class="comment">// Bitwise XOR</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> r = <span class="number">3.5</span></span><br><span class="line">	<span class="keyword">var</span> res3 = math.Pi * r * r  <span class="comment">// Operations on floating-point type</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"res1 : %v, res2 : %v, res3 : %v\n"</span>, res1, res2, res3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">res1 : 40, res2 : 10, res3 : 38.48451000647496</span><br></pre></td></tr></table></figure>

<h3 id="Operations-on-Boolean-Types"><a href="#Operations-on-Boolean-Types" class="headerlink" title="Operations on Boolean Types"></a>Operations on Boolean Types</h3><p>You can use the following operators on boolean types -</p>
<ul>
<li>Logical Operators:<ul>
<li><code>&amp;&amp;</code> (logical conjunction, “and”)</li>
<li><code>||</code> (logical disjunction, “or”)</li>
<li><code>!</code>   (logical negation)</li>
</ul>
</li>
<li>Equality and Inequality: <ul>
<li><code>==</code> (“equals”)</li>
<li><code>!=</code> (“not equals”)</li>
</ul>
</li>
</ul>
<p>The operators <strong><code>&amp;&amp;</code> and <code>||</code> follow short-circuiting rules</strong>. That means, in the expression <code>E1 &amp;&amp; E2</code>, if <code>E1</code> evaluates to <code>false</code> then <code>E2</code> won’t be evaluated. Similarly, in the expression <code>E1 || E2</code>, if <code>E1</code>evaluates to <code>true</code> then <code>E2</code> won’t be evaluated.</p>
<p>Here is an example of Boolean types-</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> truth = <span class="number">3</span> &lt;= <span class="number">5</span></span><br><span class="line">	<span class="keyword">var</span> falsehood = <span class="number">10</span> != <span class="number">10</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Short Circuiting</span></span><br><span class="line">	<span class="keyword">var</span> res1 = <span class="number">10</span> &gt; <span class="number">20</span> &amp;&amp; <span class="number">5</span> == <span class="number">5</span> <span class="comment">// Second operand is not evaluated since first evaluates to false</span></span><br><span class="line">	<span class="keyword">var</span> res2 = <span class="number">2</span>*<span class="number">2</span> == <span class="number">4</span> || <span class="number">10</span>%<span class="number">3</span> == <span class="number">0</span> <span class="comment">// Second operand is not evaluated since first evaluates to true</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(truth, falsehood, res1, res2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">true false false true</span><br></pre></td></tr></table></figure>

<h3 id="Operations-on-Complex-Types"><a href="#Operations-on-Complex-Types" class="headerlink" title="Operations on Complex Types"></a>Operations on Complex Types</h3><p>You can perform arithmetic operations like addition, subtraction, multiplication, and division on complex numbers -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a = <span class="number">3</span> + <span class="number">5i</span></span><br><span class="line">	<span class="keyword">var</span> b = <span class="number">2</span> + <span class="number">4i</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> res1 = a + b</span><br><span class="line">	<span class="keyword">var</span> res2 = a - b</span><br><span class="line">	<span class="keyword">var</span> res3 = a * b</span><br><span class="line">	<span class="keyword">var</span> res4 = a / b</span><br><span class="line"></span><br><span class="line">	fmt.Println(res1, res2, res3, res4)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">(5+9i) (1+1i) (-14+22i) (1.3-0.1i)</span><br></pre></td></tr></table></figure>

<h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><p>In Go, a string is a <strong>sequence of <code>bytes</code></strong>.</p>
<p>Strings in Golang are declared either using double quotes as in <code>&quot;Hello World&quot;</code> or back ticks as in <code>`Hello World`</code>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Normal String (Can not contain newlines, and can have escape characters like `\n`, `\t` etc)</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Steve Jobs"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Raw String (Can span multiple lines. Escape characters are not interpreted)</span></span><br><span class="line"><span class="keyword">var</span> bio = <span class="string">`Steve Jobs was an American entrepreneur and inventor.</span></span><br><span class="line"><span class="string">           He was the CEO and co-founder of Apple Inc.`</span></span><br></pre></td></tr></table></figure>

<p><strong>Double-quoted strings cannot contain newlines</strong> but they <strong>can have escape characters</strong> like <code>\n</code>, <code>\t</code> etc. In double-quoted strings, a <code>\n</code> character is replaced with a newline, and a <code>\t</code> character is replaced with a tab space, and so on.</p>
<p>Strings enclosed within <strong>back ticks are raw strings</strong>. They <strong>can span multiple lines</strong>. Moreover, <strong>Escape characters don’t have any special meaning</strong> in raw strings.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> website = <span class="string">"\thttps://www.callicoder.com\t\n"</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> siteDescription = <span class="string">`\t\tCalliCoder is a programming blog where you can find</span></span><br><span class="line"><span class="string">                           practical guides and tutorials on programming languages, </span></span><br><span class="line"><span class="string">                           web development, and desktop app development.\t\n`</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(website, siteDescription)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">        https:&#x2F;&#x2F;www.callicoder.com      </span><br><span class="line"> \t\tCalliCoder is a programming blog where you can find</span><br><span class="line">                           practical guides and tutorials on programming languages, </span><br><span class="line">                           web development, and desktop app development.\t\n</span><br></pre></td></tr></table></figure>

<p>There is quite a lot about operations in String, which will be covered later, but not in this section.</p>
<h3 id="Type-Conversion"><a href="#Type-Conversion" class="headerlink" title="Type Conversion"></a>Type Conversion</h3><p>The expression T(v) converts the value v to the type T.</p>
<p>Some numeric conversions:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i <span class="keyword">int</span> = <span class="number">42</span></span><br><span class="line"><span class="keyword">var</span> f <span class="keyword">float64</span> = <span class="keyword">float64</span>(i)</span><br><span class="line"><span class="keyword">var</span> u <span class="keyword">uint</span> = <span class="keyword">uint</span>(f)</span><br></pre></td></tr></table></figure>

<p>Or, put more simply:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">i := <span class="number">42</span></span><br><span class="line">f := <span class="keyword">float64</span>(i)</span><br><span class="line">u := <span class="keyword">uint</span>(f)</span><br></pre></td></tr></table></figure>

<p>Unlike in C, in Go assignment between items of different type requires an explicit conversion.</p>
<p>Additionally, Golang has <strong>a strong type system</strong>. It <strong>doesn’t allow you to mix numeric types in an expression</strong>. For example, You cannot add an <code>int</code> variable to a <code>float64</code> variable or even an <code>int</code> variable to an <code>int64</code> variable. You cannot even perform an assignment between mixed types -</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a int64 &#x3D; 4</span><br><span class="line">var b int &#x3D; a  &#x2F;&#x2F; Compiler Error (Cannot use a (type in64) as type int in assignment)</span><br><span class="line"></span><br><span class="line">var c int &#x3D; 500</span><br><span class="line"></span><br><span class="line">var result &#x3D; a + c &#x2F;&#x2F; Compiler Error (Invalid Operation: mismatched types int64 and int)</span><br></pre></td></tr></table></figure>

<p>Unlike other statically typed languages like C, C++, and Java, <strong>Go doesn’t provide any implicit type conversion</strong>. </p>
<h2 id="Constants"><a href="#Constants" class="headerlink" title="Constants"></a>Constants</h2><p>In Golang, we use the term <strong><code>constant</code> to represent fixed (unchanging) values</strong> such as <code>5</code>, <code>1.34</code>, <code>true</code>, <code>&quot;Hello&quot;</code> etc.</p>
<p>Constants can be character, string, boolean, or numeric values. In fact, all the literals in Golang, be it integer literals like <code>5</code>, <code>1000</code>, or floating-point literals like <code>4.76</code>, <code>1.89</code>, or boolean literals like <code>true</code>, <code>false</code>, or string literals like <code>&quot;Hello&quot;</code>, <code>&quot;John&quot;</code> are constants (cannot be modified). This means that <strong>self-made types cannot be declared as <code>constant</code>s</strong>.</p>
<p>Some examples are:</p>
<table>
<thead>
<tr>
<th>Constants</th>
<th>Examples</th>
</tr>
</thead>
<tbody><tr>
<td>integer constants</td>
<td>1000, 67413</td>
</tr>
<tr>
<td>floating-point constants</td>
<td>4.56, 128.372</td>
</tr>
<tr>
<td>boolean constants</td>
<td>true, false</td>
</tr>
<tr>
<td>rune constants</td>
<td>‘C’, ‘ä’</td>
</tr>
<tr>
<td>complex constants</td>
<td>2.7i, 3 + 5i</td>
</tr>
<tr>
<td>string constants</td>
<td>“Hello”, “Rajeev”</td>
</tr>
</tbody></table>
<h3 id="Declaring-a-Constant"><a href="#Declaring-a-Constant" class="headerlink" title="Declaring a Constant"></a>Declaring a Constant</h3><p>Literals are basically constants without a name. To <strong>declare a constant and give it a name</strong>, you can <strong>use the <code>const</code> keyword</strong> like so -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sunRisesInTheEast = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>You can also specify a type in the declaration like this -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a <span class="keyword">int</span> = <span class="number">1234</span></span><br><span class="line"><span class="keyword">const</span> b <span class="keyword">string</span> = <span class="string">"Hi"</span></span><br></pre></td></tr></table></figure>

<p>Multiple declarations in a single statement is also possible -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> country, code = <span class="string">"India"</span>, <span class="number">91</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	employeeId <span class="keyword">string</span> = <span class="string">"E101"</span></span><br><span class="line">	salary <span class="keyword">float64</span> = <span class="number">50000.0</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>Constants declarations are very similar to variable declaratios, except that <strong>constans cannot be declared using the <code>:=</code> syntax, but with <code>=</code></strong>.</p>
<h3 id="Typed-and-Untyped-Constants"><a href="#Typed-and-Untyped-Constants" class="headerlink" title="Typed and Untyped Constants"></a>Typed and Untyped Constants</h3><p>This basically has the same mechanism of a typed and an untyped variable. So it is not covered here again. Even the default types used for type inference are the same.</p>
<p>If you really would like to see the details on constants, please visit <a href="https://www.callicoder.com/golang-typed-untyped-constants/" target="_blank" rel="noopener">https://www.callicoder.com/golang-typed-untyped-constants/</a> for more details.</p>
<h2 id="Control-Flow-Statements"><a href="#Control-Flow-Statements" class="headerlink" title="Control Flow Statements"></a>Control Flow Statements</h2><p>Go has <strong>only one looping construct</strong>, the for loop.</p>
<h3 id="For-Loop"><a href="#For-Loop" class="headerlink" title="For Loop"></a>For Loop</h3><p>The basic for loop has three components separated by semicolons (same as Java):</p>
<ul>
<li>the init statement: executed before the first iteration</li>
<li>the condition expression: evaluated before every iteration</li>
<li>the post statement: executed at the end of every iteration</li>
</ul>
<p>The init statement will often be a short variable declaration, <strong>and the variables declared there are visible only in the scope of the for statement</strong>. Also, alike Java, <strong>the init and post statements are optional</strong>. For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sum := <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> ; sum &lt; <span class="number">1000</span>; &#123;</span><br><span class="line">		sum += sum</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Unlike other languages like C, Java, or JavaScript there are <strong>no parentheses surrounding the three components of the for statement</strong> and the <strong>braces <code>{ }</code> for code block are always required</strong>.</p>
<h3 id="“While”-Loop"><a href="#“While”-Loop" class="headerlink" title="“While” Loop"></a>“While” Loop</h3><p>There is no actual <code>while</code> loop in Go. However, since the init and post statements are optional, the <code>for</code> loop abbreviated <strong>could be used as a while loop</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sum := <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> sum &lt; <span class="number">1000</span> &#123;	<span class="comment">// equivalent as while(sum &lt; 1000) in Java</span></span><br><span class="line">		sum += sum</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If you <strong>omit the loop condition it loops forever</strong>, so an infinite loop is compactly expressed.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> &#123;	<span class="comment">// same as while(true) in Java</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Break-Continue-in-For-Loop"><a href="#Break-Continue-in-For-Loop" class="headerlink" title="Break/Continue in For Loop"></a>Break/Continue in For Loop</h3><p>You can use <code>break</code> statement to break out of a loop before its normal termination. Here is an example -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> num := <span class="number">1</span>; num &lt;= <span class="number">100</span>; num++ &#123;</span><br><span class="line">		<span class="keyword">if</span> num%<span class="number">3</span> == <span class="number">0</span> &amp;&amp; num%<span class="number">5</span> == <span class="number">0</span> &#123;</span><br><span class="line">			fmt.Printf(<span class="string">"First positive number divisible by both 3 and 5 is %d\n"</span>, num)</span><br><span class="line">			<span class="keyword">break</span>	<span class="comment">// same as other languages</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Similarly, the <code>continue</code> statement is <strong>used to stop running the loop body midway and continue to the next iteration of the loop</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> num := <span class="number">1</span>; num &lt;= <span class="number">10</span>; num++ &#123;</span><br><span class="line">		<span class="keyword">if</span> num%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">			<span class="keyword">continue</span>	<span class="comment">// same as other languages</span></span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(<span class="string">"%d "</span>, num)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="if-else-if-else-Control-Flow"><a href="#if-else-if-else-Control-Flow" class="headerlink" title="if/else if/else Control Flow"></a><code>if</code>/<code>else if</code>/<code>else</code> Control Flow</h3><p>Go’s <code>if</code>/<code>else if</code>/<code>else</code> statements are like its for loops; <strong>the expression need not be surrounded by parentheses <code>( )</code></strong> but <strong>the braces <code>{ }</code> are required</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> x = <span class="number">25</span>		<span class="comment">// inferred as int</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> x % <span class="number">5</span> == <span class="number">0</span> &#123;		<span class="comment">// you could surrond it with ( ), but it is optional in Go</span></span><br><span class="line">		fmt.Printf(<span class="string">"%d is a multiple of 5\n"</span>, x)</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		fmt.Printf(<span class="string">"%d is a not multiple of 5\n"</span>, x)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>else if</code> is similar to <code>if</code>, except that there can be multiple of them:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> BMI = <span class="number">21.0</span></span><br><span class="line">	<span class="keyword">if</span> BMI &lt; <span class="number">18.5</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"You are underweight"</span>);</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> BMI &gt;= <span class="number">18.5</span> &amp;&amp; BMI &lt; <span class="number">25.0</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"Your weight is normal"</span>);</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> BMI &gt;= <span class="number">25.0</span> &amp;&amp; BMI &lt; <span class="number">30.0</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"You're overweight"</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"You're obese"</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="if-else-if-Short-Declaration"><a href="#if-else-if-Short-Declaration" class="headerlink" title="if/else if Short Declaration"></a><code>if</code>/<code>else if</code> Short Declaration</h3><p>Like for, the <code>if/else if</code> statement can start with a short statement to execute before the condition.</p>
<p>Variables declared by the statement are only <strong>in scope until the end of the entire <code>if</code>/<code>else if</code>/<code>else</code> loop</strong>. For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IfWithShortStatement</span> <span class="params">(input <span class="keyword">int</span>)</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> upper,lower:= <span class="number">100</span>, <span class="number">0</span>; input &lt; upper &amp;&amp; upper &gt; lower &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"%d is within %d and %d, exclusive\n"</span>,input,lower,upper)</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span> upper,lower = <span class="number">200</span>,<span class="number">100</span>; input &lt; upper &amp;&amp; upper &gt; lower &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"%d is within %d and %d, exclusive\n"</span>,input,lower,upper)</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"current number is: high %d, low %d\n"</span>,upper,lower)	<span class="comment">// upper and lower is still available here</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// here, both variables will no longer be available</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Note that, <strong>if you’re using a short statement</strong>, then you <strong>can’t use parentheses</strong>. So the following code will generate a syntax error -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// You can't use parentheses when `if` contains a short statement</span></span><br><span class="line"><span class="keyword">if</span> (n := <span class="number">15</span>; n%<span class="number">2</span> == <span class="number">0</span>) &#123; <span class="comment">// Syntax Error</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Switch-Statement"><a href="#Switch-Statement" class="headerlink" title="Switch Statement"></a>Switch Statement</h3><p>A switch statement is a shorter way to write a sequence of <code>if</code> - <code>else</code> statements. It <strong>runs the first case whose value is equal to the condition expression</strong>.</p>
<p>Go’s switch is like the one in C, C++, Java, JavaScript, and PHP, except that <strong>Go only runs the selected case</strong>, not all the cases that follow. In effect, <strong>the <code>break</code> statement that is needed at the end of each case in those languages is provided automatically in Go</strong>. </p>
<p>Another important difference is that <strong>Go’s switch cases need not be constants</strong>, and the <strong>values involved need not be integers</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"runtime"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Print(<span class="string">"Go runs on "</span>)</span><br><span class="line">	<span class="keyword">switch</span> os := runtime.GOOS; os &#123;		<span class="comment">// so the variable os is the switch condition</span></span><br><span class="line">	<span class="keyword">case</span> <span class="string">"darwin"</span>:</span><br><span class="line">		fmt.Println(<span class="string">"OS X."</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"linux"</span>:</span><br><span class="line">		fmt.Println(<span class="string">"Linux."</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"windows"</span>:</span><br><span class="line">		fmt.Println(<span class="string">"Windows"</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="comment">// freebsd, openbsd,</span></span><br><span class="line">		<span class="comment">// plan9</span></span><br><span class="line">		fmt.Printf(<span class="string">"%s.\n"</span>, os)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Switch-Without-A-Condition"><a href="#Switch-Without-A-Condition" class="headerlink" title="Switch Without A Condition"></a>Switch Without A Condition</h3><p>Switch <strong>without a condition</strong> is the same as <code>switch true</code>.</p>
<p>This construct can be a clean way to write long if-then-else chains.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	t := time.Now()</span><br><span class="line">	<span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> t.Hour() &lt; <span class="number">12</span>:</span><br><span class="line">		fmt.Println(<span class="string">"Good morning!"</span>)</span><br><span class="line">	<span class="keyword">case</span> t.Hour() &lt; <span class="number">17</span>:</span><br><span class="line">		fmt.Println(<span class="string">"Good afternoon."</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">"Good evening."</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Defer"><a href="#Defer" class="headerlink" title="Defer"></a>Defer</h3><p>A defer statement defers the <strong>execution of a function until the surrounding function returns</strong> (it is like the <code>finally</code> cause in a <code>try</code> block in Java)</p>
<p>The deferred call’s arguments <strong>are evaluated immediately, but the function call is not executed until the surrounding function returns</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Go program to illustrate the </span></span><br><span class="line"><span class="comment">// concept of the defer statement </span></span><br><span class="line"><span class="keyword">package</span> main </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// Functions </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mul</span><span class="params">(a1, a2 <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123; </span><br><span class="line">  </span><br><span class="line">    res := a1 * a2 </span><br><span class="line">    fmt.Println(<span class="string">"Result: "</span>, res) </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> </span><br><span class="line">&#125; </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span> &#123; </span><br><span class="line">    fmt.Println(<span class="string">"Hello!, GeeksforGeeks"</span>) </span><br><span class="line">&#125; </span><br><span class="line">  </span><br><span class="line"><span class="comment">// Main function </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123; </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Calling mul() function </span></span><br><span class="line">    <span class="comment">// Here mul function behaves </span></span><br><span class="line">    <span class="comment">// like a normal function </span></span><br><span class="line">    mul(<span class="number">23</span>, <span class="number">45</span>) </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Calling mul()function </span></span><br><span class="line">    <span class="comment">// Using defer keyword </span></span><br><span class="line">    <span class="comment">// Here the mul() function </span></span><br><span class="line">    <span class="comment">// is defer function </span></span><br><span class="line">    <span class="keyword">defer</span> mul(<span class="number">23</span>, <span class="number">56</span>) </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Calling show() function twice</span></span><br><span class="line">    show()</span><br><span class="line">	show() </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Output:</span><br><span class="line"></span><br><span class="line">Result:  1035</span><br><span class="line">Hello!, GeeksforGeeks</span><br><span class="line">Hello!, GeeksforGeeks</span><br><span class="line">Result:  1288</span><br></pre></td></tr></table></figure>

<h3 id="Stacking-Defers"><a href="#Stacking-Defers" class="headerlink" title="Stacking Defers"></a>Stacking Defers</h3><p>Deferred function calls are pushed onto a stack. When a function returns, its** deferred calls are executed in last-in-first-out order**.</p>
<p>For example, <code>9</code> will be the first result that you will see:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"counting"</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">defer</span> fmt.Println(i)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"done"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Pointers"><a href="#Pointers" class="headerlink" title="Pointers"></a>Pointers</h2><p>(additional reference: <a href="https://www.callicoder.com/golang-pointers/a" target="_blank" rel="noopener">https://www.callicoder.com/golang-pointers/a</a>)</p>
<p>Go has pointers. <strong>A pointer holds the memory address of a value</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A pointer of type T</span></span><br><span class="line"><span class="keyword">var</span> p *T</span><br></pre></td></tr></table></figure>

<p>The type <code>*T</code> is a pointer to a <code>T</code> value. Its zero value is <code>nil</code>. For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a pointer of type int</span></span><br><span class="line"><span class="keyword">var</span> p *<span class="keyword">int</span></span><br></pre></td></tr></table></figure>
<p>The above pointer can <strong>only store the memory address of <code>int</code> variables</strong>.</p>
<h3 id="Initializing-a-Pointer"><a href="#Initializing-a-Pointer" class="headerlink" title="Initializing a Pointer"></a>Initializing a Pointer</h3><p>To initialize a pointer with the memory address of another variable you can use <code>&amp;</code>. <strong>The address of a variable can be retrieved using the <code>&amp;</code> operator</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i := <span class="number">42</span></span><br><span class="line"><span class="keyword">var</span> p *<span class="keyword">int</span> = &amp;i</span><br></pre></td></tr></table></figure>

<p>Just like the other types, <strong>pointers can also be inferred</strong> by Go:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i := <span class="number">42</span></span><br><span class="line">p := &amp;i		<span class="comment">// var p = &amp;i, both are equivalent as above</span></span><br></pre></td></tr></table></figure>

<h3 id="Dereferening-a-Pointer"><a href="#Dereferening-a-Pointer" class="headerlink" title="Dereferening a Pointer"></a>Dereferening a Pointer</h3><p>The <strong><code>*</code> operator on a variable (not a type)</strong> denotes the <strong>pointer’s underlying value by going to that address and fetching its value</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(*p) <span class="comment">// read i through the pointer p</span></span><br><span class="line">*p = <span class="number">21</span>         <span class="comment">// set i through the pointer p</span></span><br></pre></td></tr></table></figure>
<p>This is known as “dereferencing” or “indirecting”.</p>
<p>However, you <strong>if use a pointer on another pointer</strong>, then:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p2 = &amp;p1	<span class="comment">// where p1 is already a pointer pointing to a variable</span></span><br><span class="line">fmt.Println(*p2)	<span class="comment">// retrieves the address that p1 stores</span></span><br><span class="line">fmt.Prinln(**p2)	<span class="comment">// retrieves the value that p1's address points to</span></span><br></pre></td></tr></table></figure>

<p>You can not only access the value of the pointed variable using <code>*</code> operator, but you <strong>can change it as well</strong>. The following example <strong>sets the value stored in the variable <code>a</code></strong> through the pointer p -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a = <span class="number">1000</span></span><br><span class="line">	<span class="keyword">var</span> p = &amp;a</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"a (before) = "</span>, a)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Changing the value stored in the pointed variable through the pointer</span></span><br><span class="line">	*p = <span class="number">2000</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"a (after) = "</span>, a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">a (before) &#x3D;  1000</span><br><span class="line">a (after) &#x3D;  2000</span><br></pre></td></tr></table></figure>

<h3 id="Creating-a-Pointer-using-the-built-in-new-function"><a href="#Creating-a-Pointer-using-the-built-in-new-function" class="headerlink" title="Creating a Pointer using the built-in new() function"></a>Creating a Pointer using the built-in <code>new()</code> function</h3><p>You can also create a pointer using the built-in <code>new()</code> function. The <code>new()</code> function <strong>takes a type as an argument</strong>, allocates enough memory to accommodate a value of that type, <strong>initializes it with the zero value</strong> and <strong>returns a pointer to it</strong>.</p>
<p>Here is an example -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	ptr := <span class="built_in">new</span>(<span class="keyword">int</span>) <span class="comment">// Pointer to an `int` type, at this point *ptr is 0</span></span><br><span class="line">	*ptr = <span class="number">100</span>	<span class="comment">// now *ptr is 100</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"Ptr = %#x, Ptr value = %d\n"</span>, ptr, *ptr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">Ptr &#x3D; 0xc420014058, Ptr value &#x3D; 100</span><br></pre></td></tr></table></figure>

<p>However, unlike C, Go has <strong>no pointer arithmetic</strong>. For example, you <strong>cannot increment/decrement a pointer to move to the next/previous memory address</strong>. You <strong>cannot add or subtract an integer value to/from a pointer</strong>. You can also compare two pointers using relational operators <code>&lt;</code>, <code>&gt;</code> etc. Any such operation will result in a compile time error:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> x = <span class="number">67</span></span><br><span class="line">	<span class="keyword">var</span> p = &amp;x</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> p1 = p + <span class="number">1</span> <span class="comment">// Compiler Error: invalid operation</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>You can, however, <strong>compare two pointers of the same type for equality using <code>==</code> operator</strong>. This basically compares the address stored, if they have the <strong>same address, then it returns <code>true</code></strong>, <strong>otherwise <code>false</code></strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a = <span class="number">75</span></span><br><span class="line">	<span class="keyword">var</span> p1 = &amp;a</span><br><span class="line">	<span class="keyword">var</span> p2 = &amp;a</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> p1 == p2 &#123;</span><br><span class="line">		fmt.Println(<span class="string">"Both pointers p1 and p2 point to the same variable."</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Structs"><a href="#Structs" class="headerlink" title="Structs"></a>Structs</h2><p>(additional reference: <a href="https://www.callicoder.com/golang-structs/" target="_blank" rel="noopener">https://www.callicoder.com/golang-structs/</a>)</p>
<p>A struct is a user-defined type that contains a collection of named fields/properties. It is used to group related data together to form a single unit.</p>
<p>If you’re coming from an object-oriented background, you can think of a struct as <strong>a lightweight class that supports composition but NOT inheritance</strong>.</p>
<h3 id="Defining-a-Struct-Type"><a href="#Defining-a-Struct-Type" class="headerlink" title="Defining a Struct Type"></a>Defining a Struct Type</h3><p>You can define a new <code>struct</code> type like this -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;	<span class="comment">// note this is a curly brace</span></span><br><span class="line">	FirstName <span class="keyword">string</span>	<span class="comment">// you could also use: FirstName,Lastname string</span></span><br><span class="line">	LastName  <span class="keyword">string</span></span><br><span class="line">	Age       <span class="keyword">int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>The <code>type</code> keyword introduces a new type</strong>. It is followed by the name of the type (<code>Person</code>) and the keyword <strong><code>struct</code> to indicate that we’re defining a <code>struct</code></strong> (another option would be <code>interface</code>, which will be covered later). The <code>struct</code> contains a list of fields inside the <strong>curly braces { }</strong>. Each field has a name and a type.</p>
<h3 id="Instantiating-a-Struct-Type"><a href="#Instantiating-a-Struct-Type" class="headerlink" title="Instantiating a Struct Type"></a>Instantiating a Struct Type</h3><p>Just like other data types, you can declare a variable of a struct type like this -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Declares a variable of type 'Person'</span></span><br><span class="line"><span class="keyword">var</span> p Person <span class="comment">// All the struct fields are initialized with their zero value</span></span><br></pre></td></tr></table></figure>

<p>The above code creates a variable of <strong>type <code>Person</code> that is by default set to zero</strong>. For a <code>struct</code>, zero means <strong>all the fields are set to their corresponding zero value</strong>. So the fields <code>FirstName</code> and <code>LastName</code> are set to <code>&quot;&quot;</code>, and <code>Age</code> is set to <code>0</code>.</p>
<p>You can <strong>initialize a variable of a <code>struct</code> type</strong> by passing in values required by that struct with <code>{ }</code> -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Initialize a struct by supplying the value of all the struct fields.</span></span><br><span class="line"><span class="keyword">var</span> p = Person&#123;<span class="string">"Rajeev"</span>, <span class="string">"Singh"</span>, <span class="number">26</span>&#125;</span><br></pre></td></tr></table></figure>

<p>Note that you <strong>need to pass the field values in the same order in which they are declared in the struct (if you don’t specify the variable names)</strong>. Also, you can’t initialize only a subset of fields with the above syntax -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = Person&#123;<span class="string">"Rajeev"</span>&#125; <span class="comment">// Compiler Error: too few values in struct initializer</span></span><br></pre></td></tr></table></figure>

<p>However, Go also supports the <code>name: value</code> syntax for initializing a <code>struct</code>, so that the <strong>order of fields becomes irrelevant</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = Person&#123;LastName: <span class="string">"Singh"</span>, Age: <span class="number">25</span>, FirstName: <span class="string">"Rajeev"</span>&#125;</span><br></pre></td></tr></table></figure>

<p>The <strong><code>name: value</code> syntax</strong> allows you to <strong>initialize only a subset of fields</strong>. All the uninitialized fields are set to their corresponding zero value:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = Person&#123;FirstName: <span class="string">"Alien"</span>&#125; <span class="comment">// LastName: "", Age: 0</span></span><br></pre></td></tr></table></figure>

<h3 id="Accessing-fields-of-a-Struct"><a href="#Accessing-fields-of-a-Struct" class="headerlink" title="Accessing fields of a Struct"></a>Accessing fields of a Struct</h3><p>This is same as accessing the field of a Java object - you use the <code>.</code> operator:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Car <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name, Model, Color <span class="keyword">string</span></span><br><span class="line">	WeightInKg         <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	c := Car&#123;</span><br><span class="line">		Name:       <span class="string">"Ferrari"</span>,</span><br><span class="line">		Model:      <span class="string">"GTC4"</span>,</span><br><span class="line">		Color:      <span class="string">"Red"</span>,</span><br><span class="line">		WeightInKg: <span class="number">1920</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Accessing struct fields using the dot operator</span></span><br><span class="line">	fmt.Println(<span class="string">"Car Name: "</span>, c.Name)</span><br><span class="line">	fmt.Println(<span class="string">"Car Color: "</span>, c.Color)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Assigning a new value to a struct field</span></span><br><span class="line">	c.Color = <span class="string">"Black"</span></span><br><span class="line">	fmt.Println(<span class="string">"Car: "</span>, c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Pointer-to-Structs"><a href="#Pointer-to-Structs" class="headerlink" title="Pointer to Structs"></a>Pointer to Structs</h3><p>Similar to those built-in <code>struct</code>s, you can <strong>get a pointer to a <code>struct</code> using the <code>&amp;</code> operator on it</strong> -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">	RollNumber <span class="keyword">int</span></span><br><span class="line">	Name       <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// instance of student struct type</span></span><br><span class="line">	s := Student&#123;<span class="number">11</span>, <span class="string">"Jack"</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Pointer to the student struct</span></span><br><span class="line">	ps := &amp;s</span><br><span class="line">	fmt.Println(ps)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Accessing struct fields via pointer</span></span><br><span class="line">	fmt.Println((*ps).Name)</span><br><span class="line">	fmt.Println(ps.Name) <span class="comment">// Same as above: No need to explicitly dereference the pointer</span></span><br><span class="line"></span><br><span class="line">	ps.RollNumber = <span class="number">31</span></span><br><span class="line">	fmt.Println(ps)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Notice that. to access the field <code>X</code> of a struct when we have the struct pointer <code>p</code> we could write <code>(*p).X</code>. However, that notation is cumbersome, so the language <strong>permits us instead to write just <code>p.X</code>, without the explicit dereference (it only dereferences for one level, so nested pointers still need <code>*</code>)</strong>.</p>
<h3 id="Creating-a-struct-using-the-built-in-new-function"><a href="#Creating-a-struct-using-the-built-in-new-function" class="headerlink" title="Creating a struct using the built-in new() function"></a>Creating a <code>struct</code> using the built-in <code>new()</code> function</h3><p>You can also <strong>use the built-in <code>new()</code></strong> function to create an instance of a struct, but alike its previous usage, it <strong>returns to you the address of that <code>struct</code></strong>. The <code>new()</code> function allocates enough memory to fit all the struct fields, <strong>sets each of them to their zero value and returns a pointer to the newly allocated <code>struct</code></strong> -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;</span><br><span class="line">	Id   <span class="keyword">int</span></span><br><span class="line">	Name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// You can also get a pointer to a struct using the built-in new() function</span></span><br><span class="line">	<span class="comment">// It allocates enough memory to fit a value of the given struct type, and returns a pointer to it</span></span><br><span class="line">	pEmp := <span class="built_in">new</span>(Employee)</span><br><span class="line"></span><br><span class="line">	pEmp.Id = <span class="number">1000</span></span><br><span class="line">	pEmp.Name = <span class="string">"Sachin"</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(pEmp)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Exported-and-Unexported-Fields-in-a-Struct"><a href="#Exported-and-Unexported-Fields-in-a-Struct" class="headerlink" title="Exported and Unexported Fields in a Struct"></a>Exported and Unexported Fields in a Struct</h3><p>Any <code>struct</code> type that starts with a capital letter is exported and accessible from outside packages. Similarly, <strong>any <code>struct</code> field that starts with a capital letter is exported (visible outside package)</strong>.</p>
<p>On the contrary, all the names starting with a small letter are visible only inside the same package.</p>
<p>Let’s see an example. Consider the following package hierarchy of our Go program -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> model</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Customer <span class="keyword">struct</span> &#123;  <span class="comment">// exported struct type</span></span><br><span class="line">	Id <span class="keyword">int</span>				<span class="comment">// exported field</span></span><br><span class="line">	Name <span class="keyword">string</span>			<span class="comment">// exported field</span></span><br><span class="line">	addr address        <span class="comment">// unexported field (only accessible inside package `model`)</span></span><br><span class="line">	married <span class="keyword">bool</span>  		<span class="comment">// unexported field (only accessible inside package `model`)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Then, to initialize the <code>Customer</code> struct, you would <strong>need to explicitly use the <code>name: value</code> declaration</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"example/model"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	c := model.Customer&#123;</span><br><span class="line">		Id: <span class="number">1</span>, </span><br><span class="line">		Name: <span class="string">"Rajeev Singh"</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	c.married = <span class="literal">true</span>	<span class="comment">// Error: can not refer to unexported field or method</span></span><br><span class="line"></span><br><span class="line">	a := model.address&#123;&#125; <span class="comment">// Error: can not refer to unexported name</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"Programmer = "</span>, c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In the above example, if you use <code>c := model.Customer{1,&quot;Rajjev Singh&quot;}</code>, it will give you <code>Compile Error</code>.</p>
<h3 id="Structs-and-Short-Declarations"><a href="#Structs-and-Short-Declarations" class="headerlink" title="Structs and Short Declarations"></a>Structs and Short Declarations</h3><p>Now, since pointers are used to store a reference to a piece of data, <strong>(short) variable declarations without specifying a pointer actually make a new copy of the variable</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// the below three all have the same value but different memory address</span></span><br><span class="line"></span><br><span class="line">a1 := <span class="number">10</span></span><br><span class="line">a2 := a1</span><br><span class="line"><span class="keyword">var</span> a3 <span class="keyword">int</span> = a1</span><br></pre></td></tr></table></figure>

<p>This is the same with using a <code>struct</code>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Point <span class="keyword">struct</span> &#123;</span><br><span class="line">	X <span class="keyword">float64</span></span><br><span class="line">	Y <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// Structs are value types.</span></span><br><span class="line">	p1 := Point&#123;<span class="number">10</span>, <span class="number">20</span>&#125;</span><br><span class="line">	p2 := p1 <span class="comment">// A COPY of the struct `p1` is assigned to `p2`</span></span><br><span class="line">	fmt.Println(<span class="string">"p1 = "</span>, p1)</span><br><span class="line">	fmt.Println(<span class="string">"p2 = "</span>, p2)</span><br><span class="line"></span><br><span class="line">	p2.X = <span class="number">15</span>	<span class="comment">// does not change p1</span></span><br><span class="line">	fmt.Println(<span class="string">"\nAfter modifying p2:"</span>)</span><br><span class="line">	fmt.Println(<span class="string">"p1 = "</span>, p1)</span><br><span class="line">	fmt.Println(<span class="string">"p2 = "</span>, p2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Equality"><a href="#Equality" class="headerlink" title="Equality =="></a>Equality <code>==</code></h3><p>This means that if you <strong>use <code>==</code> between two <code>struct</code>s</strong>, it <strong>compares the actual value of the fields in that <code>struct</code></strong>. This is diffrent from Java, where <code>==</code> would be used to compare the memory address (you can compare addresses <strong>if you are comparing two pointers</strong>).</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Point <span class="keyword">struct</span> &#123;</span><br><span class="line">	X <span class="keyword">float64</span></span><br><span class="line">	Y <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// Two structs are equal if all their corresponding fields are equal.</span></span><br><span class="line">	p1 := Point&#123;<span class="number">3.4</span>, <span class="number">5.2</span>&#125;</span><br><span class="line">	p2 := Point&#123;<span class="number">3.4</span>, <span class="number">5.2</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> p1 == p2 &#123;</span><br><span class="line">		fmt.Println(<span class="string">"Point p1 and p2 are equal."</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"Point p1 and p2 are not equal."</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">Point p1 and p2 are equal.</span><br></pre></td></tr></table></figure>

<h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><p>(additional reference: <a href="https://www.callicoder.com/golang-arrays/" target="_blank" rel="noopener">https://www.callicoder.com/golang-arrays/</a>)</p>
<p>An array is a fixed-size collection of elements of the same type. The elements of the array are stored sequentially and can be accessed using their index. (Similar to other programming languages)</p>
<h3 id="Declaring-an-Array"><a href="#Declaring-an-Array" class="headerlink" title="Declaring an Array"></a>Declaring an Array</h3><p>The <strong>type <code>[n]T</code></strong> is an <strong>array of n values</strong> of <strong>type <code>T</code></strong>.</p>
<p>The expression:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a [<span class="number">10</span>]<span class="keyword">int</span></span><br></pre></td></tr></table></figure>
<p>declares a <strong>variable <code>a</code> as an array of ten integers (<code>int</code>)</strong>.</p>
<p>An array’s length is part of its type, so arrays cannot be resized. This seems limiting, but don’t worry; Go provides a convenient way of working with arrays.</p>
<p>Now let’s see a complete example -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> x [<span class="number">5</span>]<span class="keyword">int</span> <span class="comment">// An array of 5 integers</span></span><br><span class="line">	fmt.Println(x)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> y [<span class="number">8</span>]<span class="keyword">string</span> <span class="comment">// An array of 8 strings</span></span><br><span class="line">	fmt.Println(y)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> z [<span class="number">3</span>]<span class="keyword">complex128</span> <span class="comment">// An array of 3 complex numbers</span></span><br><span class="line">	fmt.Println(z)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">[0 0 0 0 0]</span><br><span class="line">[       ]</span><br><span class="line">[(0+0i) (0+0i) (0+0i)]</span><br></pre></td></tr></table></figure>

<p>By default, all the array elements are initialized with the zero value of the corresponding array type.</p>
<p>You can <strong>declare and initialize an array at the same time</strong> like this (similar to Java) -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Declaring and initializing an array at the same time</span></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>&#125;</span><br></pre></td></tr></table></figure>

<p>You can also let Go <strong>infer the size of an array at initialization time</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr := []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;		<span class="comment">// infers the size to 5, uses a SLICE, rather an array</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(arr))</span><br></pre></td></tr></table></figure>

<h4 id="Modifying-an-Array"><a href="#Modifying-an-Array" class="headerlink" title="Modifying an Array"></a>Modifying an Array</h4><p>This is the same in any other language, that elements in an array can be modified with an index:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">1</span>] = <span class="number">5</span>	<span class="comment">// changes the second element to 5</span></span><br></pre></td></tr></table></figure>

<h2 id="Slices"><a href="#Slices" class="headerlink" title="Slices"></a>Slices</h2><p>An array has a fixed size. A slice, on the other hand, is a dynamically-sized, flexible view into the elements of an array. In practice, slices are much more common than arrays. (Internally, a Slice is just a reference to an existing array, if it is constructed from an array.)</p>
<h3 id="Declaring-a-Slice"><a href="#Declaring-a-Slice" class="headerlink" title="Declaring a Slice"></a>Declaring a Slice</h3><p>There are two (actually four) ways to declare a slice. You can either <strong>create a brand new slice</strong>, or <strong>create a slice based on an existing array</strong>.</p>
<h4 id="Creating-from-an-Existing-Array"><a href="#Creating-from-an-Existing-Array" class="headerlink" title="Creating from an Existing Array"></a>Creating from an Existing Array</h4><p>A slice is formed by specifying two indices, a low and high bound, separated by a colon:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[low : high]	<span class="comment">// where arr is an array</span></span><br></pre></td></tr></table></figure>

<p>This selects a half-open range which <strong>includes the first element, but excludes the last one</strong> (alike Python).</p>
<p>The following expression creates a slice which <strong>includes elements 1 through 3</strong> of <code>a</code>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[<span class="number">1</span>:<span class="number">4</span>] 	<span class="comment">// takes elements 1 to 3, inclusive</span></span><br></pre></td></tr></table></figure>
<p>For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	primes := [<span class="number">6</span>]<span class="keyword">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>&#125;	<span class="comment">// an existing array</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> s []<span class="keyword">int</span> = primes[<span class="number">1</span>:<span class="number">4</span>]	<span class="comment">// a slice from that array</span></span><br><span class="line">	fmt.Println(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>However, since this slice is constructed from an array, under the hood it actually stores the references to the array. This means that <strong>changing the elements of a slice modifies the corresponding elements of its underlying array</strong>. Additionlly, <strong>other slices that share the same underlying array will see those changes</strong>.</p>
<h4 id="Creating-a-Brand-New-Slice"><a href="#Creating-a-Brand-New-Slice" class="headerlink" title="Creating a Brand New Slice"></a>Creating a Brand New Slice</h4><p>A slice literal is like an array literal <strong>without the length</strong>.</p>
<p>The type <code>[]T</code> can also be seen as <strong>a slice with elements of type <code>T</code></strong>. Note the only difference is that you <strong>do not specify the size/length</strong>, which would be an array creation.</p>
<p>For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Creating a slice using a slice literal</span></span><br><span class="line"><span class="keyword">var</span> s = []<span class="keyword">int</span>&#123;<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>&#125;	<span class="comment">// would be appendable</span></span><br></pre></td></tr></table></figure>

<p>Under the hood, when you create a slice using a slice literal, it <strong>first creates an array and then returns a slice reference to it</strong>.</p>
<h3 id="Slicing-Defaults"><a href="#Slicing-Defaults" class="headerlink" title="Slicing Defaults"></a>Slicing Defaults</h3><p>When slicing, you may <strong>omit the high or low bounds to use their defaults instead</strong>:</p>
<ul>
<li>zero for the low bound</li>
<li>length of the slice for the high bound</li>
</ul>
<p>For example, if you have an array that looks like </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">10</span>]<span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4.</span>...&#125;	<span class="comment">// some numbers omitted</span></span><br></pre></td></tr></table></figure>

<p>these slice expressions are equivalent:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a[<span class="number">0</span>:<span class="number">10</span>]</span><br><span class="line">a[:<span class="number">10</span>]</span><br><span class="line">a[<span class="number">0</span>:]</span><br><span class="line">a[:]</span><br></pre></td></tr></table></figure>

<h3 id="Creating-a-Slice-from-another-Slice"><a href="#Creating-a-Slice-from-another-Slice" class="headerlink" title="Creating a Slice from another Slice"></a>Creating a Slice from another Slice</h3><p>This is a third way to create a slice, however, there are some details that is different.</p>
<h4 id="length-and-a-capacity"><a href="#length-and-a-capacity" class="headerlink" title="length and a capacity"></a>length and a capacity</h4><p>The <strong>length of a slice</strong> is the number of elements it contains. The <strong>capacity of a slice is the number of elements in the underlying array</strong>, counting from the first element in the slice.</p>
<p>The length and capacity of a slice s can be obtained using the expressions <code>len(s)</code> and <code>cap(s)</code>, where <code>s</code> is a slice.</p>
<p>Now, if you created a slice from another slice, the <strong>range of elements you can retrieve is bounded by the capacity of that parent slice</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	s := []<span class="keyword">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>&#125;</span><br><span class="line">	printSlice(s)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Slice the slice to give it zero length. This does not change capacity</span></span><br><span class="line">	s = s[:<span class="number">0</span>]</span><br><span class="line">	printSlice(s)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Extend its length.</span></span><br><span class="line">	s = s[:<span class="number">4</span>]</span><br><span class="line">	printSlice(s)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Drop its first two values. This changes the capacity to 4</span></span><br><span class="line">	s = s[<span class="number">2</span>:]</span><br><span class="line">	printSlice(s)</span><br><span class="line">	</span><br><span class="line">	s = s[:]	<span class="comment">// cannot go s[:5], since the capacity becomes 4</span></span><br><span class="line">	printSlice(s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(s []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"len=%d cap=%d %v\n"</span>, <span class="built_in">len</span>(s), <span class="built_in">cap</span>(s), s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Creating-a-Slice-with-make"><a href="#Creating-a-Slice-with-make" class="headerlink" title="Creating a Slice with make"></a>Creating a Slice with <code>make</code></h3><p>Slices can be created with the built-in make function; this is how you create dynamically-sized arrays.</p>
<p>The make function allocates a zeroed array and returns a slice that refers to that array:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">5</span>)  <span class="comment">// len(a)=5, filled with zero-value of 0</span></span><br></pre></td></tr></table></figure>

<p>To <strong>specify a capacity</strong>, pass a third argument to make:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">b := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>, <span class="number">5</span>) <span class="comment">// len(b)=0, cap(b)=5</span></span><br><span class="line"></span><br><span class="line">b = b[:<span class="built_in">cap</span>(b)] <span class="comment">// len(b)=5, cap(b)=5</span></span><br><span class="line">b = b[<span class="number">1</span>:]      <span class="comment">// len(b)=4, cap(b)=4</span></span><br></pre></td></tr></table></figure>

<h3 id="Functions-for-Slice"><a href="#Functions-for-Slice" class="headerlink" title="Functions for Slice"></a>Functions for Slice</h3><p>(addtional reference: <a href="https://www.callicoder.com/golang-slices/#slice-functions" target="_blank" rel="noopener">https://www.callicoder.com/golang-slices/#slice-functions</a>)</p>
<h4 id="Appending-to-a-slice"><a href="#Appending-to-a-slice" class="headerlink" title="Appending to a slice"></a>Appending to a slice</h4><p>The append() function appends new elements at the end of a given slice. Following is the signature of append function.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">append</span><span class="params">(s []T, x ...T)</span> []<span class="title">T</span></span></span><br></pre></td></tr></table></figure>

<p>It <strong>takes a slice</strong> and <strong>a variable number of arguments <code>x …T</code></strong>. It then <strong>returns a new slice</strong> containing all the elements from the given slice as well as the new elements.</p>
<p>If the given slice <strong>doesn’t have sufficient capacity to accommodate new elements</strong> then <strong>a new underlying array is allocated</strong> with bigger capacity. All the elements from the underlying array of the existing slice are copied to this new array, and then the new elements are appended.</p>
<p>However, if the slice <strong>has enough capacity</strong> to accommodate new elements, then the <code>append()</code> function <strong>re-uses its underlying array and appends new elements to the same array</strong>, it will also <strong>overwrite the existing element if it was there</strong>.</p>
<h4 id="Copying-a-Slice"><a href="#Copying-a-Slice" class="headerlink" title="Copying a Slice"></a>Copying a Slice</h4><p>The <code>copy()</code> function copies elements from one slice to another (by <strong>creating another array</strong> and then copying the value over). Its signature looks like this -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">copy</span><span class="params">(dst, src []T)</span> <span class="title">int</span></span></span><br></pre></td></tr></table></figure>

<p>It <strong>takes two slices - a destination slice, and a source slice</strong>. It then copies elements from the source to the destination and <strong>returns the number of elements that are copied</strong>.</p>
<p>The number of elements copied will be the <strong>minimum of <code>len(src)</code> and <code>len(dst)</code></strong>, <strong>not <code>cap</code></strong>.</p>
<p>For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	src := []<span class="keyword">string</span>&#123;<span class="string">"Sublime"</span>, <span class="string">"VSCode"</span>, <span class="string">"IntelliJ"</span>, <span class="string">"Eclipse"</span>&#125;</span><br><span class="line">	dest := <span class="built_in">make</span>([]<span class="keyword">string</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	numElementsCopied := <span class="built_in">copy</span>(dest, src)	<span class="comment">// changing dest here will not affect src</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"src = "</span>, src)</span><br><span class="line">	fmt.Println(<span class="string">"dest = "</span>, dest)</span><br><span class="line">	fmt.Println(<span class="string">"Number of elements copied from src to dest = "</span>, numElementsCopied)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Iterating-over-a-Slice"><a href="#Iterating-over-a-Slice" class="headerlink" title="Iterating over a Slice"></a>Iterating over a Slice</h3><p>You can iterate over a slice in <strong>the same way you iterate over an array</strong>. Following are two ways of iterating over a slice:</p>
<ul>
<li>the conventional for loop, which will not be demonstrated here as it is trivial</li>
<li>using the <code>range</code> with an enhanced <code>for</code> loop</li>
</ul>
<h4 id="Using-range"><a href="#Using-range" class="headerlink" title="Using range"></a>Using <code>range</code></h4><p>The following shows an example of using a <code>range</code> on a slice. However, it is the same for an arary:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	primeNumbers := []<span class="keyword">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>, <span class="number">29</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> index, number := <span class="keyword">range</span> primeNumbers &#123;	<span class="comment">// notice that it returns both index and element</span></span><br><span class="line">		fmt.Printf(<span class="string">"PrimeNumber(%d) = %d\n"</span>, index+<span class="number">1</span>, number)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>You can skip the index or value by assigning to <code>_</code>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i, _ := <span class="keyword">range</span> pow</span><br><span class="line"><span class="keyword">for</span> _, value := <span class="keyword">range</span> pow</span><br></pre></td></tr></table></figure>

<p>If you only want the index, you can omit the second variable.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> pow	<span class="comment">// same as for i,_ := range pow</span></span><br></pre></td></tr></table></figure>

<h2 id="Maps"><a href="#Maps" class="headerlink" title="Maps"></a>Maps</h2><p>(additional reference: <a href="https://www.callicoder.com/golang-maps/" target="_blank" rel="noopener">https://www.callicoder.com/golang-maps/</a>)</p>
<p>A map is an unordered collection of key-value pairs. It maps keys to values. The keys are unique within a map while the values may not be.</p>
<h3 id="Declaring-a-Map"><a href="#Declaring-a-Map" class="headerlink" title="Declaring a Map"></a>Declaring a Map</h3><p>(additional reference: <a href="https://www.callicoder.com/golang-maps/" target="_blank" rel="noopener">https://www.callicoder.com/golang-maps/</a>)</p>
<p>A map is declared using the following syntax -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> m <span class="keyword">map</span>[KeyType]ValueType</span><br></pre></td></tr></table></figure>

<p>For example, Here is how you can declare a map of string keys to int values -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> m <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span></span><br></pre></td></tr></table></figure>

<p>The zero value of a map is <code>nil</code> (like <code>null</code> in other languages). A <code>nil</code> map has no keys, nor can keys be added. So, any attempt to add keys to a nil map will result in a runtime error.</p>
<p>Let’s see an example -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span></span><br><span class="line">	fmt.Println(m)</span><br><span class="line">	<span class="keyword">if</span> m == <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"m is nil"</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Attempting to add keys to a nil map will result in a runtime error</span></span><br><span class="line">	<span class="comment">// m["one hundred"] = 100</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">map[]</span><br><span class="line">m is nil</span><br></pre></td></tr></table></figure>
<p>If you uncomment the statement <code>m[&quot;one hundred&quot;] = 100</code>, the program will generate the following error -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">panic</span>: assignment to entry in <span class="literal">nil</span> <span class="keyword">map</span></span><br></pre></td></tr></table></figure>
<p>It is, therefore, <strong>necessary to initialize a map before adding items to it</strong>.</p>
<h3 id="Initializing-a-Map"><a href="#Initializing-a-Map" class="headerlink" title="Initializing a Map"></a>Initializing a Map</h3><p>There are two ways to initialize a map. You can either use the <code>make</code> function, or you can use a map literal to initalize a map.</p>
<h3 id="Initializing-a-map-using-the-built-in-make-function"><a href="#Initializing-a-map-using-the-built-in-make-function" class="headerlink" title="Initializing a map using the built-in make() function"></a>Initializing a map using the built-in <code>make()</code> function</h3><p>You can initialize a map using the built-in <code>make()</code> function. You just need to pass the type of the map to the <code>make()</code> function as in the example below. The function will <strong>return an initialized and ready to use map</strong> -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Initializing a map using the built-in make() function</span></span><br><span class="line"><span class="keyword">var</span> m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)</span><br></pre></td></tr></table></figure>
<p>Let’s see a complete example -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Println(m)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> m == <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"m is nil"</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"m is not nil"</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// make() function returns an initialized and ready to use map.</span></span><br><span class="line">	<span class="comment">// Since it is initialized, you can add new keys to it.</span></span><br><span class="line">	m[<span class="string">"one hundred"</span>] = <span class="number">100</span></span><br><span class="line">	fmt.Println(m)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line"><span class="keyword">map</span>[]</span><br><span class="line">m is not <span class="literal">nil</span></span><br><span class="line"><span class="keyword">map</span>[one hundred:<span class="number">100</span>]</span><br></pre></td></tr></table></figure>

<h4 id="Initializing-a-map-using-a-map-literal"><a href="#Initializing-a-map-using-a-map-literal" class="headerlink" title="Initializing a map using a map literal"></a>Initializing a map using a map literal</h4><p>A map literal is a very convenient way to initialize a map with some data. An empty map using a map literal by leaving the curly braces empty -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Initialize an empty map</span></span><br><span class="line"><span class="keyword">var</span> m = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>The above statement is <strong>functionally identical to using the <code>make()</code> function</strong>.</p>
<p>To initialize with some values, you just need to pass the key-value pairs separated by colon inside curly braces like this:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> m = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;</span><br><span class="line">	<span class="string">"one"</span>: <span class="number">1</span>,</span><br><span class="line">	<span class="string">"two"</span>: <span class="number">2</span>,</span><br><span class="line">	<span class="string">"three"</span>: <span class="number">3</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Adding-items-key-value-pairs-to-a-map"><a href="#Adding-items-key-value-pairs-to-a-map" class="headerlink" title="Adding items (key-value pairs) to a map"></a>Adding items (key-value pairs) to a map</h3><p>You can add new items to an initialized map using the following syntax -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m[key] = value</span><br></pre></td></tr></table></figure>
<p>The following example initializes a map using the <code>make()</code> function and adds some new items to it -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// Initializing a map</span></span><br><span class="line">	<span class="keyword">var</span> tinderMatch = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Adding keys to a map</span></span><br><span class="line">	tinderMatch[<span class="string">"Rajeev"</span>] = <span class="string">"Angelina"</span> <span class="comment">// Assigns the value "Angelina" to the key "Rajeev"</span></span><br><span class="line">	tinderMatch[<span class="string">"James"</span>] = <span class="string">"Sophia"</span></span><br><span class="line">	tinderMatch[<span class="string">"David"</span>] = <span class="string">"Emma"</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(tinderMatch)</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	  Adding a key that already exists will simply override</span></span><br><span class="line"><span class="comment">	  the existing key with the new value</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	tinderMatch[<span class="string">"Rajeev"</span>] = <span class="string">"Jennifer"</span></span><br><span class="line">	fmt.Println(tinderMatch)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">map[Rajeev:Angelina James:Sophia David:Emma]</span><br><span class="line">map[Rajeev:Jennifer James:Sophia David:Emma]</span><br></pre></td></tr></table></figure>
<p>If you try to <strong>add a key that already exists in the map</strong>, then it will simply be <strong>overridden by the new value</strong>.</p>
<h3 id="Retrieving-the-value-associated-with-a-given-key-in-a-map"><a href="#Retrieving-the-value-associated-with-a-given-key-in-a-map" class="headerlink" title="Retrieving the value associated with a given key in a map"></a>Retrieving the value associated with a given key in a map</h3><p>You can retrieve the value assigned to a key in a map using the syntax <code>m[key]</code>. <strong>If the key exists</strong> in the map, you’ll <strong>get the assigned value</strong>. Otherwise, you’ll get the <strong>zero value of the map’s value type</strong>.</p>
<p>Let’s check out an example to understand this -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> personMobileNo = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="string">"John"</span>:  <span class="string">"+33-8273658526"</span>,</span><br><span class="line">		<span class="string">"Steve"</span>: <span class="string">"+1-8579822345"</span>,</span><br><span class="line">		<span class="string">"David"</span>: <span class="string">"+44-9462834443"</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> mobileNo = personMobileNo[<span class="string">"Steve"</span>]</span><br><span class="line">	fmt.Println(<span class="string">"Steve's Mobile No : "</span>, mobileNo)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// If a key doesn't exist in the map, we get the zero value of the value type</span></span><br><span class="line">	mobileNo = personMobileNo[<span class="string">"Jack"</span>]	<span class="comment">// string has a zero value of ""</span></span><br><span class="line">	fmt.Println(<span class="string">"Jack's Mobile No : "</span>, mobileNo)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">Steve&#39;s Mobile No :  +1-8579822345</span><br><span class="line">Jack&#39;s Mobile No :</span><br></pre></td></tr></table></figure>
<p>In the above example, since the key <code>&quot;Jack&quot;</code> doesn’t exist in the map, we get the zero value of the map’s value type. Since the map’s value type is string, we get <code>&quot; &quot;</code>.</p>
<p>Unlike other languages, we <strong>do not get a runtime error</strong> in Golang if the key doesn’t exist in the map.</p>
<p><strong>But what if you want to check for the existence of a key?</strong></p>
<h3 id="Checking-if-a-key-exists-in-a-map"><a href="#Checking-if-a-key-exists-in-a-map" class="headerlink" title="Checking if a key exists in a map"></a>Checking if a key exists in a map</h3><p>When you retrieve the value assigned to a given key <strong>using the syntax <code>map[key]</code></strong>, it <strong>returns an additional boolean value</strong> as well which is <strong><code>true</code> if the key exists in the map</strong>, and <strong><code>false</code> if it doesn’t exist</strong>.</p>
<p>So you can check for the existence of a key in a map by using the following two-value assignment -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value, ok := m[key]</span><br></pre></td></tr></table></figure>

<p>The boolean variable ok will be <code>true</code> if the key exists, and <code>false</code> otherwise.</p>
<p>Consider the following map for example. It maps employeeIds to names -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> employees = <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">	<span class="number">1001</span>: <span class="string">"Rajeev"</span>,</span><br><span class="line">	<span class="number">1002</span>: <span class="string">"Sachin"</span>,</span><br><span class="line">	<span class="number">1003</span>: <span class="string">"James"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Accessing the key 1001 will return “Rajeev” and true, since the key 1001 exists in the map -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name, ok := employees[<span class="number">1001</span>]  <span class="comment">// "Rajeev", true</span></span><br></pre></td></tr></table></figure>
<p>However, If you try to access a key that doesn’t exist, then the map will return an empty string <code>&quot;&quot;</code> (zero value of strings), and false -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name, ok := employees[<span class="number">1010</span>]  <span class="comment">// "", false</span></span><br></pre></td></tr></table></figure>

<h3 id="Deleting-a-key-from-a-map"><a href="#Deleting-a-key-from-a-map" class="headerlink" title="Deleting a key from a map"></a>Deleting a key from a map</h3><p>You can delete a key from a map using the built-in <code>delete()</code> function. The syntax looks like this -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Delete the `key` from the `map`</span></span><br><span class="line"><span class="built_in">delete</span>(<span class="keyword">map</span>, key)</span><br></pre></td></tr></table></figure>
<p>The <code>delete()</code> function <strong>doesn’t return any value</strong>. Also, it <strong>doesn’t do anything if the key doesn’t exist</strong> in the map.</p>
<p>Here is a complete example -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> fileExtensions = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="string">"Python"</span>: <span class="string">".py"</span>,</span><br><span class="line">		<span class="string">"C++"</span>:    <span class="string">".cpp"</span>,</span><br><span class="line">		<span class="string">"Java"</span>:   <span class="string">".java"</span>,</span><br><span class="line">		<span class="string">"Golang"</span>: <span class="string">".go"</span>,</span><br><span class="line">		<span class="string">"Kotlin"</span>: <span class="string">".kt"</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(fileExtensions)</span><br><span class="line"></span><br><span class="line">	<span class="built_in">delete</span>(fileExtensions, <span class="string">"Kotlin"</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// delete function doesn't do anything if the key doesn't exist</span></span><br><span class="line">	<span class="built_in">delete</span>(fileExtensions, <span class="string">"Javascript"</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Println(fileExtensions)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">map[Python:.py C++:.cpp Java:.java Golang:.go Kotlin:.kt]</span><br><span class="line">map[Python:.py C++:.cpp Java:.java Golang:.go]</span><br></pre></td></tr></table></figure>

<h3 id="Maps-are-reference-types"><a href="#Maps-are-reference-types" class="headerlink" title="Maps are reference types"></a>Maps are reference types</h3><p>Maps are reference types. When you assign a map to a new variable, they <strong>both refer to the same underlying data structure</strong>. Therefore changes done by one variable will be visible to the other -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m1 = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;</span><br><span class="line">		<span class="string">"one"</span>:   <span class="number">1</span>,</span><br><span class="line">		<span class="string">"two"</span>:   <span class="number">2</span>,</span><br><span class="line">		<span class="string">"three"</span>: <span class="number">3</span>,</span><br><span class="line">		<span class="string">"four"</span>:  <span class="number">4</span>,</span><br><span class="line">		<span class="string">"five"</span>:  <span class="number">5</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> m2 = m1</span><br><span class="line">	fmt.Println(<span class="string">"m1 = "</span>, m1)</span><br><span class="line">	fmt.Println(<span class="string">"m2 = "</span>, m2)</span><br><span class="line"></span><br><span class="line">	m2[<span class="string">"ten"</span>] = <span class="number">10</span></span><br><span class="line">	fmt.Println(<span class="string">"\nm1 = "</span>, m1)</span><br><span class="line">	fmt.Println(<span class="string">"m2 = "</span>, m2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">m1 &#x3D;  map[one:1 two:2 three:3 four:4 five:5]</span><br><span class="line">m2 &#x3D;  map[one:1 two:2 three:3 four:4 five:5]</span><br><span class="line"></span><br><span class="line">m1 &#x3D;  map[one:1 two:2 three:3 four:4 five:5 ten:10]</span><br><span class="line">m2 &#x3D;  map[one:1 two:2 three:3 four:4 five:5 ten:10]</span><br></pre></td></tr></table></figure>
<p>The same concept applies when you <strong>pass a map to a function</strong>. Any changes done to the map inside the function is also visible to the caller.</p>
<h3 id="Iterating-over-a-map"><a href="#Iterating-over-a-map" class="headerlink" title="Iterating over a map"></a>Iterating over a map</h3><p>You can iterate over a map using range form of the for loop. It gives you the key, value pair in every iteration -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> personAge = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;</span><br><span class="line">		<span class="string">"Rajeev"</span>: <span class="number">25</span>,</span><br><span class="line">		<span class="string">"James"</span>:  <span class="number">32</span>,</span><br><span class="line">		<span class="string">"Sarah"</span>:  <span class="number">29</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> name, age := <span class="keyword">range</span> personAge &#123;</span><br><span class="line">		fmt.Println(name, age)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">James 32</span><br><span class="line">Sarah 29</span><br><span class="line">Rajeev 25</span><br></pre></td></tr></table></figure>
<p>Note that, A map is an <strong>unordered collection and therefore the iteration order of a map is not guaranteed to be the same every time you iterate over it</strong>.</p>
<h2 id="Function-Values"><a href="#Function-Values" class="headerlink" title="Function Values"></a>Function Values</h2><p>Functions are values too. They can be <strong>passed around just like other values</strong>.</p>
<p>Function values may be used as function arguments and return values.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">compute</span><span class="params">(fn <span class="keyword">func</span>(<span class="keyword">float64</span>, <span class="keyword">float64</span>)</span> <span class="title">float64</span>) <span class="title">float64</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> fn(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	hypot := <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">		<span class="keyword">return</span> math.Sqrt(x*x + y*y)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(hypot(<span class="number">5</span>, <span class="number">12</span>))</span><br><span class="line"></span><br><span class="line">	fmt.Println(compute(hypot))</span><br><span class="line">	fmt.Println(compute(math.Pow))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Function-closures"><a href="#Function-closures" class="headerlink" title="Function closures"></a>Function closures</h4><p>Go functions may be closures. A closure is a <strong>returned function value that references variables from outside its body</strong>. The function may access and assign to the referenced variables; in this sense the function is “bound” to the variables.</p>
<p>For example, the adder function returns a closure. Each closure is bound to its own sum variable.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">adder</span><span class="params">()</span> <span class="params">(result <span class="keyword">func</span>(<span class="keyword">int</span>)</span> <span class="title">int</span>)</span> &#123;</span><br><span class="line">	sum := <span class="number">0</span></span><br><span class="line">	result = <span class="function"><span class="keyword">func</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">		sum += x</span><br><span class="line">		<span class="keyword">return</span> sum</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	pos, neg := adder(), adder()</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		fmt.Println(</span><br><span class="line">			pos(i),</span><br><span class="line">			neg(<span class="number">-2</span>*i),</span><br><span class="line">		)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><p>(additional reference: <a href="https://www.callicoder.com/golang-methods-tutorial/" target="_blank" rel="noopener">https://www.callicoder.com/golang-methods-tutorial/</a>)</p>
<p>Technically, Go is not an object-oriented programming language. It doesn’t have classes, objects, and inheritance.</p>
<p>However, <strong>Go has <code>types</code>. And, you can define <code>methods</code> on types</strong>. This allows for an object-oriented style of programming in Go.</p>
<p>A method is nothing but a function with a special receiver argument.</p>
<p>The receiver argument has a <code>name</code> and a <code>type</code>. It <strong>appears between the func keyword and the method name</strong> -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(receiver Type)</span> <span class="title">MethodName</span><span class="params">(parameterList)</span> <span class="params">(returnTypes)</span></span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The receiver can be either a struct type or a non-struct type.</p>
<p>Let’s see an example to understand how to define a method on a type and how to invoke such a method -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Struct type - `Point`</span></span><br><span class="line"><span class="keyword">type</span> Point <span class="keyword">struct</span> &#123;</span><br><span class="line">	X, Y <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method with receiver `Point`</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Point)</span> <span class="title">IsAbove</span><span class="params">(y <span class="keyword">float64</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> p.Y &gt; y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	p := Point&#123;<span class="number">2.0</span>, <span class="number">4.0</span>&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"Point : "</span>, p)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"Is Point p located above the line y = 1.0 ? : "</span>, p.IsAbove(<span class="number">1</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Methods-with-Pointer-receivers"><a href="#Methods-with-Pointer-receivers" class="headerlink" title="Methods with Pointer receivers"></a>Methods with Pointer receivers</h3><p>All the examples that we saw in the previous sections had a value receiver.</p>
<p>With a value receiver, the method operates on a copy of the value passed to it. Therefore, any modifications done to the receiver inside the method is not visible to the caller.</p>
<p>Go also allows you to define a method with a pointer receiver -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Method with pointer receiver</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(receiver *Type)</span> <span class="title">MethodName</span><span class="params">(parameterList)</span> <span class="params">(returnTypes)</span></span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Methods with pointer receivers can modify the value to which the receiver points. Such modifications are visible to the caller of the method as well -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Point <span class="keyword">struct</span> &#123;</span><br><span class="line">	X, Y <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  Translates the current Point, at location (X,Y), by dx along the x axis and dy along the y axis </span></span><br><span class="line"><span class="comment">  so that it now represents the point (X+dx,Y+dy).</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Point)</span> <span class="title">Translate</span><span class="params">(dx, dy <span class="keyword">float64</span>)</span></span> &#123;</span><br><span class="line">	p.X = p.X + dx</span><br><span class="line">	p.Y = p.Y + dy</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	p := Point&#123;<span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	fmt.Println(<span class="string">"Point p = "</span>, p)</span><br><span class="line"></span><br><span class="line">	p.Translate(<span class="number">7</span>, <span class="number">9</span>)</span><br><span class="line">	fmt.Println(<span class="string">"After Translate, p = "</span>, p)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Point p &#x3D;  &#123;3 4&#125;</span><br><span class="line">After Translate, p &#x3D;  &#123;10 13&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Function-equivalent-of-a-Method"><a href="#Function-equivalent-of-a-Method" class="headerlink" title="Function equivalent of a Method"></a>Function equivalent of a Method</h3><p>Just like methods with value receivers, we can also write methods with pointer receivers as <strong>functions</strong>. The following example shows how to rewrite the previous example with functions -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Point <span class="keyword">struct</span> &#123;</span><br><span class="line">	X, Y <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">  Translates the current Point, at location (X,Y), by dx along the x axis and dy along the y axis </span></span><br><span class="line"><span class="comment">  so that it now represents the point (X+dx,Y+dy).</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TranslateFunc</span><span class="params">(p *Point, dx, dy <span class="keyword">float64</span>)</span></span> &#123;	<span class="comment">// a function version of the above</span></span><br><span class="line">	p.X = p.X + dx</span><br><span class="line">	p.Y = p.Y + dy</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	p := Point&#123;<span class="number">3</span>, <span class="number">4</span>&#125;	</span><br><span class="line">	fmt.Println(<span class="string">"Point p = "</span>, p)</span><br><span class="line"></span><br><span class="line">	TranslateFunc(&amp;p, <span class="number">7</span>, <span class="number">9</span>)</span><br><span class="line">	fmt.Println(<span class="string">"After Translate, p = "</span>, p)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Methods-and-Pointer-indirection"><a href="#Methods-and-Pointer-indirection" class="headerlink" title="Methods and Pointer indirection"></a>Methods and Pointer indirection</h3><ol>
<li><p>Methods with <strong>Pointer receivers</strong> vs Functions with <strong>Pointer arguments</strong></p>
<p> A method with a pointer receiver can accept both a pointer and a value as the receiver argument. But, a function with a pointer argument can only accept a pointer -</p>
 <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Point <span class="keyword">struct</span> &#123;</span><br><span class="line">	X, Y <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method with Pointer receiver, actually BOTH value and pointer will be accepted</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Point)</span> <span class="title">Translate</span><span class="params">(dx, dy <span class="keyword">float64</span>)</span></span> &#123;</span><br><span class="line">	p.X = p.X + dx</span><br><span class="line">	p.Y = p.Y + dy</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Function with Pointer argument, ONLY a pointer will be accepted</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TranslateFunc</span><span class="params">(p *Point, dx, dy <span class="keyword">float64</span>)</span></span> &#123;</span><br><span class="line">	p.X = p.X + dx</span><br><span class="line">	p.Y = p.Y + dy</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	p := Point&#123;<span class="number">3</span>, <span class="number">4</span>&#125;	</span><br><span class="line">	ptr := &amp;p</span><br><span class="line">	fmt.Println(<span class="string">"Point p = "</span>, p)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Calling a Method with Pointer receiver</span></span><br><span class="line">	p.Translate(<span class="number">2</span>, <span class="number">6</span>)		<span class="comment">// Valid</span></span><br><span class="line">	ptr.Translate(<span class="number">5</span>, <span class="number">10</span>)	<span class="comment">// Valid</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Calling a Function with a Pointer argument</span></span><br><span class="line">	TranslateFunc(ptr, <span class="number">20</span>, <span class="number">30</span>)  <span class="comment">// Valid</span></span><br><span class="line">	TranslateFunc(p, <span class="number">20</span>, <span class="number">30</span>)   <span class="comment">// Not Valid</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> Notice how both <code>p.Translate()</code> and <code>ptr.Translate()</code> calls are valid. Since Go knows that the method <code>Translate()</code> has a pointer receiver, It <strong>interprets the statement <code>p.Translate()</code> as <code>(&amp;p).Translate()</code></strong>. It’s a syntactic sugar provider by Go for convenience.</p>
</li>
<li><p>Methods with <strong>Value receivers</strong> vs Functions with <strong>Value arguments</strong></p>
<p> A method with a value receiver can accept both a value and a pointer as the receiver argument. But, a function with a value argument can only accept a value -</p>
 <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Struct type - `Point`</span></span><br><span class="line"><span class="keyword">type</span> Point <span class="keyword">struct</span> &#123;</span><br><span class="line">	X, Y <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Point)</span> <span class="title">IsAbove</span><span class="params">(y <span class="keyword">float64</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> p.Y &gt; y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">IsAboveFunc</span><span class="params">(p Point, y <span class="keyword">float64</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> p.Y &gt; y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	p := Point&#123;<span class="number">0</span>, <span class="number">4</span>&#125;</span><br><span class="line">	ptr := &amp;p</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"Point p = "</span>, p)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Calling a Method with Value receiver</span></span><br><span class="line">	p.IsAbove(<span class="number">1</span>)   <span class="comment">// Valid</span></span><br><span class="line">	ptr.IsAbove(<span class="number">1</span>) <span class="comment">// Valid</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Calling a Function with a Value argument</span></span><br><span class="line">	IsAboveFunc(p, <span class="number">1</span>)   <span class="comment">// Valid</span></span><br><span class="line">	IsAboveFunc(ptr, <span class="number">1</span>) <span class="comment">// Not Valid</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> In the above example, both <code>p.IsAbove()</code> and <code>ptr.IsAbove()</code> statements are valid. Go knows that the method IsAbove() has a value receiver. So for convenience, It <strong>interprets the statement <code>ptr.IsAbove()</code> as <code>(*ptr).IsAbove()</code></strong></p>
</li>
</ol>
<h3 id="Method-definition-restrictions"><a href="#Method-definition-restrictions" class="headerlink" title="Method definition restrictions"></a>Method definition restrictions</h3><p>Note that, For you to be able to define a method on a receiver, the <strong>receiver type must be defined in the same package</strong>.</p>
<p>Go <strong>doesn’t allow you to define a method on a receiver type that is defined in some other package</strong> (this includes built-in types such as int as well).</p>
<p>In all the previous examples, the structs and the methods were defined in the same package <code>main</code>. Therefore, they worked. However, if you try to define a method on a type defined in some other package, the compiler will complain.</p>
<p>Let’s see an example. Consider the following package hierarchy -</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">src&#x2F;example</span><br><span class="line">	main</span><br><span class="line">		main.go</span><br><span class="line">    model</span><br><span class="line">        person.go</span><br></pre></td></tr></table></figure>

<p>Here are the contents of <code>person.go</code> -</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> model</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">	FirstName <span class="keyword">string</span></span><br><span class="line">	LastName <span class="keyword">string</span></span><br><span class="line">	Age <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line">Let’s try to define a method on the <span class="keyword">struct</span> Person -</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"example/model"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ERROR: cannot define new methods on non-local types model.Person</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p model.Person)</span> <span class="title">getFullName</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> p.FirstName + <span class="string">" "</span> + p.LastName</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Interface"><a href="#Interface" class="headerlink" title="Interface"></a>Interface</h2><p>(additional reference: <a href="https://www.callicoder.com/golang-interfaces/" target="_blank" rel="noopener">https://www.callicoder.com/golang-interfaces/</a>)</p>
<p>An interface in Go is a type defined using <strong>a set of method signatures</strong>. The interface defines the behavior for similar type of objects.</p>
<p>For example, Here is an interface that defines the behavior for Geometrical shapes:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Go Interface - `Shape`</span></span><br><span class="line"><span class="keyword">type</span> Shape <span class="keyword">interface</span> &#123;</span><br><span class="line">	Area() <span class="keyword">float64</span></span><br><span class="line">	Perimeter() <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>An interface is declared using the <code>type</code> keyword, followed by the name of the interface and the keyword interface. Then, we specify a set of method signatures inside curly braces.</p>
<h3 id="Implementing-an-interface-in-Go"><a href="#Implementing-an-interface-in-Go" class="headerlink" title="Implementing an interface in Go"></a>Implementing an interface in Go</h3><p>To implement an interface, you just need to implement all the methods declared in the interface.</p>
<p><strong>Go Interfaces are implemented implicitly</strong></p>
<p>Unlike other languages like Java, you don’t need to explicitly specify that a type implements an interface using something like an implements keyword. You <strong>just implement all the methods declared in the interface and you’re done</strong>.</p>
<p>Here is one Struct types that implement the <code>Shape</code> interface:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Go Interface - `Shape`</span></span><br><span class="line"><span class="keyword">type</span> Shape <span class="keyword">interface</span> &#123;</span><br><span class="line">	Area() <span class="keyword">float64</span></span><br><span class="line">	Perimeter() <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Struct type `Rectangle` - implements the `Shape` interface by implementing all its methods.</span></span><br><span class="line"><span class="keyword">type</span> Rectangle <span class="keyword">struct</span> &#123;</span><br><span class="line">	Length, Width <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r Rectangle)</span> <span class="title">Area</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> r.Length * r.Width</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r Rectangle)</span> <span class="title">Perimeter</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">2</span> * (r.Length + r.Width)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Using-an-interface-type-with-concrete-values"><a href="#Using-an-interface-type-with-concrete-values" class="headerlink" title="Using an interface type with concrete values"></a>Using an interface type with concrete values</h3><p>An interface in itself is not that useful unless we use it with a concrete type that implements all its methods.</p>
<p>Let’s see how an interface can be used with concrete values.</p>
<ul>
<li>An interface type can <strong>hold any value</strong> that implements all its methods</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this means you can do this</span></span><br><span class="line"><span class="keyword">var</span> s Shape = Circle&#123;<span class="number">5.0</span>&#125;</span><br><span class="line">... <span class="comment">// some operations</span></span><br><span class="line">s = Rectangle&#123;<span class="number">4.0</span>, <span class="number">6.0</span>&#125;</span><br><span class="line">... <span class="comment">// some other operatoins</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Using Interface types <strong>as arguments to functions</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Generic function to calculate the total area of multiple shapes of different types</span><br><span class="line">func CalculateTotalArea(shapes ...Shape) float64 &#123;</span><br><span class="line">    totalArea :&#x3D; 0.0</span><br><span class="line">    for _, s :&#x3D; range shapes &#123;</span><br><span class="line">        totalArea +&#x3D; s.Area()</span><br><span class="line">    &#125;</span><br><span class="line">    return totalArea</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Using Interface types as <strong>fields</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Interface types can also be used as fields</span><br><span class="line">type MyDrawing struct &#123;</span><br><span class="line">    shapes  []Shape</span><br><span class="line">    bgColor string</span><br><span class="line">    fgColor string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Interface-values-How-does-an-interface-type-work-with-concrete-values"><a href="#Interface-values-How-does-an-interface-type-work-with-concrete-values" class="headerlink" title="Interface values: How does an interface type work with concrete values?"></a>Interface values: How does an interface type work with concrete values?</h3><p>Under the hood, an interface value can be thought of as a tuple consisting of a value and a concrete type:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// interface</span></span><br><span class="line">(value, <span class="keyword">type</span>)</span><br></pre></td></tr></table></figure>
<p>Let’s see an example to understand more:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> s Shape</span><br><span class="line"></span><br><span class="line">	s = Circle&#123;<span class="number">5</span>&#125;</span><br><span class="line">	fmt.Printf(<span class="string">"(%v, %T)\n"</span>, s, s)</span><br><span class="line">	fmt.Printf(<span class="string">"Shape area = %v\n"</span>, s.Area())</span><br><span class="line"></span><br><span class="line">	s = Rectangle&#123;<span class="number">4</span>, <span class="number">7</span>&#125;</span><br><span class="line">	fmt.Printf(<span class="string">"(%v, %T)\n"</span>, s, s)</span><br><span class="line">	fmt.Printf(<span class="string">"Shape area = %v\n"</span>, s.Area())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line">(&#123;5&#125;, main.Circle)</span><br><span class="line">Shape area &#x3D; 78.53981633974483</span><br><span class="line">(&#123;4 7&#125;, main.Rectangle)</span><br><span class="line">Shape area &#x3D; 28</span><br></pre></td></tr></table></figure>
<p>Checkout the output of the above program and notice how the variable s has information about the value as well as the type of the Shape that is assigned to it.</p>
<p><strong>When we call a method on an interface value, a method of the same name on its underlying type (actual type) is executed.</strong></p>
<p>For example, in the above program, when we call the method <code>Area()</code> on the variable s, it executes the <code>Area()</code> method of its underlying type/actual type.</p>
<h4 id="What-if-you-have-a-nil-value-for-an-Interface"><a href="#What-if-you-have-a-nil-value-for-an-Interface" class="headerlink" title="What if you have a nil value for an Interface?"></a>What if you have a nil <code>value</code> for an Interface?</h4><p>If the concrete <strong>value inside the interface itself is <code>nil</code></strong> (but its <strong>type is not <code>nil</code></strong>), the method will be <strong>called with a <code>nil receiver</code></strong>.</p>
<p>In some languages this would trigger a null pointer exception, but in Go it is common to write methods that gracefully handle being called with a <code>nil receiver</code> (as with the method <code>M</code> in this example.)</p>
<p>Note that an interface value that holds a nil concrete value is itself non-nil.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> I <span class="keyword">interface</span> &#123;</span><br><span class="line">	M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T <span class="keyword">struct</span> &#123;</span><br><span class="line">	S <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *T)</span> <span class="title">M</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> t == <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"&lt;nil&gt;"</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(t.S)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i I</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> t *T</span><br><span class="line">	i = t</span><br><span class="line">	describe(i)</span><br><span class="line">	i.M()</span><br><span class="line"></span><br><span class="line">	i = &amp;T&#123;<span class="string">"hello"</span>&#125;</span><br><span class="line">	describe(i)</span><br><span class="line">	i.M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">describe</span><span class="params">(i I)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"(%v, %T)\n"</span>, i, i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="What-if-you-have-a-nil-type-for-an-Interface"><a href="#What-if-you-have-a-nil-type-for-an-Interface" class="headerlink" title="What if you have a nil type for an Interface?"></a>What if you have a nil <code>type</code> for an Interface?</h4><p>You cannot create a variable with a value but not type. So the only case is that you have neither value nor type for an interface variable.</p>
<p>Calling a method on such a <code>nil interface</code> is a <strong>run-time error because there is no type inside the interface tuple to indicate which concrete method to call</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> I <span class="keyword">interface</span> &#123;</span><br><span class="line">	M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i I</span><br><span class="line">	describe(i)</span><br><span class="line">	i.M()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">describe</span><span class="params">(i I)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"(%v, %T)\n"</span>, i, i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="The-empty-Interface"><a href="#The-empty-Interface" class="headerlink" title="The empty Interface"></a>The empty Interface</h3><p>The interface type that specifies zero methods is known as the empty interface:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>An empty interface <strong>may hold values of any type. (Every type implements at least zero methods.)</strong></p>
<p>Empty interfaces are used by code that handles values of unknown type. For example, <code>fmt.Print</code> takes any number of arguments of type <code>interface{}</code>.</p>
<p>To use this, you don’t need to explicitly creat an interface but just use it in place:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125;	<span class="comment">// this variable will be of anyType</span></span><br></pre></td></tr></table></figure>

<p>For example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">	describe(i)</span><br><span class="line"></span><br><span class="line">	i = <span class="number">42</span></span><br><span class="line">	describe(i)</span><br><span class="line"></span><br><span class="line">	i = <span class="string">"hello"</span></span><br><span class="line">	describe(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">describe</span><span class="params">(i <span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"(%v, %T)\n"</span>, i, i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Type-Assertions"><a href="#Type-Assertions" class="headerlink" title="Type Assertions"></a>Type Assertions</h3><p>Type assertion provides <strong>access to and assess an interface value’s underlying concrete value</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t :&#x3D; i.(T)	&#x2F;&#x2F; T is the type that I want to assert variable i has</span><br></pre></td></tr></table></figure>

<p>This statement asserts that the interface value <code>i</code> holds the <strong>concrete type <code>T</code></strong> and <strong>assigns the underlying <code>T</code> value to the variable <code>t</code></strong>.</p>
<p>If <code>i</code> does not hold a <code>T</code>, the statement will trigger a panic.</p>
<p>To test whether an interface value holds a specific type, <strong>a type assertion can return two values</strong>: the <strong>underlying type value</strong> and <strong>a boolean value that reports whether the assertion succeeded</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t, ok := i.(T)</span><br></pre></td></tr></table></figure>
<p>If <code>i</code> holds a <code>T</code>, then t will be the underlying value and <code>ok</code> will be <code>true</code>.</p>
<p>If not, ok will be false and <code>t</code> will be the zero value of type <code>T</code>, and no panic occurs.</p>
<p>Note the similarity between this syntax and that of reading from a map/array/slice.</p>
<h3 id="Type-switches"><a href="#Type-switches" class="headerlink" title="Type switches"></a>Type switches</h3><p>A type switch is a construct that permits several type assertions in series.</p>
<p>A type switch is like a regular switch statement, but the cases in a type switch specify types (not values), and those values are compared against the type of the value held by the given interface value.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> v := i.(<span class="keyword">type</span>) &#123;</span><br><span class="line"><span class="keyword">case</span> T:</span><br><span class="line">    <span class="comment">// here v has type T</span></span><br><span class="line"><span class="keyword">case</span> S:</span><br><span class="line">    <span class="comment">// here v has type S</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="comment">// no match; here v has the same type as i</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The declaration in a type switch has the same syntax as a type assertion <code>i.(T)</code>, but the specific type <strong><code>T</code> is replaced with the keyword <code>type</code></strong>. (This <strong>only works if you use a switch statement</strong>.)</p>
<h2 id="Common-Interfaces"><a href="#Common-Interfaces" class="headerlink" title="Common Interfaces"></a>Common Interfaces</h2><h3 id="Stringer-Interface"><a href="#Stringer-Interface" class="headerlink" title="Stringer Interface"></a>Stringer Interface</h3><p>One of the most ubiquitous interfaces is <strong>Stringer</strong> defined by the <code>fmt</code> package. This could be understood similar to the <code>String toString()</code> method of a Java object, which would be invoked when <code>println()</code> is called.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Stringer <span class="keyword">interface</span> &#123;</span><br><span class="line">    String() <span class="keyword">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>A <code>Stringer</code> is a type that can <strong>describe itself as a string</strong>. The <code>fmt</code> package (and many others) look for this interface <strong>to print values</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name <span class="keyword">string</span></span><br><span class="line">	Age  <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span> <span class="title">String</span><span class="params">()</span> <span class="title">string</span></span> &#123;	<span class="comment">// the toString() for Person objects</span></span><br><span class="line">	<span class="keyword">return</span> fmt.Sprintf(<span class="string">"%v (%v years)"</span>, p.Name, p.Age)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := Person&#123;<span class="string">"Arthur Dent"</span>, <span class="number">42</span>&#125;</span><br><span class="line">	z := Person&#123;<span class="string">"Zaphod Beeblebrox"</span>, <span class="number">9001</span>&#125;</span><br><span class="line">	fmt.Println(a, z)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Error-Interface"><a href="#Error-Interface" class="headerlink" title="Error Interface"></a>Error Interface</h3><p>Go programs express error state with error values.</p>
<p>The <code>error</code> type is a built-in interface similar to <code>fmt.Stringer</code>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> error <span class="keyword">interface</span> &#123;</span><br><span class="line">    Error() <span class="keyword">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(As with <code>fmt.Stringer</code>, the <code>fmt</code> package looks for the error interface when printing error values.)</p>
<p>Functions often return an <code>error</code> value, and <strong>calling code should handle errors</strong> by testing whether the error equals <code>nil</code>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i, err := strconv.Atoi(<span class="string">"42"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"couldn't convert number: %v\n"</span>, err)	<span class="comment">// if you implemented Error() string, </span></span><br><span class="line">													 	<span class="comment">// printing err here would print that string</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">"Converted integer:"</span>, i)</span><br></pre></td></tr></table></figure>
<p>A <code>nil</code> error denotes success; a non-nil error denotes failure.</p>
<h2 id="Reader-Interface"><a href="#Reader-Interface" class="headerlink" title="Reader Interface"></a>Reader Interface</h2><p>The <code>io</code> package specifies the <code>io.Reader</code> interface, which represents the <strong>read end of a stream of data</strong>.</p>
<p>The Go standard library contains many implementations of these interfaces, including files, network connections, compressors, ciphers, and others.</p>
<p>The <code>io.Reader</code> interface has a <code>Read</code> method:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(T)</span> <span class="title">Read</span><span class="params">(b []<span class="keyword">byte</span>)</span> <span class="params">(n <span class="keyword">int</span>, err error)</span></span></span><br></pre></td></tr></table></figure>
<p>Read <strong>populates the given byte slice</strong> with data and <strong>returns the number of bytes populated and an error value</strong>. It returns an <code>io.EOF</code> error when the stream ends.</p>
<p>The following example consumes output 8 bytes at a time:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"io"</span></span><br><span class="line">	<span class="string">"strings"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r := strings.NewReader(<span class="string">"Hello, Reader!"</span>)	<span class="comment">// a Reader class</span></span><br><span class="line"></span><br><span class="line">	b := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">8</span>)</span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		n, err := r.Read(b)</span><br><span class="line">		fmt.Printf(<span class="string">"n = %v err = %v b = %v\n"</span>, n, err, b)</span><br><span class="line">		fmt.Printf(<span class="string">"b[:n] = %q\n"</span>, b[:n])</span><br><span class="line">		<span class="keyword">if</span> err == io.EOF &#123;</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Go-Routines"><a href="#Go-Routines" class="headerlink" title="Go Routines"></a>Go Routines</h2><p>(additional reference: <a href="https://www.geeksforgeeks.org/goroutines-concurrency-in-golang/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/goroutines-concurrency-in-golang/</a>)</p>
<p>Go language provides a special feature known as a <code>Goroutines</code>. A Goroutine is a function or method which executes independently and simultaneously in connection with any other Goroutines present in your program. Or in other words, every concurrently executing activity in Go language is known as a Goroutines. You can consider a Goroutine like <strong>a light weighted thread</strong>. The cost of creating Goroutines is <strong>very small as compared to the thread</strong>. </p>
<p>Every program contains at least a single Goroutine and that Goroutine is known as the <strong>main Goroutine</strong>. All the Goroutines are working under the main Goroutines if the main Goroutine terminated, then all the goroutine present in the program also terminated. Goroutine always works in the background.</p>
<h3 id="Creating-a-Goroutine"><a href="#Creating-a-Goroutine" class="headerlink" title="Creating a Goroutine"></a>Creating a Goroutine</h3><p>You can create your own Goroutine simply by <strong>using <code>go</code> keyword as a prefixing to the function or method call as shown in the below syntax</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">name</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">// statements</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// using go keyword as the </span></span><br><span class="line"><span class="comment">// prefix of your function call</span></span><br><span class="line"><span class="keyword">go</span> name()</span><br></pre></td></tr></table></figure>
<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Go program to illustrate </span></span><br><span class="line"><span class="comment">// the concept of Goroutine </span></span><br><span class="line"><span class="keyword">package</span> main </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">display</span><span class="params">(str <span class="keyword">string</span>)</span></span> &#123; </span><br><span class="line">    <span class="keyword">for</span> w := <span class="number">0</span>; w &lt; <span class="number">6</span>; w++ &#123; </span><br><span class="line">        fmt.Println(str) </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123; </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Calling Goroutine </span></span><br><span class="line">    <span class="keyword">go</span> display(<span class="string">"Welcome"</span>) </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Calling normal function </span></span><br><span class="line">    display(<span class="string">"GeeksforGeeks"</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Output:</span><br><span class="line"></span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br></pre></td></tr></table></figure>

<p>Notice that this does not work as expected. This is because that when you call <code>go display(&quot;Welcome&quot;)</code>, sometime is needed to initialize and execute the Goroutine. However, this time does not block the program from going forward. This means that before <code>go display(&quot;Welcome&quot;)</code> happens, the program executes the normal function call <code>display(&quot;GeeksforGeeks&quot;)</code> and finishes before <code>go display(&quot;Welcome&quot;)</code> happens. Once <code>display(&quot;GeeksforGeeks&quot;)</code> finished executing, the program finishes, so <code>go display(&quot;Welcome&quot;)</code> never actually executes.</p>
<p>To fix this, (there are many ways to fix this) you could give some time for that Goroutine to execute before the program exits:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;	<span class="comment">// though this technically does not have the effect we wanted</span></span><br><span class="line">	<span class="keyword">go</span> display(<span class="string">"Welcome"</span>)</span><br><span class="line"></span><br><span class="line">	display(<span class="string">"GeeksforGeeks"</span>)</span><br><span class="line"></span><br><span class="line">	time.Sleep(<span class="number">2</span> * time.Second)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># Output</span><br><span class="line"></span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">Welcome</span><br><span class="line">Welcome</span><br><span class="line">Welcome</span><br><span class="line">Welcome</span><br><span class="line">Welcome</span><br><span class="line">Welcome</span><br></pre></td></tr></table></figure>

<p>To achieve the effect of concurrency that we wanted, we should:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> ( </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">) </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">display</span><span class="params">(str <span class="keyword">string</span>)</span></span> &#123; </span><br><span class="line">    <span class="keyword">for</span> w := <span class="number">0</span>; w &lt; <span class="number">6</span>; w++ &#123; </span><br><span class="line">        time.Sleep(<span class="number">1</span> * time.Second) 	<span class="comment">// this will give enough time for that Goroutine to go</span></span><br><span class="line">        fmt.Println(str) </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123; </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Calling Goroutine </span></span><br><span class="line">    <span class="keyword">go</span> display(<span class="string">"Welcome"</span>) </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Calling normal function </span></span><br><span class="line">    display(<span class="string">"GeeksforGeeks"</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># Output:</span><br><span class="line"></span><br><span class="line">Welcome</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">Welcome</span><br><span class="line">Welcome</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br><span class="line">Welcome</span><br><span class="line">Welcome</span><br><span class="line">GeeksforGeeks</span><br><span class="line">GeeksforGeeks</span><br></pre></td></tr></table></figure>
<h3 id="Anonymous-Goroutine"><a href="#Anonymous-Goroutine" class="headerlink" title="Anonymous Goroutine"></a>Anonymous Goroutine</h3><p>In Go language, you can also start Goroutine for an anonymous function or in other words, you can create <strong>an in-place Goroutine simply by using <code>go</code> keyword as a prefix of that function</strong> as shown in the below Syntax:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Anonymous function call</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span> <span class="params">(parameter_list)</span></span>&#123;</span><br><span class="line"><span class="comment">// statement</span></span><br><span class="line">&#125;(arguments)</span><br></pre></td></tr></table></figure>

<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Go program to illustrate how </span></span><br><span class="line"><span class="comment">// to create an anonymous Goroutine </span></span><br><span class="line"><span class="keyword">package</span> main </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> ( </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">) </span><br><span class="line">  </span><br><span class="line"><span class="comment">// Main function </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123; </span><br><span class="line">  </span><br><span class="line">    fmt.Println(<span class="string">"Welcome!! to Main function"</span>) </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Creating Anonymous Goroutine </span></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123; </span><br><span class="line">  </span><br><span class="line">        fmt.Println(<span class="string">"Welcome!! to GeeksforGeeks"</span>) </span><br><span class="line">    &#125;() </span><br><span class="line">  </span><br><span class="line">    time.Sleep(<span class="number">1</span> * time.Second) 	<span class="comment">// give some time for that Goroutine to initialize and go</span></span><br><span class="line">    fmt.Println(<span class="string">"GoodBye!! to Main function"</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Output:</span><br><span class="line"></span><br><span class="line">Welcome!! to Main function</span><br><span class="line">Welcome!! to GeeksforGeeks</span><br><span class="line">GoodBye!! to Main function</span><br></pre></td></tr></table></figure>

<h2 id="Channels"><a href="#Channels" class="headerlink" title="Channels"></a>Channels</h2><p>(additional reference: <a href="https://www.geeksforgeeks.org/channel-in-golang/?ref=lbp" target="_blank" rel="noopener">https://www.geeksforgeeks.org/channel-in-golang/?ref=lbp</a>)</p>
<p>Channels are a <strong>typed</strong> conduit through which you can send and receive values with the channel operator, <code>&lt;-</code>. (Like a Java <code>BlockingQueue</code>)</p>
<h3 id="Creating-a-Channel"><a href="#Creating-a-Channel" class="headerlink" title="Creating a Channel"></a>Creating a Channel</h3><p>In Go language, a channel is created <strong>using <code>chan</code> keyword</strong> and it can only <strong>transfer data of the same type</strong>, different types of data are not allowed to transport from the same channel.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Channel_name <span class="keyword">chan</span> Type</span><br></pre></td></tr></table></figure>
<p>You can also create a channel using <code>make()</code> function using a shorthand declaration.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">channel_name:= <span class="built_in">make</span>(<span class="keyword">chan</span> Type)</span><br></pre></td></tr></table></figure>
<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Go program to illustrate </span></span><br><span class="line"><span class="comment">// how to create a channel </span></span><br><span class="line"><span class="keyword">package</span> main </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123; </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Creating a channel </span></span><br><span class="line">    <span class="comment">// Using var keyword </span></span><br><span class="line">    <span class="keyword">var</span> mychannel <span class="keyword">chan</span> <span class="keyword">int</span></span><br><span class="line">    fmt.Println(<span class="string">"Value of the channel: "</span>, mychannel) </span><br><span class="line">    fmt.Printf(<span class="string">"Type of the channel: %T "</span>, mychannel) </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Creating a channel using make() function </span></span><br><span class="line">    mychannel1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>) </span><br><span class="line">    fmt.Println(<span class="string">"\nValue of the channel1: "</span>, mychannel1) </span><br><span class="line">    fmt.Printf(<span class="string">"Type of the channel1: %T "</span>, mychannel1) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Output:</span><br><span class="line"></span><br><span class="line">Value of the channel:  </span><br><span class="line">Type of the channel: chan int </span><br><span class="line">Value of the channel1:  0x432080</span><br><span class="line">Type of the channel1: chan int</span><br></pre></td></tr></table></figure>
<h3 id="Sending-and-Receiving-Data-from-a-Channel"><a href="#Sending-and-Receiving-Data-from-a-Channel" class="headerlink" title="Sending and Receiving Data from a Channel"></a>Sending and Receiving Data from a Channel</h3><p>In Go language, channel work with two principal operations one is sending and another one is receiving, both the operations collectively known as communication. And the <strong>direction of <code>&lt;-</code> operator indicates whether the data is received or send</strong>. In the channel, the send and receive operation <strong>block until another side is not ready by default</strong>. It allows goroutine to synchronize with each other without explicit locks or condition variables.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ch &lt;- v    <span class="comment">// Send v to channel ch.</span></span><br><span class="line">v := &lt;-ch  <span class="comment">// Receive from ch, and</span></span><br><span class="line">           <span class="comment">// assign value to v.</span></span><br></pre></td></tr></table></figure>
<p>(The data flows in the direction of the arrow.)</p>
<p>Like maps and slices, channels must be <strong>created and initialized</strong> before use:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ch :&#x3D; make(chan int)</span><br></pre></td></tr></table></figure>
<p>By default, sends and receives block until the other side is ready. This allows goroutines to synchronize without explicit locks or condition variables.</p>
<h3 id="Closing-a-Channel"><a href="#Closing-a-Channel" class="headerlink" title="Closing a Channel"></a>Closing a Channel</h3><p>You can also close a channel with the help of <code>close()</code> function. This is an in-built function and sets a flag which indicates that** no more value will be sent or read to this channel**.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">close</span>(ch)</span><br></pre></td></tr></table></figure>

<p>Also, you can <strong>check the channel is open or close</strong> with the help of the given syntax:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ele, ok:&#x3D; &lt;- Mychannel	&#x2F;&#x2F; ele would be the element read from it</span><br></pre></td></tr></table></figure>
<p>Here, if the value of <code>ok</code> is <code>true</code> which means the channel is open so, read operations can be performed. And if the value of is false which means the channel is closed so, read operations are not going to perform.</p>
<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Go program to illustrate how </span></span><br><span class="line"><span class="comment">// to close a channel using for </span></span><br><span class="line"><span class="comment">// range loop and close function </span></span><br><span class="line"><span class="keyword">package</span> main </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// Function </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myfun</span><span class="params">(mychnl <span class="keyword">chan</span> <span class="keyword">string</span>)</span></span> &#123; </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> v := <span class="number">0</span>; v &lt; <span class="number">4</span>; v++ &#123; </span><br><span class="line">        mychnl &lt;- <span class="string">"GeeksforGeeks"</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="built_in">close</span>(mychnl) 	<span class="comment">// disables reading and sending</span></span><br><span class="line">&#125; </span><br><span class="line">  </span><br><span class="line"><span class="comment">// Main function </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123; </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Creating a channel </span></span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>) </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// calling Goroutine </span></span><br><span class="line">    <span class="keyword">go</span> myfun(c) </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// When the value of ok is </span></span><br><span class="line">    <span class="comment">// set to true means the </span></span><br><span class="line">    <span class="comment">// channel is open and it </span></span><br><span class="line">    <span class="comment">// can send or receive data </span></span><br><span class="line">    <span class="comment">// When the value of ok is set to </span></span><br><span class="line">    <span class="comment">// false means the channel is closed </span></span><br><span class="line">    <span class="keyword">for</span> &#123; </span><br><span class="line">        res, ok := &lt;-c </span><br><span class="line">        <span class="keyword">if</span> ok == <span class="literal">false</span> &#123; </span><br><span class="line">            fmt.Println(<span class="string">"Channel Close "</span>, ok) </span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125; </span><br><span class="line">        fmt.Println(<span class="string">"Channel Open "</span>, res, ok) </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Output:</span><br><span class="line"></span><br><span class="line">Channel Open  GeeksforGeeks true</span><br><span class="line">Channel Open  GeeksforGeeks true</span><br><span class="line">Channel Open  GeeksforGeeks true</span><br><span class="line">Channel Open  GeeksforGeeks true</span><br><span class="line">Channel Close  false</span><br></pre></td></tr></table></figure>
<p>You can also use an enhanced for loop to interate over the values stored in a channel <strong>until it is closed</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> item := <span class="keyword">range</span> Chnl &#123; </span><br><span class="line">     <span class="comment">// statements..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Go program to illustrate how to </span></span><br><span class="line"><span class="comment">// use for loop in the channel </span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">package</span> main </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// Main function </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123; </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Creating a channel </span></span><br><span class="line">    <span class="comment">// Using make() function </span></span><br><span class="line">    mychnl := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>) </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Anonymous goroutine </span></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123; </span><br><span class="line">        mychnl &lt;- <span class="string">"GFG"</span></span><br><span class="line">        mychnl &lt;- <span class="string">"gfg"</span></span><br><span class="line">        mychnl &lt;- <span class="string">"Geeks"</span></span><br><span class="line">        mychnl &lt;- <span class="string">"GeeksforGeeks"</span></span><br><span class="line">        <span class="built_in">close</span>(mychnl) </span><br><span class="line">    &#125;() </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// Using for loop </span></span><br><span class="line">    <span class="keyword">for</span> res := <span class="keyword">range</span> mychnl &#123; </span><br><span class="line">        fmt.Println(res) </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Output:</span><br><span class="line"></span><br><span class="line">GFG</span><br><span class="line">gfg</span><br><span class="line">Geeks</span><br><span class="line">GeeksforGeeks</span><br></pre></td></tr></table></figure>

<h3 id="Buffered-Channels"><a href="#Buffered-Channels" class="headerlink" title="Buffered Channels"></a>Buffered Channels</h3><p>Channels can be buffered. <strong>Provide the buffer length as the second argument</strong> to make to initialize a buffered channel:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">100</span>)	<span class="comment">// means it can buffer/store 100 elements</span></span><br></pre></td></tr></table></figure>
<p><strong>Sends</strong> to a buffered channel <strong>block only when the buffer is full</strong>. <strong>Receives block when the buffer is empty</strong>.</p>
<p>You can find out the elements stored and the buffer length/capacity of a channel with <code>len()</code> and <code>cap()</code> function:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>(ch)	<span class="comment">// returns the number of elements currently stored in a channel ch</span></span><br><span class="line"><span class="built_in">cap</span>(ch)	<span class="comment">// returns the maximum capacity/buffer length of a channel ch</span></span><br></pre></td></tr></table></figure>

<h3 id="Select-and-Case-Statement-in-Channel"><a href="#Select-and-Case-Statement-in-Channel" class="headerlink" title="Select and Case Statement in Channel"></a>Select and Case Statement in Channel</h3><p>Select and case statement in Channel: In go language, select statement is just like a switch statement <strong>without any input parameter</strong>. This select statement is used in the channel to <strong>perform a single operation out of multiple operations provided by the case block</strong>.</p>
<p>A select <strong>blocks until one of its cases can run</strong>, then it executes that case. It <strong>chooses one at random if multiple are ready</strong>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	ch1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">1</span>)</span><br><span class="line">	ch2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">1</span>)</span><br><span class="line">	ch1 &lt;- <span class="number">1</span></span><br><span class="line">	<span class="keyword">select</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> ch2 &lt;- <span class="number">20</span>:</span><br><span class="line">		fmt.Println(&lt;-ch1)</span><br><span class="line">	<span class="keyword">case</span> ch1 &lt;- <span class="number">10</span>:</span><br><span class="line">		fmt.Println(<span class="string">"case 1"</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>However, you can also use the <code>default</code> case in a select is run if no other case is ready. This means you can use a default case to <strong>try a send or receive without blocking by placing it in a loop</strong>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// the syntax</span></span><br><span class="line"><span class="keyword">select</span> &#123;</span><br><span class="line"><span class="keyword">case</span> i := &lt;-c:</span><br><span class="line">    <span class="comment">// use i</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="comment">// receiving from c would block</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Example:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	tick := time.Tick(<span class="number">100</span> * time.Millisecond)</span><br><span class="line">	boom := time.After(<span class="number">500</span> * time.Millisecond)</span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		<span class="keyword">select</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> &lt;-tick:</span><br><span class="line">			fmt.Println(<span class="string">"tick."</span>)</span><br><span class="line">		<span class="keyword">case</span> &lt;-boom:</span><br><span class="line">			fmt.Println(<span class="string">"BOOM!"</span>)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			fmt.Println(<span class="string">"    ."</span>)</span><br><span class="line">			time.Sleep(<span class="number">50</span> * time.Millisecond)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="sync-Mutex"><a href="#sync-Mutex" class="headerlink" title="sync.Mutex"></a><code>sync.Mutex</code></h2><p>But what if we don’t need communication? What if we just want to make sure only one goroutine can access a variable at a time to avoid conflicts?</p>
<p>This concept is called mutual exclusion, and the conventional name for the data structure that provides it is mutex. (This can be thought of being the <code>synchronized</code> keyword in Java).</p>
<p>Go’s standard library provides mutual exclusion with <code>sync.Mutex</code> and its two methods:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lock()	<span class="comment">// locks to only allow one goroutine to execute whatever lies below</span></span><br><span class="line">Unlock()	<span class="comment">// releases the lock, should be done usually after the execution completes</span></span><br></pre></td></tr></table></figure>
<p>We can define a block of code to be executed in mutual exclusion by <strong>surrounding it with a call to <code>Lock</code> and <code>Unlock</code> as shown on the <code>Inc</code> method</strong>.</p>
<p>We can also <strong>use <code>defer</code> to ensure the mutex will be unlocked</strong> as in the Value method.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"sync"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// SafeCounter is safe to use concurrently.</span></span><br><span class="line"><span class="keyword">type</span> SafeCounter <span class="keyword">struct</span> &#123;</span><br><span class="line">	v   <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span></span><br><span class="line">	mux sync.Mutex</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Inc increments the counter for the given key.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *SafeCounter)</span> <span class="title">Inc</span><span class="params">(key <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	c.mux.Lock()</span><br><span class="line">	<span class="comment">// Lock so only one goroutine at a time can access the map c.v.</span></span><br><span class="line">	c.v[key]++</span><br><span class="line">	c.mux.Unlock()	<span class="comment">// releases the lock</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Value returns the current value of the counter for the given key.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *SafeCounter)</span> <span class="title">Value</span><span class="params">(key <span class="keyword">string</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	c.mux.Lock()</span><br><span class="line">	<span class="comment">// Lock so only one goroutine at a time can access the map c.v.</span></span><br><span class="line">	<span class="keyword">defer</span> c.mux.Unlock()	<span class="comment">// releases the lock after return</span></span><br><span class="line">	<span class="keyword">return</span> c.v[key]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	c := SafeCounter&#123;v: <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> c.Inc(<span class="string">"somekey"</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	time.Sleep(time.Second)</span><br><span class="line">	fmt.Println(c.Value(<span class="string">"somekey"</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/06/09/Spring-Framework-Guide/" rel="prev" title="Spring Framework Guide">
      <i class="fa fa-chevron-left"></i> Spring Framework Guide
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/06/29/SpringBoot-Manual/" rel="next" title="Spring Boot Manual">
      Spring Boot Manual <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiao Yu</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/next-boot.js"></script>


  















  

  

</body>
</html>
