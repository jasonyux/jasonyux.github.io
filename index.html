<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>From a Beginner to a Disaster</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="From a Beginner to a Disaster">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="From a Beginner to a Disaster">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Xiao Yu">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="From a Beginner to a Disaster" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">From a Beginner to a Disaster</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Xiao.Y</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Docker-Manual" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/25/Docker-Manual/" class="article-date">
  <time datetime="2020-05-25T07:18:39.000Z" itemprop="datePublished">2020-05-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/25/Docker-Manual/">Docker Manual</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p><strong>IMPORTANT</strong>:<br>Much of the content here is a personal summary/abbrieviation of contents on the <a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener">Offical Docker Guide</a>. For more complete information, please refer to the offical site.</p>
<hr>
<h2 id="Docker-Intro"><a href="#Docker-Intro" class="headerlink" title="Docker Intro"></a>Docker Intro</h2><p>Docker provides the ability to package and run an application in a loosely isolated environment called a <strong><code>container</code></strong>, which <strong>separate your applications from your infrastructure</strong>. The <strong>isolation and security</strong> allow you to run many containers simultaneously on a given host.</p>
<p>The use of <code>container</code>s to deploy applications is called containerization. Containers are not new, but their use for easily deploying applications is.</p>
<p>Docker provides tooling and a platform to manage the lifecycle of your <code>container</code>s:</p>
<ul>
<li>Develop your application and its supporting components using <code>container</code>s.</li>
<li>The <code>container</code> becomes the unit for distributing and testing your application.</li>
<li>When you’re ready, deploy your application into your production environment, as a <code>container</code> or an orchestrated service. This works the same whether your production environment is a local data center, a cloud provider, or a hybrid of the two.</li>
</ul>
<h2 id="Docker-Basics"><a href="#Docker-Basics" class="headerlink" title="Docker Basics"></a>Docker Basics</h2><p><strong>Docker is mainly composed of the following elements</strong> (the first three is referred as Docker Engine by the official site): </p>
<ul>
<li><strong>A server</strong> (<code>docker daemon</code>) which is a type of long-running program called a daemon process (the <code>dockerd</code>command).</li>
<li><strong>A command line interface (CLI)</strong> client that is used by most users (the <code>docker</code>command).</li>
<li><strong>A REST API</strong> which specifies interfaces that <strong>CLI</strong> programs can use to <strong>talk to the daemon</strong> and <strong>instruct it what to do</strong>.</li>
<li><strong>A Docker registry</strong>, which stores Docker images. Docker Hub is a public registry that anyone can use, and Docker is configured to look for images on Docker Hub by default.</li>
</ul>
<p>So we see that Docker uses a client-server architecture. The <strong><code>docker client</code> talks to the <code>docker daemon</code></strong>, which does the heavy lifting of building, running, and distributing your Docker containers. The Docker <code>client</code> and <code>daemon</code> can run on the same system, or you can connect a Docker client to a remote Docker daemon.</p>
<h2 id="Docker-Architecture"><a href="#Docker-Architecture" class="headerlink" title="Docker Architecture"></a>Docker Architecture</h2><ul>
<li><p>The <strong>Docker <code>daemon</code></strong></p>
<ul>
<li>The Docker <code>daemon</code> (<code>dockerd</code>) listens for Docker API requests and manages Docker objects such as <code>images</code>, <code>container</code>s, networks, and volumes. A daemon can also communicate with other daemons to manage Docker services.</li>
</ul>
</li>
<li><p><strong>The Docker <code>client</code></strong></p>
<ul>
<li>The Docker <code>client</code> (<code>docker</code>) is the primary way that many Docker users interact with Docker. When you use commands such as <code>docker run</code>, the client sends these commands to <code>dockerd</code>, which carries them out. The docker command uses the Docker API. The Docker client can communicate with more than one daemon.</li>
</ul>
</li>
<li><p><strong>Docker registries</strong></p>
<ul>
<li>A Docker registry stores Docker <code>image</code>s. Docker Hub is a public registry that anyone can use, and Docker is configured to look for images on Docker Hub by default. You can even run your own private registry. If you use Docker Datacenter (DDC), it includes Docker Trusted Registry (DTR).</li>
</ul>
</li>
<li><p><strong>Docker objects</strong></p>
<ul>
<li>When you use Docker, you are creating and using <code>images</code>, <code>container</code>s, networks, volumes, plugins, and other objects. The section below is a brief overview of some of those objects.</li>
</ul>
</li>
</ul>
<h2 id="Docker-Objects"><a href="#Docker-Objects" class="headerlink" title="Docker Objects"></a>Docker Objects</h2><ul>
<li><p><code>IMAGE</code></p>
<ul>
<li>An <code>image</code> is a <strong>read-only template</strong> with <strong>instructions for creating a Docker <code>container</code></strong>. Often, an <code>image</code> is based on another <code>image</code>, with some additional customization. For example, you may build an image which is based on the ubuntu image, but installs the Apache web server and your application, as well as the configuration details needed to make your application run.</li>
</ul>
</li>
<li><p><code>CONTAINER</code></p>
<ul>
<li><p>A container is a <strong>runnable instance of an <code>image</code></strong>. You can create, start, stop, move, or delete a <code>container</code> using the Docker API or CLI. You can connect a <code>container</code> to one or more networks, attach storage to it, or even create a new image based on its current state.</p>
<p>Fundementally, a <strong><code>container</code> is nothing but a running process, with some added encapsulation features applied to it in order to keep it isolated from the host and from other containers</strong>. One of the most important aspects of container isolation is that each container interacts with its <strong>own private filesystem</strong>.</p>
<p>By default, a container is relatively well isolated from other <code>container</code>s and its host machine. You can control how isolated a container’s network, storage, or other underlying subsystems are from other containers or from the host machine.</p>
<p>A <code>container</code> is <strong>defined by its image as well as any configuration options you provide to it when you create or start it</strong>. When a container is <strong>removed</strong>, any changes to its state that are <strong>not stored in persistent storage</strong> disappear.</p>
</li>
</ul>
</li>
<li><p><code>SERVICE</code></p>
<ul>
<li><p>Services allow you to <strong>scale <code>container</code>s across multiple Docker <code>daemons</code></strong>, which all work together as a swarm with multiple managers and workers. Each member of a swarm is a Docker <code>daemon</code>, and all the daemons communicate using the Docker API. A <code>service</code> allows you to <strong>define states</strong>, such as the <strong>number of replicas of the service</strong> that must be available at any given time. </p>
<p>By default, the service is <strong>load-balanced across all worker nodes</strong>. To the consumer, the Docker service appears to be a single application. Docker Engine supports swarm mode in Docker 1.12 and higher.</p>
</li>
</ul>
</li>
</ul>
<h2 id="Installing-Docker"><a href="#Installing-Docker" class="headerlink" title="Installing Docker"></a>Installing Docker</h2><p>Please follow the <a href="#https://docs.docker.com/get-started/">Official Guide</a>.</p>
<h2 id="Basic-Workflow"><a href="#Basic-Workflow" class="headerlink" title="Basic Workflow"></a>Basic Workflow</h2><p>In general, the development workflow for containerized applications looks like this:</p>
<ol>
<li><strong>Create</strong> a Docker <code>image</code> containing the components of your application</li>
<li><strong>Test</strong> those components</li>
<li><strong>Assemble</strong> your containers using the <code>image</code> file and supporting infrastructure into a complete application</li>
<li>Test, share, and deploy your complete containerized application.</li>
</ol>
<h2 id="Quickstart-for-Building-an-Image-and-a-Container"><a href="#Quickstart-for-Building-an-Image-and-a-Container" class="headerlink" title="Quickstart for Building an Image and a Container"></a>Quickstart for Building an Image and a Container</h2><p>First, we could use an existing project to demonstrate some concepts mentioned above.</p>
<ol>
<li><p>Run:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;dockersamples&#x2F;node-bulletin-board</span><br><span class="line">cd node-bulletin-board&#x2F;bulletin-board-app</span><br></pre></td></tr></table></figure>

<p> Then you will see that there is a file called <strong><code>Dockerfile</code></strong>. <strong><code>Dockerfile</code></strong>s describe <strong>how to build an <code>image</code> and assemble a <code>container</code></strong> with a private filesystem, and can also contain some metadata describing <strong>how to run a <code>container</code></strong> based on this image. </p>
<p> The bulletin board app <strong><code>Dockerfile</code></strong> looks like this:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># Use the official image as a parent image.</span><br><span class="line">FROM node:current-slim</span><br><span class="line"></span><br><span class="line"># Set the working directory.</span><br><span class="line">WORKDIR &#x2F;usr&#x2F;src&#x2F;app</span><br><span class="line"></span><br><span class="line"># Copy the file from your host to your current location.</span><br><span class="line">COPY package.json .</span><br><span class="line"></span><br><span class="line"># Run the command inside your image filesystem.</span><br><span class="line">RUN npm install</span><br><span class="line"></span><br><span class="line"># Inform Docker that the container is listening on the specified port at runtime.</span><br><span class="line">EXPOSE 8080</span><br><span class="line"></span><br><span class="line"># Run the specified command within the container.</span><br><span class="line">CMD [ &quot;npm&quot;, &quot;start&quot; ]</span><br><span class="line"></span><br><span class="line"># Copy the rest of your app&#39;s source code from your host to your image filesystem.</span><br><span class="line">COPY . .</span><br></pre></td></tr></table></figure>
<p> You can think of these <strong><code>Dockerfile</code></strong> commands as a step-by-step recipe on how to build up your <code>image</code>. </p>
</li>
<li><p>Make sure you’re in the directory <code>node-bulletin-board/bulletin-board-app</code> in a terminal or PowerShell using the cd command. Let’s build your bulletin board <code>image</code>:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build --tag bulletinboard:1.0 .</span><br></pre></td></tr></table></figure>

<p> You’ll see <strong>Docker step through each instruction in your <code>Dockerfile</code></strong>, building up your <code>image</code> as it goes: </p>
<ul>
<li><p>Start <strong>FROM</strong> the pre-existing <code>node:current-slim</code> image. This is an official image, built by the node.js vendors and validated by Docker to be a high-quality image containing the Node.js Long Term Support (LTS) interpreter and basic dependencies.</p>
</li>
<li><p>Use <strong>WORKDIR</strong> to specify that all subsequent actions should be taken from the directory /usr/src/app in your image filesystem (never the host’s filesystem).</p>
</li>
<li><p><strong>COPY</strong> the file <code>package.json</code> from your host to the present location (<code>.</code>) in your image (so in this case, to /usr/src/app/package.json)</p>
</li>
<li><p><strong>RUN</strong> the command <code>npm install</code> inside your image filesystem (which will read <code>package.json</code> to determine your app’s node dependencies, and install them)</p>
</li>
<li><p><strong>COPY</strong> in the rest of your app’s source code from your host to your image filesystem.</p>
<p>If successful, the build process should end with a message <code>Successfully tagged bulletinboard:1.0</code>.</p>
<p>The steps above built up the filesystem of our image, but there are other lines in your <code>Dockerfile</code>.</p>
</li>
<li><p>The <strong>CMD</strong> directive is the first example of specifying some metadata in your <code>image</code> that <strong>describes how to run a container based on this image</strong>. In this case, it’s saying that the containerized process that this <code>image</code> is meant to support is <code>npm start</code>.</p>
</li>
<li><p>The <strong>EXPOSE</strong> <code>8080</code> informs Docker that the container is listening on port <code>8080</code> at runtime.</p>
</li>
</ul>
</li>
<li><p>Now you have an <code>image</code> and you can start a <code>container</code> based on the <code>image</code>:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --publish 8000:8080 --detach --name  bb bulletinboard:1.0</span><br></pre></td></tr></table></figure>

<p> This has a couple of common flags:</p>
<ul>
<li><code>--publish</code> asks Docker to <strong>forward traffic incoming on the host’s port 8000</strong>, <strong>to the container’s port 8080</strong>. Containers have their own private set of ports, so if you want to reach one from the network, you have to forward traffic to it in this way. Otherwise, firewall rules will prevent all network traffic from reaching your container, as a default security posture.</li>
<li><code>--detach</code> asks Docker to <strong>run this container in the background</strong>.</li>
<li><code>--name</code> specifies a <strong>name with which you can refer to your container in subsequent commands</strong>, in this case <code>bb</code>.</li>
</ul>
</li>
<li><p>Now, you can visit the application in a browser at <code>localhost:8000</code>. <strong>At this step</strong>, it would be the time to <strong>run unit tests</strong>, for example. You would normally do everything you could to ensure your container works the way you expected.</p>
<p> Once you’re satisfied that your bulletin board container works correctly, you can delete it:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm --force bb</span><br></pre></td></tr></table></figure>

<p> The <code>--force</code> option stops a running container, so it can be removed. If you stop the container running with <code>docker stop bb</code> first, then you do not need to use <code>--force</code> to remove it.</p>
</li>
</ol>
<p>At this point, you’ve successfully <strong>built an <code>image</code></strong>, <strong>performed a simple containerization of an application using that <code>image</code></strong>, and confirmed that your app runs successfully in its container.</p>
<h2 id="Quickstart-for-Sharing-Images-on-Docker-Hub"><a href="#Quickstart-for-Sharing-Images-on-Docker-Hub" class="headerlink" title="Quickstart for Sharing Images on Docker Hub"></a>Quickstart for Sharing Images on Docker Hub</h2><p>At this point, <strong>you’ve built a containerized application</strong>. The final step is to <strong>share your images on a <code>registry</code> like Docker Hub</strong>, so they can be easily downloaded and run on any destination machine. (first you need to have a Docker Hub account, if needed help, follow <a href="#https://docs.docker.com/get-started/part3/#set-up-your-docker-hub-account">this guide</a>)</p>
<ol>
<li><p>Once you have an account, you need to create a repository. At this point, you can only <strong>specify a repository name</strong>, for example, <code>bulletin</code>, and click create.</p>
</li>
<li><p>Now you are ready to share your <code>image</code> on Docker Hub, but there’s <strong>one thing you must do first</strong>: images must be <strong>namespaced correctly to share on Docker Hub</strong>. Specifically, you must name images like <code>&lt;Docker ID&gt;/&lt;Repository Name&gt;:&lt;tag&gt;</code>.</p>
<p> For example, if your username is <code>abc</code> and the name of your created repository is <code>bulletin</code>, then you <strong>need to tag your image to be: <code>abc/bulletin:&lt;whateverVersionHere&gt;</code></strong>. This is because, when you push in the next step, Docker will look up specifically at location <code>abc/bulletin</code> in Docker Hub. If you spelled something wrongly, it will not go to the correct location.</p>
</li>
<li><p>Finally, push your <code>image</code> to Docker Hub. For example, like this:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker push abc&#x2F;bulletin:1.0</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>Now that your image is available on Docker Hub, you’ll be able to run it anywhere. By moving images around in this way, you <strong>no longer need to install any dependencies except Docker on the machines</strong> you want to run your software on. The dependencies of containerized applications are completely encapsulated and isolated within your images, which you can share using Docker Hub as described above.</p>
<p>However, there is one thing to keep in mind: at the moment, you’ve only <strong>pushed your <code>image</code></strong> to Docker Hub; <strong>what about your <code>Dockerfile</code></strong>? A crucial best practice is to <strong>keep these in version control (e.g.  using <code>git</code>), perhaps alongside your source code for your application</strong>. You can add a link or note in your Docker Hub repository description indicating where these files can be found, preserving the record not only of how your image was built, but how it’s meant to be run as a full application.</p>
<h2 id="Starting-and-Stopping-Containers"><a href="#Starting-and-Stopping-Containers" class="headerlink" title="Starting and Stopping Containers"></a>Starting and Stopping Containers</h2><ul>
<li><p>To create a new <code>container</code> from an <code>image</code> and start it, use <code>docker run</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run [options] &lt;image&gt; [command] [argument]</span><br></pre></td></tr></table></figure>

<p>  Usually, you would want to specify a name for your container, which means you add the <code>--name</code> option. For example:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run ––name&#x3D;Ubuntu-Test ubuntu:14.04</span><br></pre></td></tr></table></figure>
<p>  where <code>ubuntu:14.04</code> would be the <code>ubuntu</code> image with version/tag <code>14.04</code>. However, if you do not define a name for your newly created container, the <code>deamon</code> will <strong>generate a random string name</strong>, which you can later check with the <code>docker ps</code> command (see the section <a href="#Viewing-and-Removing-Containers">Viewing and Removing Containers</a>)</p>
<p>  However, this would only start a <code>container</code>. If you would like to interact with it, you need to add the <code>–i</code> and <code>–t</code> options to enter the interative mode. For example, to enter the Ubuntu bash in the ubuntu container created in the above example, you could run:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run –it ––name&#x3D;Ubuntu_Test ubuntu:14.04</span><br></pre></td></tr></table></figure>
<p>  Instead of using <code>-i</code> or <code>-t</code> options, use the <code>attach</code> command to connect to a running container as well:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker attach container_id</span><br></pre></td></tr></table></figure>
<p>  (To <strong>exit the container</strong>, you can type <code>EXIT</code>)</p>
</li>
<li><p>To stop a <code>container</code>, you could use the <code>docker stop</code> command:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop [option] &lt;container_id&gt;</span><br></pre></td></tr></table></figure>

<p>  By default, you get a 10 second grace period if you run <code>docker stop</code>. This means that the <code>stop</code> command instructs the <code>container</code> to <strong>stop services after that 10 seconds period</strong>. You can also use the <code>--time</code> option to define a different grace period expressed in seconds, for example:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop --time&#x3D;20 &lt;container_id&gt;</span><br></pre></td></tr></table></figure>

<p>  If you want to immediately kill a docker <code>container</code> without waiting for the grace period to end, use:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker kill [option] &lt;container_id&gt;</span><br></pre></td></tr></table></figure>

<p>  Additionally, a useful command is to <strong>stop (or kill) all running containers</strong>:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop $(docker ps –a –q)</span><br></pre></td></tr></table></figure>
<p>  If you want to <code>kill</code> those <code>container</code>s, just replace the <code>stop</code> with <code>kill</code>.</p>
</li>
</ul>
<h2 id="Viewing-and-Removing-Unwanted-Images"><a href="#Viewing-and-Removing-Unwanted-Images" class="headerlink" title="Viewing and Removing Unwanted Images"></a>Viewing and Removing Unwanted Images</h2><ul>
<li><p>To view the <code>image</code>s, you could use the command:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>
<p>  to provide you with a list of images that you have created. For example, they might look like this:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY                      TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">bulletinboard                   1.0                 2cd431e8ee37        3 hours ago         182MB</span><br><span class="line">mysql                           8.0                 30f937e841c8        4 days ago          541MB</span><br><span class="line">node                            current-slim        8ec3841e41bb        4 days ago          165MB</span><br><span class="line">ubuntu                          latest              1d622ef86b13        4 weeks ago         73.9MB</span><br></pre></td></tr></table></figure></li>
<li><p>To remove an <code>image</code>, you need to specify <strong>both the name and the version</strong> (<code>tag</code>) in the format <code>&lt;name&gt;:&lt;version&gt;</code>. For example, to remove the <code>bulletinboard</code> image, you could do:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker image rm -f bulletinboard:1.0</span><br></pre></td></tr></table></figure>

<p>  However, if it is at the <code>latest</code> version/tag, then you can just specify the name:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker image rm -f ubuntu</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> The <code>-f</code> or <code>--force</code> option is <strong>only necessay when you have the <code>container</code> running</strong>. If it is not running, it can be removed just by specifying <code>docker image rm</code></li>
</ul>
</blockquote>
</li>
</ul>
<p><a name="Viewing-and-Removing-Containers"></a></p>
<h2 id="Viewing-and-Removing-Containers"><a href="#Viewing-and-Removing-Containers" class="headerlink" title="Viewing and Removing Containers"></a>Viewing and Removing Containers</h2><ul>
<li><p>To list all <strong>running containers</strong>, you can use the command:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>
<p>  which, for example, could gives you:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE                       COMMAND                  CREATED             STATUS                             PORTS                 NAMES</span><br><span class="line">a22b3d54d5f4        mysql&#x2F;mysql-server:latest   &quot;&#x2F;entrypoint.sh mysq…&quot;   18 seconds ago      Up 17 seconds (health: starting)   3306&#x2F;tcp, 33060&#x2F;tcp   test-sql-server</span><br></pre></td></tr></table></figure>

<p>  However, if you would like to see also stopped <code>container</code>s, you could use the <code>-a</code> or <code>--all</code> flag:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>

<p>  Some of the other <strong>useful options</strong> include:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>--filter</code> , <code>-f</code></td>
<td>-</td>
<td>Filter output based on conditions provided</td>
</tr>
<tr>
<td><code>--format</code></td>
<td>-</td>
<td>Pretty-print containers using a Go template</td>
</tr>
<tr>
<td><code>--last</code>, <code>-n</code></td>
<td>-1</td>
<td>Show n last created containers (includes all states)</td>
</tr>
<tr>
<td><code>--latest</code> , <code>-l</code></td>
<td>-</td>
<td>Show the latest created container (includes all states)</td>
</tr>
<tr>
<td><code>--no-trunc</code></td>
<td>-</td>
<td>Don’t truncate output</td>
</tr>
<tr>
<td><code>--quiet</code> , <code>-q</code></td>
<td>-</td>
<td>Only display numeric IDs</td>
</tr>
</tbody></table>
<p>  The <code>--filter</code> could be quite useful to select <code>container</code>s you want to see, for example, if you only want to see <code>container</code>s with name having the substring <code>test</code>, you could run:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps --filter &quot;name&#x3D;test&quot;</span><br></pre></td></tr></table></figure>

<p>  For a full list of examples using <code>--format</code>, please refer to the <a href="#https://docs.docker.com/engine/reference/commandline/ps/#filtering">Docker Doc here</a></p>
</li>
<li><p>On the other hand, to remove unwanted <code>container</code>s, you could use the command:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker container rm &lt;container-id&gt;</span><br></pre></td></tr></table></figure>

<p>  where the <code>&lt;container-id&gt;</code> could be seen if you run the <code>docker ps</code> command shown above. If the container is running, you could also force remove it with the <code>--force</code> or <code>-f</code> option.</p>
<p>  For other commands/options related to <code>docker container -rm</code> please refer to the <a href="#https://docs.docker.com/engine/reference/commandline/container_rm/">Docker Doc here</a></p>
</li>
</ul>
<h2 id="Using-MySQL-Server-in-Docker"><a href="#Using-MySQL-Server-in-Docker" class="headerlink" title="Using MySQL Server in Docker"></a>Using MySQL Server in Docker</h2><ol>
<li><p>You need to download the server image (which is not strictly necessary); however, performing this step before you create your Docker container ensures your local image is up to date. To download the MySQL Community Edition image, run this command:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql&#x2F;mysql-server:tag</span><br></pre></td></tr></table></figure>

<p> The <code>tag</code> is the label for the image version you want to pull (for example, <code>5.5</code>, <code>5.6</code>, <code>5.7</code>, <code>8.0</code>, or <code>latest</code>). If <code>:tag</code> is omitted, the <code>latest</code> label is used</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/25/Docker-Manual/" data-id="ckamcbohu000060orfr6dh1u8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Apache-Manual-md" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/22/Apache-Manual-md/" class="article-date">
  <time datetime="2020-05-22T05:40:13.000Z" itemprop="datePublished">2020-05-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/22/Apache-Manual-md/">Apache Maven Manual</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p><strong>IMPORTANT</strong>:<br>Much of the content here is a personal summary/abbrieviation of contents on the <a href="https://maven.apache.org/users/index.html" target="_blank" rel="noopener">Offical Apache Maven Guide</a>. For more complete information, please refer to the offical site.</p>
<hr>
<h2 id="Apache-Maven-Introduction"><a href="#Apache-Maven-Introduction" class="headerlink" title="Apache Maven Introduction"></a>Apache Maven Introduction</h2><ul>
<li><strong>*Q: What is Apache Maven used for? *</strong></li>
</ul>
<p>In a nutshell Maven is an attempt to <strong>apply patterns to a project’s build infrastructure in order to promote comprehension and productivity</strong> by providing a clear path in the use of best practices. Maven is essentially a <strong>project management and comprehension tool</strong> and as such provides a way to help with managing:</p>
<ul>
<li>Builds</li>
<li>Documentation</li>
<li>Reporting</li>
<li>Dependencies</li>
<li>SCMs</li>
<li>Releases</li>
<li>Distribution</li>
</ul>
<p>Maven can provide benefits for your build process by <strong>employing standard conventions and practices</strong> to accelerate your development cycle while at the same time helping you achieve a higher rate of success.</p>
<h2 id="Installing-Maven"><a href="#Installing-Maven" class="headerlink" title="Installing Maven"></a>Installing Maven</h2><p>Please follow <a href="https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html" target="_blank" rel="noopener">Apache Maven Guide</a></p>
<h2 id="Creating-a-Project-QuickStart"><a href="#Creating-a-Project-QuickStart" class="headerlink" title="Creating a Project (QuickStart)"></a>Creating a Project (QuickStart)</h2><p>First you might want to create a workspace folder where all your Maven project resides. Then, you could <strong>navigate to that folder’s directory</strong> and run:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:generate -DgroupId&#x3D;com.mycompany.app -DartifactId&#x3D;my-app -DarchetypeArtifactId&#x3D;maven-archetype-quickstart -DarchetypeVersion&#x3D;1.4 -DinteractiveMode&#x3D;false</span><br></pre></td></tr></table></figure>
<p>where the <code>-DartifactId=my-app</code> would be the new <strong>folder with name <code>my-app</code></strong> under that directory you created.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you have just installed Maven, it may take a while on the first run.</li>
</ul>
</blockquote>
<p>After it completes the setup, you can switch to that folder <code>my-app</code> and look at what’s created by Maven:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd my-app</span><br></pre></td></tr></table></figure>

<p>Under this directory you will notice the following <a href="https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html" target="_blank" rel="noopener">standard project structure</a>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">my-app</span><br><span class="line">|-- pom.xml</span><br><span class="line">&#96;-- src</span><br><span class="line">    |-- main</span><br><span class="line">    |   &#96;-- java</span><br><span class="line">    |       &#96;-- com</span><br><span class="line">    |           &#96;-- mycompany</span><br><span class="line">    |               &#96;-- app</span><br><span class="line">    |                   &#96;-- App.java</span><br><span class="line">    &#96;-- test</span><br><span class="line">        &#96;-- java</span><br><span class="line">            &#96;-- com</span><br><span class="line">                &#96;-- mycompany</span><br><span class="line">                    &#96;-- app</span><br><span class="line">                        &#96;-- AppTest.java</span><br></pre></td></tr></table></figure>

<p>where:</p>
<ul>
<li><code>src/main/java</code> directory contains the <strong>project source code</strong></li>
<li><code>src/test/java</code> directory contains the <strong>test source code</strong></li>
<li><code>pom.xml</code> file is the project’s <strong>Project Object Model</strong>, or POM.</li>
</ul>
<p><a name="Configure-Java-9"></a></p>
<h2 id="Configuring-for-Java-9-or-Later"><a href="#Configuring-for-Java-9-or-Later" class="headerlink" title="Configuring for Java 9 or Later"></a>Configuring for Java 9 or Later</h2><p><strong>By default</strong> your version of Maven might use an old version of the <code>maven-compiler-plugin</code> that is not compatible with Java 9 or later versions. To <strong>target Java 9 or later</strong>, you should at least use version <code>3.6.0</code> of the <code>maven-compiler-plugin</code> and set the <code>maven.compiler.release</code> property to the Java release you are targetting (e.g. 9, 10, 11, 12, etc.).</p>
<p>In the following example, we have configured our Maven project to use version <code>3.8.1</code> of maven-compiler-plugin and target Java 11. You should be able to <strong>edit it in the <code>pom.xml</code> file</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;properties&gt;</span><br><span class="line">    &lt;maven.compiler.release&gt;11&lt;&#x2F;maven.compiler.release&gt;</span><br><span class="line">&lt;&#x2F;properties&gt;</span><br><span class="line"></span><br><span class="line">&lt;build&gt;</span><br><span class="line">    &lt;plugins&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">            &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.8.1&lt;&#x2F;version&gt;</span><br><span class="line">            &lt;configuration&gt;</span><br><span class="line">                &lt;source&gt;13&lt;&#x2F;source&gt;</span><br><span class="line">                &lt;target&gt;13&lt;&#x2F;target&gt;</span><br><span class="line">            &lt;&#x2F;configuration&gt;</span><br><span class="line">        &lt;&#x2F;plugin&gt;</span><br><span class="line">	&lt;&#x2F;plugins&gt;</span><br><span class="line">&lt;&#x2F;build&gt;</span><br></pre></td></tr></table></figure>

<p><a name="Build-the-Project"></a></p>
<h2 id="Build-the-Project"><a href="#Build-the-Project" class="headerlink" title="Build the Project"></a>Build the Project</h2><p>Maven is based around the central concept of a <strong>build lifecycle</strong>, which consists of a number of <strong>phases</strong>. (Each of these build lifecycles is defined by a different list of build phases, wherein a build phase represents a stage in the lifecycle.)</p>
<p>For example, the <strong>default lifecycle comprises of the following phases</strong> (for a complete list of the lifecycle phases, refer to the Lifecycle Reference):</p>
<ul>
<li><code>validate</code> - validate the project is correct and all necessary information is available</li>
<li><code>compile</code> - compile the source code of the project</li>
<li><code>test</code> - test the compiled source code using a suitable unit testing framework. These tests should not require the code be packaged or deployed</li>
<li><code>package</code> - take the compiled code and package it in its distributable format, such as a <code>JAR</code>.</li>
<li><code>integration-test</code>: process and deploy the package if necessary into an environment where integration tests can be run</li>
<li><code>verify</code> - run any checks on results of integration tests to ensure quality criteria are met</li>
<li><code>install</code> - install the package into the local repository, for use as a dependency in other projects locally</li>
<li><code>deploy</code> - done in the build environment, copies the final package to the remote repository for sharing with other developers and projects.</li>
</ul>
<p>At this point, since you haven’t added anthing in the folder, you could directly do</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package</span><br></pre></td></tr></table></figure>
<p>which, for Maven, when a phase is given, it will <strong>execute every phase in the sequence up to and including the one defined</strong>. For example, if we execute the <code>compile</code> phase, the phases that actually get executed are:</p>
<ul>
<li><code>validate</code><ul>
<li>generate-sources</li>
<li>process-sources</li>
<li>generate-resources</li>
<li>process-resources</li>
</ul>
</li>
<li><code>compile</code></li>
</ul>
<p>In the case where we executed <code>mvn package</code>, the command line will print out various actions, and <strong>end with the following</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> ...</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time:  2.953 s</span><br><span class="line">[INFO] Finished at: 2019-11-24T13:05:10+01:00</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Unlike the first command executed (<code>archetype:generate</code>) you may notice the second is simply a single word - <code>package</code>. The difference is that the <strong>first one is a goal</strong> (i.e. the prefix <code>archetype</code> is the <strong>plugin</strong> that provides the goal <code>archetype:generate</code>. Maven is - at its heart - a plugin execution framework; all work is done by plugins), where as the <strong>second one is a phase</strong>.</li>
<li><input disabled type="checkbox"> After you run the <code>mvn package</code>, you will see that it created a <strong>new folder <code>target</code></strong>, in which there will be a <strong>packaged <code>JAR</code> file that is the snap-shot of the project</strong> (in this case, MAVEN starts with a <code>Hello World</code> java file)</li>
</ul>
</blockquote>
<p>Now, since you see that in the standard lifecycle, <code>package</code> already included <code>compile</code> phase, it means we could test the newly compiled and packaged <code>JAR</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -cp target&#x2F;my-app-1.0-SNAPSHOT.jar com.mycompany.app.App</span><br></pre></td></tr></table></figure>

<p>where</p>
<ul>
<li><code>-cp</code>, or <strong>CLASSPATH</strong> (where the JVM will look for the <strong>.class</strong> file. In this case, the file is packaged in the <strong>my-app-1.0-SNAPSHOT.jar</strong>), is used as an option to the Java command that specifies the <strong>location of classes and packages which are defined by the user</strong>, for example, a list of directories, <strong>JAR archives and ZIP archives</strong> to search for class files.</li>
<li><code>com.mycompany.app.App</code> is the java file that is created by MAVEN and packaged into <code>target/my-app-1.0-SNAPSHOT.jar</code></li>
</ul>
<h2 id="Running-Maven-Tools"><a href="#Running-Maven-Tools" class="headerlink" title="Running Maven Tools"></a>Running Maven Tools</h2><p>Although hardly a comprehensive list, these are the <strong>most common default lifecycle phases</strong> executed, also shown in the section <a href="#Build-the-Project">Build the Project</a></p>
<ul>
<li><code>validate</code></li>
<li><code>compile</code></li>
<li><code>test</code></li>
<li><code>package</code></li>
<li><code>integration-test</code></li>
<li><code>verify</code></li>
<li><code>install</code></li>
<li><code>deploy</code></li>
</ul>
<p>There are <strong>two other Maven lifecycles of note beyond the default list</strong> above. They are:</p>
<ul>
<li><code>clean</code>: cleans up artifacts created by prior builds</li>
<li><code>site</code>: generates site documentation for this project</li>
</ul>
<p><strong>Phases are actually mapped to underlying goals</strong> (A build <strong>phase is made up of a set of goals</strong>. Maven <strong>goals represent a specific task that contributes to the building and managing of a project</strong>). The specific goals executed per phase is dependent upon the packaging type of the project. For example, package executes <code>jar:jar</code> if the project type is a JAR, and <code>war:war</code> if the project type is - you guessed it - a WAR.</p>
<p>An interesting thing to note is that <strong>phases and goals may be executed in sequence</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean dependency:copy-dependencies package</span><br></pre></td></tr></table></figure>

<p>This command will clean the project, copy dependencies, and package the project (<strong>executing all phases up to <code>package</code>, of course</strong>).</p>
<h2 id="Generating-a-Site"><a href="#Generating-a-Site" class="headerlink" title="Generating a Site"></a>Generating a Site</h2><p>This site will contain information about your project, organized by MAVEN:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn site</span><br></pre></td></tr></table></figure>
<p>This phase <strong>generates a site based upon information on the project’s <code>pom</code></strong>. You can look at the documentation generated under <code>target/site</code>.</p>
<h2 id="Creating-a-Project"><a href="#Creating-a-Project" class="headerlink" title="Creating a Project"></a>Creating a Project</h2><p>Different from the <code>quickstart</code> you could use, you could also create a standard project by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mvn -B archetype:generate \</span><br><span class="line">  -DarchetypeGroupId&#x3D;org.apache.maven.archetypes \</span><br><span class="line">  -DgroupId&#x3D;com.mycompany.app \</span><br><span class="line">  -DartifactId&#x3D;&lt;yourProjectName&gt;</span><br></pre></td></tr></table></figure>
<p>Then, in the directory you created, you could look at the <code>POM</code> file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span><br><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;my-app&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;packaging&gt;jar&lt;&#x2F;packaging&gt;</span><br><span class="line">  &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;name&gt;Maven Quick Start Archetype&lt;&#x2F;name&gt;</span><br><span class="line">  &lt;url&gt;http:&#x2F;&#x2F;maven.apache.org&lt;&#x2F;url&gt;</span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;4.11&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;scope&gt;test&lt;&#x2F;scope&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>The <code>POM</code> is the basic unit of work in Maven. This is important to remember because Maven is inherently <strong>project-centric</strong> in that everything revolves around the notion of a project. In short, the <strong><code>POM</code> contains every important piece of information about your project and is essentially one-stop-shopping for finding anything related to your project</strong>. </p>
<p>This is a very simple POM but still displays the key elements every POM contains, so let’s walk through each of them to familiarize you with the <strong>POM essentials</strong>:</p>
<ul>
<li><strong>project</strong> This is the top-level element in all Maven <code>pom.xml</code> files.</li>
<li><strong>modelVersion</strong> This element indicates what <strong>version of the object model this POM is using</strong>. The version of the model itself changes very infrequently but it is mandatory in order to ensure stability of use if and when the Maven developers deem it necessary to change the model.</li>
<li><strong>groupId</strong> This element indicates the unique <strong>identifier of the organization or group that created the project</strong>. The groupId is one of the key identifiers of a project and is typically based on the <strong>fully qualified domain name of your organization</strong>. For example <code>org.apache.maven.plugins</code> is the designated groupId for all Maven plugins.</li>
<li><strong>artifactId</strong> This element indicates the unique base name of the primary artifact being generated by this project. <strong>The primary artifact for a project is typically a JAR file</strong>. Secondary artifacts like source bundles also use the artifactId as part of their final name. A typical artifact produced by Maven would have the form <code>&lt;artifactId&gt;-&lt;version&gt;.&lt;extension&gt;</code> (<strong>for example, <code>my-app-1.0.jar</code></strong>).</li>
<li><strong>packaging</strong> This element indicates the <strong>package type to be used by this artifact</strong> (e.g. <code>JAR</code>, <code>WAR</code>, <code>EAR</code>, etc.). This not only means if the artifact produced is JAR, WAR, or EAR but can also <strong>indicate a specific lifecycle to use as part of the build process</strong>. (The lifecycle is a topic we will deal with further on in the guide. For now, just keep in mind that the indicated packaging of a project can play a part in customizing the build lifecycle.) The <strong>default value for the packaging element is <code>JAR</code></strong> so you do not have to specify this for most projects.</li>
<li><strong>version</strong> This element indicates the <strong>version of the artifact (your end product) generated by the project</strong>. Maven goes a long way to help you with version management and you will often see the SNAPSHOT designator in a version, which indicates that a project is in a state of development. We will discuss the use of snapshots and how they work further on in this guide.</li>
<li><strong>name</strong> This element indicates the <strong>display name used for the project (by default it will be the same name as artifactId)</strong>. This is often used in Maven’s generated documentation.</li>
<li><strong>url</strong> This element indicates where the <strong>project’s site can be found</strong>. This is often used in Maven’s generated documentation.</li>
<li><strong>description</strong> This element provides a <strong>basic description of your project</strong>. This is often used in Maven’s generated documentation.</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> The value of the <code>version</code> tag in the pom.xml file shown below has the suffix: <code>-SNAPSHOT</code>. The SNAPSHOT value refers to the <strong>‘latest’ code along a <code>development</code> branch</strong>, and provides <strong>no guarantee the code is stable or unchanging</strong>. Conversely, the code in a <code>&#39;release&#39;</code> version (any version value without the suffix SNAPSHOT) is unchanging. In other words, a SNAPSHOT version is the ‘development’ version before the final ‘release’ version. The SNAPSHOT is “older” than its release.</li>
</ul>
</blockquote>
<p>For more complete understanding of a <strong>POM</strong> visit <a href="https://maven.apache.org/guides/introduction/introduction-to-the-pom.html" target="_blank" rel="noopener">Apache Maven POM Guide</a></p>
<p>After the archetype generation of your first project you will also notice the <strong>same source tree structure you had above in the quickstart project created</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">my-app</span><br><span class="line">|-- pom.xml</span><br><span class="line">&#96;-- src</span><br><span class="line">    |-- main</span><br><span class="line">    |   &#96;-- java</span><br><span class="line">    |       &#96;-- com</span><br><span class="line">    |           &#96;-- mycompany</span><br><span class="line">    |               &#96;-- app</span><br><span class="line">    |                   &#96;-- App.java</span><br><span class="line">    &#96;-- test</span><br><span class="line">        &#96;-- java</span><br><span class="line">            &#96;-- com</span><br><span class="line">                &#96;-- mycompany</span><br><span class="line">                    &#96;-- app</span><br><span class="line">                        &#96;-- AppTest.java</span><br></pre></td></tr></table></figure>

<h2 id="Compiling-Project-Source-Code"><a href="#Compiling-Project-Source-Code" class="headerlink" title="Compiling Project Source Code"></a>Compiling Project Source Code</h2><p>Change to the directory where <code>pom.xml</code> is created by <code>archetype:generate</code> (this will be the default directory we are using for MAVEN commands) and execute the following command to compile your application sources:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn compile</span><br></pre></td></tr></table></figure>

<p>Upon executing this command you should see output like the following:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[INFO] ----------------------------------------------------------------------------</span><br><span class="line">[INFO] Building Maven Quick Start Archetype</span><br><span class="line">[INFO]    task-segment: [compile]</span><br><span class="line">[INFO] ----------------------------------------------------------------------------</span><br><span class="line">[INFO] artifact org.apache.maven.plugins:maven-resources-plugin: \</span><br><span class="line">  checking for updates from central</span><br><span class="line">...</span><br><span class="line">[INFO] artifact org.apache.maven.plugins:maven-compiler-plugin: \</span><br><span class="line">  checking for updates from central</span><br><span class="line">...</span><br><span class="line">[INFO] [resources:resources]</span><br><span class="line">...</span><br><span class="line">[INFO] [compiler:compile]</span><br><span class="line">Compiling 1 source file to &lt;dir&gt;&#x2F;my-app&#x2F;target&#x2F;classes</span><br><span class="line">[INFO] ----------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESSFUL</span><br><span class="line">[INFO] ----------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time: 3 minutes 54 seconds</span><br><span class="line">[INFO] Finished at: Fri Sep 23 15:48:34 GMT-05:00 2005</span><br><span class="line">[INFO] Final Memory: 2M&#x2F;6M</span><br><span class="line">[INFO] ----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>The <strong>first time you execute</strong> this (or any other) command, Maven will need to download all the plugins and related dependencies it needs to fulfill the command. This can take quite a while. If you execute the command again, Maven will now have what it needs, so it won’t need to download anything new and will be able to execute the command much more quickly.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you ran into error running this command, it might be cause because the code is not for the default compiler used by MAVEN. You can specify it similarly in the section [Configuing for Java 9 or Later](#<br>re-Java-9), by adding those before the root element ends:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt; </span><br><span class="line">... </span><br><span class="line">&lt;&#x2F;dependencies&gt; </span><br><span class="line">&lt;build&gt; </span><br><span class="line">&lt;plugins&gt; </span><br><span class="line">	&lt;plugin&gt;</span><br><span class="line">		&lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt; </span><br><span class="line">		&lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt; </span><br><span class="line">		&lt;version&gt;3.8.1&lt;&#x2F;version&gt; </span><br><span class="line">		&lt;configuration&gt; </span><br><span class="line">			&lt;source&gt;13&lt;&#x2F;source&gt; </span><br><span class="line">			&lt;target&gt;13&lt;&#x2F;target&gt; </span><br><span class="line">		&lt;&#x2F;configuration&gt; </span><br><span class="line">	&lt;&#x2F;plugin&gt; </span><br><span class="line">&lt;&#x2F;plugins&gt; </span><br><span class="line">&lt;&#x2F;build&gt; </span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<p>As you can see from the output, the <strong>compiled classes were placed in <code>${basedir}/target/classes</code></strong>, which is another standard convention employed by Maven. </p>
<h2 id="Testing-Project-Source-Code"><a href="#Testing-Project-Source-Code" class="headerlink" title="Testing Project Source Code"></a>Testing Project Source Code</h2><p>Now you’re successfully compiling your application’s sources and now you’ve got some unit tests that you want to <strong>compile and execute</strong> (because every programmer always writes and executes their unit tests <em>nudge nudge wink wink</em>).</p>
<p>Execute the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn test</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Maven downloads more dependencies this time. These are the dependencies and plugins <strong>necessary for executing the tests</strong> (it already has the dependencies it needs for compiling and won’t download them again).</li>
<li><input disabled type="checkbox"> <strong>Before compiling and executing the tests</strong> Maven <strong>compiles the main code</strong> (in case there are some changes. In this case all these classes are up to date because we haven’t changed anything since we compiled last).</li>
</ul>
</blockquote>
<p>If you simply want to compile your test sources (but not execute the tests), you can execute the following:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn test-compile</span><br></pre></td></tr></table></figure>

<h2 id="Packaging-into-a-Jar-File"><a href="#Packaging-into-a-Jar-File" class="headerlink" title="Packaging into a Jar File"></a>Packaging into a Jar File</h2><p>Making a JAR file is straight forward enough and can be accomplished by executing the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package</span><br></pre></td></tr></table></figure>

<p>If you take a look at the <code>POM</code> for your project you will notice the packaging element is set to <code>jar</code>. This is <strong>how Maven knows to produce a <code>JAR</code> file from the above command</strong>.</p>
<p>The generated file will be in <code>${basedir}/target directory</code> and you will see the generated <code>JAR</code> file there as well.</p>
<p><a name="Installing-into-Local"></a></p>
<h2 id="Installing-into-Local-Repository"><a href="#Installing-into-Local-Repository" class="headerlink" title="Installing into Local Repository"></a>Installing into Local Repository</h2><p>If you want to install the artifact you’ve generated (the JAR file) in your local repository (<code>${user.home}/.m2/repository</code>; for Windows,<code>C:\Users\&lt;Username&gt;\.m2\repository</code> is the default location). For more information on repositories you can refer to <a href="#https://maven.apache.org/guides/introduction/introduction-to-repositories.html">Apache Maven Introduction to Repositories</a> but let’s move on to installing our artifact! To do so execute the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn install</span><br></pre></td></tr></table></figure>

<p>Upon executing this command you should see the following output:</p>
<p>Upon executing this command you should see the following output:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[INFO] ----------------------------------------------------------------------------</span><br><span class="line">[INFO] Building Maven Quick Start Archetype</span><br><span class="line">[INFO]    task-segment: [install]</span><br><span class="line">[INFO] ----------------------------------------------------------------------------</span><br><span class="line">[INFO] [resources:resources]</span><br><span class="line">[INFO] [compiler:compile]</span><br><span class="line">Compiling 1 source file to &lt;dir&gt;&#x2F;my-app&#x2F;target&#x2F;classes</span><br><span class="line">[INFO] [resources:testResources]</span><br><span class="line">[INFO] [compiler:testCompile]</span><br><span class="line">Compiling 1 source file to &lt;dir&gt;&#x2F;my-app&#x2F;target&#x2F;test-classes</span><br><span class="line">[INFO] [surefire:test]</span><br><span class="line">[INFO] Setting reports dir: &lt;dir&gt;&#x2F;my-app&#x2F;target&#x2F;surefire-reports</span><br><span class="line"> </span><br><span class="line">-------------------------------------------------------</span><br><span class="line"> T E S T S</span><br><span class="line">-------------------------------------------------------</span><br><span class="line">[surefire] Running com.mycompany.app.AppTest</span><br><span class="line">[surefire] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.001 sec</span><br><span class="line"> </span><br><span class="line">Results :</span><br><span class="line">[surefire] Tests run: 1, Failures: 0, Errors: 0</span><br><span class="line"> </span><br><span class="line">[INFO] [jar:jar]</span><br><span class="line">[INFO] Building jar: &lt;dir&gt;&#x2F;my-app&#x2F;target&#x2F;my-app-1.0-SNAPSHOT.jar</span><br><span class="line">[INFO] [install:install]</span><br><span class="line">[INFO] Installing &lt;dir&gt;&#x2F;my-app&#x2F;target&#x2F;my-app-1.0-SNAPSHOT.jar to \</span><br><span class="line">   &lt;local-repository&gt;&#x2F;com&#x2F;mycompany&#x2F;app&#x2F;my-app&#x2F;1.0-SNAPSHOT&#x2F;my-app-1.0-SNAPSHOT.jar</span><br><span class="line">[INFO] ----------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESSFUL</span><br><span class="line">[INFO] ----------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time: 5 seconds</span><br><span class="line">[INFO] Finished at: Tue Oct 04 13:20:32 GMT-05:00 2005</span><br><span class="line">[INFO] Final Memory: 3M&#x2F;8M</span><br><span class="line">[INFO] ----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>Note that the <code>surefire</code> plugin (which executes the test) <strong>looks for tests contained in files with a particular naming convention</strong>. By default the tests included are:</p>
<ul>
<li><code>**/*Test.java</code></li>
<li><code>**/Test*.java</code></li>
<li><code>**/*TestCase.java</code></li>
</ul>
<p>And in the end you can find your files in <code>C:\Users\&lt;Username&gt;\.m2\repository\com\mycompany\app\</code> (for Windows)</p>
<h2 id="Other-Useful-Phases-in-Maven"><a href="#Other-Useful-Phases-in-Maven" class="headerlink" title="Other Useful Phases in Maven"></a>Other Useful Phases in Maven</h2><p>One of the highly prized features of Maven is: without any work on your part this POM has enough information to <strong>generate a web site for your project</strong>! You will most likely want to customize your Maven site but if you’re pressed for time all you need to do to provide basic information about your project is execute the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn site</span><br></pre></td></tr></table></figure>

<p>There are plenty of other standalone goals that can be executed as well (again only with this <code>POM</code> file), for example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean</span><br></pre></td></tr></table></figure>

<p>This will <strong>remove the target directory with all the build data before starting so that it is fresh</strong>.</p>
<h2 id="Using-Plugins-in-Maven"><a href="#Using-Plugins-in-Maven" class="headerlink" title="Using Plugins in Maven"></a>Using Plugins in Maven</h2><p>Whenever you want to <strong>customise the build</strong> for a Maven project, this is <strong>done by adding or reconfiguring plugins</strong>.</p>
<p>For this example, we will <strong>configure the Java compiler</strong> to allow JDK 5.0 sources (we have in fact done this already when we configure for Java 9.0 or later). This is as simple as <strong>adding this to your <code>POM</code></strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">&lt;build&gt;</span><br><span class="line">  &lt;plugins&gt;</span><br><span class="line">    &lt;plugin&gt;</span><br><span class="line">      &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;maven-compiler-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;3.3&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;configuration&gt;</span><br><span class="line">        &lt;source&gt;1.5&lt;&#x2F;source&gt;</span><br><span class="line">        &lt;target&gt;1.5&lt;&#x2F;target&gt;</span><br><span class="line">      &lt;&#x2F;configuration&gt;</span><br><span class="line">    &lt;&#x2F;plugin&gt;</span><br><span class="line">  &lt;&#x2F;plugins&gt;</span><br><span class="line">&lt;&#x2F;build&gt;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>You’ll notice that all plugins in Maven look much like a dependency - and in some ways they are. This <strong>plugin will be automatically downloaded and used - including a specific version if you request it</strong> (the default is to use the latest available).</p>
<p>To find out <strong>what configuration is available</strong> for a plugin, you can see the <a href="https://maven.apache.org/plugins/" target="_blank" rel="noopener">Apache Maven Plugins List</a> and navigate to the plugin and goal you are using. For general information about how to configure the available parameters of a plugin, have a look at the <a href="https://maven.apache.org/guides/mini/guide-configuring-plugins.html" target="_blank" rel="noopener">Apache Maven Guide to Configuring Plugins</a>.</p>
<h2 id="Adding-Files-Resources-to-My-Jar"><a href="#Adding-Files-Resources-to-My-Jar" class="headerlink" title="Adding Files/Resources to My Jar"></a>Adding Files/Resources to My Jar</h2><p>Another common use case that can be satisfied which requires <strong>no changes to the POM</strong> that we have above is packaging resources in the JAR file. For this common task, Maven again relies on the <strong>Standard Directory Layout</strong>.</p>
<p>You see below in our example we have <strong>added the directory <code>${basedir}/src/main/resources</code></strong> into which we place <strong>any resources/files we wish to package in our JAR</strong>. The simple rule employed by Maven is this: <strong>any directories or files placed within the <code>${basedir}/src/main/resources</code> directory are packaged in your JAR with the exact same structure starting at the base of the JAR</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">my-app</span><br><span class="line">|-- pom.xml</span><br><span class="line">&#96;-- src</span><br><span class="line">    |-- main</span><br><span class="line">    |   |-- java</span><br><span class="line">    |   |   &#96;-- com</span><br><span class="line">    |   |       &#96;-- mycompany</span><br><span class="line">    |   |           &#96;-- app</span><br><span class="line">    |   |               &#96;-- App.java</span><br><span class="line">    |   &#96;-- resources</span><br><span class="line">    |       &#96;-- META-INF</span><br><span class="line">    |           &#96;-- application.properties</span><br><span class="line">    &#96;-- test</span><br><span class="line">        &#96;-- java</span><br><span class="line">            &#96;-- com</span><br><span class="line">                &#96;-- mycompany</span><br><span class="line">                    &#96;-- app</span><br><span class="line">                        &#96;-- AppTest.java</span><br></pre></td></tr></table></figure>
<p>Generates:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">|-- META-INF</span><br><span class="line">|   |-- MANIFEST.MF</span><br><span class="line">|   |-- application.properties</span><br><span class="line">|   &#96;-- maven</span><br><span class="line">|       &#96;-- com.mycompany.app</span><br><span class="line">|           &#96;-- my-app</span><br><span class="line">|               |-- pom.properties</span><br><span class="line">|               &#96;-- pom.xml</span><br><span class="line">&#96;-- com</span><br><span class="line">    &#96;-- mycompany</span><br><span class="line">        &#96;-- app</span><br><span class="line">            &#96;-- App.class</span><br></pre></td></tr></table></figure>
<p>But if you had a customized:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">my-app</span><br><span class="line">|-- pom.xml</span><br><span class="line">&#96;-- src</span><br><span class="line">    |-- main</span><br><span class="line">    |   |-- java</span><br><span class="line">    |   |   &#96;-- com</span><br><span class="line">    |   |       &#96;-- mycompany</span><br><span class="line">    |   |           &#96;-- app</span><br><span class="line">    |   |               &#96;-- App.java</span><br><span class="line">    |   &#96;-- resources</span><br><span class="line">    |       &#96;-- testFolder</span><br><span class="line">    |           &#96;-- test.java</span><br><span class="line">    &#96;-- test</span><br><span class="line">        &#96;-- java</span><br><span class="line">            &#96;-- com</span><br><span class="line">                &#96;-- mycompany</span><br><span class="line">                    &#96;-- app</span><br><span class="line">                        &#96;-- AppTest.java</span><br></pre></td></tr></table></figure>
<p>Generates:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">|-- META-INF</span><br><span class="line">|   |-- MANIFEST.MF</span><br><span class="line">|   &#96;-- maven</span><br><span class="line">|       &#96;-- com.mycompany.app</span><br><span class="line">|           &#96;-- my-app</span><br><span class="line">|               |-- pom.properties</span><br><span class="line">|               &#96;-- pom.xml</span><br><span class="line">|-- testFolder</span><br><span class="line">|   &#96;-- test.class</span><br><span class="line">|</span><br><span class="line">&#96;-- com</span><br><span class="line">    &#96;-- mycompany</span><br><span class="line">        &#96;-- app</span><br><span class="line">            &#96;-- App.class</span><br></pre></td></tr></table></figure>

<p>You see other files there like <code>META-INF/MANIFEST.MF</code> as well as a <code>pom.xml</code> and <code>pom.properties</code> file generated as well. These <strong>come standard with generation of a <code>JAR</code> in Maven</strong>. You can create your own manifest if you choose, but Maven will generate one by default if you don’t. The <code>pom.xml</code> and <code>pom.properties</code> files are packaged up in the JAR <strong>so that each artifact produced by Maven is self-describing and also allows you to utilize the metadata in your own application if the need arises</strong>. One simple use might be to retrieve the version of your application.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> To add resources to the <code>classpath</code> <strong>for your unit tests</strong>, you follow the <strong>same pattern as you do for adding resources to the JAR except the directory you place resources in is <code>${basedir}/src/test/resources</code></strong>.</li>
</ul>
</blockquote>
<h2 id="Resource-Filtering-in-Maven"><a href="#Resource-Filtering-in-Maven" class="headerlink" title="Resource Filtering in Maven"></a>Resource Filtering in Maven</h2><p>This is useful if sometimes a resource file will need to contain a value that can only be <strong>supplied at build time</strong>. Then, you can use Maven to perform <strong>variable replacement</strong> on project resources. When <strong>resource filtering is activated</strong>, Maven will scan <code>resources</code> for <strong>property references surrounded by <code>${&lt;property name&gt;}</code></strong>. When it finds these references it will <strong>replace them with the appropriate value</strong>.</p>
<p>To enable resource filtering, you need to <strong>set <code>filtering</code> to <code>true</code> in your <code>pom.xml</code></strong>, and <strong>add the directory <code>src/main/resources</code> which is the default location MAVEN will look into when it compiles</strong> (since we overwrote the value to <code>true</code>, this has to be re-written again):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span><br><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;my-app&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;packaging&gt;jar&lt;&#x2F;packaging&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;name&gt;Maven Quick Start Archetype&lt;&#x2F;name&gt;</span><br><span class="line">  &lt;url&gt;http:&#x2F;&#x2F;maven.apache.org&lt;&#x2F;url&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;4.11&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;scope&gt;test&lt;&#x2F;scope&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;build&gt;</span><br><span class="line">    &lt;resources&gt;</span><br><span class="line">      &lt;resource&gt;</span><br><span class="line">        &lt;directory&gt;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;</span><br><span class="line">        &lt;filtering&gt;true&lt;&#x2F;filtering&gt;</span><br><span class="line">      &lt;&#x2F;resource&gt;</span><br><span class="line">    &lt;&#x2F;resources&gt;</span><br><span class="line">  &lt;&#x2F;build&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<p>Now, to <strong>reference a property defined in your pom.xml</strong>, the property name uses the names of the XML elements that define the value, with “pom” being allowed as an alias for the project (root) element. So <code>${project.name}</code> refers to the name of the project, <code>${project.version}</code> refers to the version of the project, <code>${project.build.finalName}</code> refers to the final name of the file created when the built project is packaged, etc. </p>
<p>Similarly, values in the user’s <code>settings.xml</code> can be referenced using property names beginning with “settings” (for example, <code>{settings.localRepository}</code> refers to the path of the user’s local repository).</p>
<p>For example, let’s add a couple of properties to the <code>application.properties</code> file (which we put in the <code>src/main/resources</code> directory) whose <strong>values will be supplied when the resource is filtered</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># application.properties</span><br><span class="line">application.name&#x3D;$&#123;project.name&#125;</span><br><span class="line">application.version&#x3D;$&#123;project.version&#125;</span><br></pre></td></tr></table></figure>

<p>With that in place, you can execute the following command (process-resources is the build lifecycle phase where the resources are copied and filtered):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn process-resources</span><br></pre></td></tr></table></figure>

<p>and the <code>application.properties</code> file under <code>target/classes</code> (and will eventually go into the jar) looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># application.properties</span><br><span class="line">application.name&#x3D;Maven Quick Start Archetype</span><br><span class="line">application.version&#x3D;1.0-SNAPSHOT</span><br></pre></td></tr></table></figure>

<p>With that in place, you can execute the following command (process-resources is the build lifecycle <strong>phase where the resources are copied and filtered</strong>):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn process-resources</span><br></pre></td></tr></table></figure>

<p>and the <code>application.properties</code> file under <code>target/classes/META-INF</code> (and will eventually go into the jar) looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># application.properties</span><br><span class="line">application.name&#x3D;my-app</span><br><span class="line">application.version&#x3D;1.0-SNAPSHOT</span><br></pre></td></tr></table></figure>

<h2 id="Filtering-External-Files"><a href="#Filtering-External-Files" class="headerlink" title="Filtering External Files"></a>Filtering External Files</h2><p>To reference a property defined in an external file, all you need to do is <strong>add a reference to this external file in your <code>pom.xml</code></strong>.</p>
<p>First, let’s create our external properties file and call it <code>src/main/filters/filter.properties</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># filter.properties</span><br><span class="line">my.filter.value&#x3D;hello!</span><br></pre></td></tr></table></figure>

<p>Next, we’ll <strong>add a reference to this new file in the <code>pom.xml</code></strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span><br><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;my-app&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;packaging&gt;jar&lt;&#x2F;packaging&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;name&gt;Maven Quick Start Archetype&lt;&#x2F;name&gt;</span><br><span class="line">  &lt;url&gt;http:&#x2F;&#x2F;maven.apache.org&lt;&#x2F;url&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;4.11&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;scope&gt;test&lt;&#x2F;scope&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;build&gt;</span><br><span class="line">    &lt;filters&gt;</span><br><span class="line">      &lt;filter&gt;src&#x2F;main&#x2F;filters&#x2F;filter.properties&lt;&#x2F;filter&gt;</span><br><span class="line">    &lt;&#x2F;filters&gt;</span><br><span class="line">    &lt;resources&gt;</span><br><span class="line">      &lt;resource&gt;</span><br><span class="line">        &lt;directory&gt;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;</span><br><span class="line">        &lt;filtering&gt;true&lt;&#x2F;filtering&gt;</span><br><span class="line">      &lt;&#x2F;resource&gt;</span><br><span class="line">    &lt;&#x2F;resources&gt;</span><br><span class="line">  &lt;&#x2F;build&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<p>Then, if we add a reference to this property in the <code>application.properties</code> file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># application.properties</span><br><span class="line">application.name&#x3D;$&#123;project.name&#125;</span><br><span class="line">application.version&#x3D;$&#123;project.version&#125;</span><br><span class="line">message&#x3D;$&#123;my.filter.value&#125;</span><br></pre></td></tr></table></figure>

<p>the next execution of the <code>mvn process-resources</code> command will put our new property value into <code>application.properties</code>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> The file <code>filter.property</code> created in the <code>src/main/filters</code> will <strong>not get outputted by MAVEN to the <code>target</code> folder</strong>. This is because, it is <strong>not in the default location tree that MAVEN knows</strong>, so MAVEN will <strong>not compile</strong> it and include in your project.</li>
</ul>
</blockquote>
<p><a name="Using-External-Dependency"></a></p>
<h2 id="Using-External-Dependency"><a href="#Using-External-Dependency" class="headerlink" title="Using External Dependency"></a>Using External Dependency</h2><p>You have, in fact, been using an external dependency all this time, but here we’ll talk about how this works in a bit more detail. For a more thorough introduction, please refer to our Introduction to <a href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html" target="_blank" rel="noopener">Apache Maven Dependency Mechanism</a>.</p>
<p>The dependencies section of the <code>pom.xml</code> lists <strong>all of the external dependencies that our project needs in order to build (whether it needs that dependency at compile time, test time, run time, or whatever)</strong>. Right now, our project is depending on <code>JUnit</code> only (I took out all of the resource filtering stuff for clarity):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span><br><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;my-app&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;packaging&gt;jar&lt;&#x2F;packaging&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;name&gt;Maven Quick Start Archetype&lt;&#x2F;name&gt;</span><br><span class="line">  &lt;url&gt;http:&#x2F;&#x2F;maven.apache.org&lt;&#x2F;url&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;junit&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;junit&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;4.11&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;scope&gt;test&lt;&#x2F;scope&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<p>For each external dependency, you’ll need to <strong>define at least 4 things: <code>groupId</code>, <code>artifactId</code>, <code>version</code>, and <code>scope</code></strong>. </p>
<ul>
<li>The <code>groupId</code>, <code>artifactId</code>, and <code>versio</code>n are the same as those given in the <strong><code>pom.xml</code> of the project that built that dependency</strong>. </li>
<li>The <code>scope</code> element indicates <strong>how your project uses that dependency</strong>, and can be values like <code>compile</code>, <code>test</code>, and <code>runtime</code>.</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Where does Maven reference the dependency from? Maven <strong>looks in your local repository</strong> (<code>${user.home}/.m2/repository</code> is the <strong>default location) to find all dependencies</strong>.</li>
</ul>
</blockquote>
<p>This means that we could use code/projects made by others!</p>
<p>For example:</p>
<p>In a <a href="#Installing-into-Local">previous section</a>, we installed the artifact from our project (<code>my-app-1.0-SNAPSHOT.jar</code>) into the local repository. Once it’s installed there, another project can reference that jar as a dependency simply by <strong>adding the dependency information to its <code>pom.xml</code></strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span><br><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;my-other-app&lt;&#x2F;artifactId&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    ...</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;my-app&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;scope&gt;compile&lt;&#x2F;scope&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If a <strong>remote repo is needed</strong>, you could use the mirror in MAVEN to setup the dependency correctly. By default, the remote repository Maven uses can be found (and browsed) at <a href="https://repo.maven.apache.org/maven2/" target="_blank" rel="noopener">https://repo.maven.apache.org/maven2/</a>. You can also set up your own remote repository (maybe a central repository for your company) to use instead of or in addition to the default remote repository. For more information on repositories you can refer to the <a href="https://maven.apache.org/guides/introduction/introduction-to-repositories.html" target="_blank" rel="noopener">Apache Maven Introduction to Repositories</a>. </li>
</ul>
</blockquote>
<p>Now, when we compile the project (<code>mvn compile</code>), we’ll see Maven download the <code>my-app</code> dependency for us.</p>
<h2 id="Deploying-Jar-into-a-Remote-Repository"><a href="#Deploying-Jar-into-a-Remote-Repository" class="headerlink" title="Deploying Jar into a Remote Repository"></a>Deploying Jar into a Remote Repository</h2><p>For deploying jars to an external repository, you have to <strong>configure the repository <code>url</code> in the <code>pom.xml</code></strong> and the <strong>authentication information for connectiong to the repository in the <code>settings.xml</code></strong>.</p>
<p>There are <strong>two locations where a <code>settings.xml</code> file may live</strong>:</p>
<ul>
<li>The Maven install: <code>${maven.home}/conf/settings.xml</code></li>
<li>A user’s install: <code>${user.home}/.m2/settings.xml</code></li>
</ul>
<p>The <strong>former</strong> <code>settings.xml</code> are also called <strong>global settings</strong>, the <strong>latter</strong> <code>settings.xml</code> are referred to as <strong>user settings</strong>. <strong>If both files exists, their contents gets merged, with the user-specific settings.xml being dominant</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> <code>settings.xml</code> is a configuration file that <strong>should not be bundled to any specific project</strong> whereas the <strong><code>pom.xml</code> can be distributed</strong>.</li>
</ul>
</blockquote>
<p>Now, going back to the exmple, we can use scp and username/password authentication:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># pom.xml</span><br><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span><br><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;my-app&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;packaging&gt;jar&lt;&#x2F;packaging&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;name&gt;Maven Quick Start Archetype&lt;&#x2F;name&gt;</span><br><span class="line">  &lt;url&gt;http:&#x2F;&#x2F;maven.apache.org&lt;&#x2F;url&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--</span><br><span class="line">   |</span><br><span class="line">   |</span><br><span class="line">   |</span><br><span class="line">   --&gt;</span><br><span class="line">  &lt;distributionManagement&gt;</span><br><span class="line">    &lt;repository&gt;</span><br><span class="line">      &lt;id&gt;mycompany-repository&lt;&#x2F;id&gt;</span><br><span class="line">      &lt;name&gt;MyCompany Repository&lt;&#x2F;name&gt;</span><br><span class="line">      &lt;url&gt;scp:&#x2F;&#x2F;repository.mycompany.com&#x2F;repository&#x2F;maven2&lt;&#x2F;url&gt;</span><br><span class="line">    &lt;&#x2F;repository&gt;</span><br><span class="line">  &lt;&#x2F;distributionManagement&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<p>and then in <code>settings.xml</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># settings.xml</span><br><span class="line">&lt;settings xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;SETTINGS&#x2F;1.0.0&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;SETTINGS&#x2F;1.0.0</span><br><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;settings-1.0.0.xsd&quot;&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;servers&gt;</span><br><span class="line">    &lt;server&gt;</span><br><span class="line">      &lt;id&gt;mycompany-repository&lt;&#x2F;id&gt;</span><br><span class="line">      &lt;username&gt;jvanzyl&lt;&#x2F;username&gt;</span><br><span class="line">      &lt;!-- Default value is ~&#x2F;.ssh&#x2F;id_dsa --&gt;</span><br><span class="line">      &lt;privateKey&gt;&#x2F;path&#x2F;to&#x2F;identity&lt;&#x2F;privateKey&gt; (default is ~&#x2F;.ssh&#x2F;id_dsa)</span><br><span class="line">      &lt;passphrase&gt;my_key_passphrase&lt;&#x2F;passphrase&gt;</span><br><span class="line">    &lt;&#x2F;server&gt;</span><br><span class="line">  &lt;&#x2F;servers&gt;</span><br><span class="line">  ...</span><br><span class="line">&lt;&#x2F;settings&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you are connecting to an openssh ssh server which has the parameter <code>&quot;PasswordAuthentication&quot;</code> set to <code>&quot;no&quot;</code> in the <code>sshd_confing</code>, you will have to type your password each time for username/password authentication (although you can log in using another ssh client by typing in the username and password). You might want to switch to public key authentication in this case.</li>
</ul>
</blockquote>
<h2 id="Creating-Documentation-with-a-Site"><a href="#Creating-Documentation-with-a-Site" class="headerlink" title="Creating Documentation with a Site"></a>Creating Documentation with a Site</h2><p>To get you jump started with Maven’s documentation system you can use the <code>archetype</code> mechanism to generate a site for your existing project using the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:generate \</span><br><span class="line">  -DarchetypeGroupId&#x3D;org.apache.maven.archetypes \</span><br><span class="line">  -DarchetypeArtifactId&#x3D;maven-archetype-site \</span><br><span class="line">  -DgroupId&#x3D;com.mycompany.app \</span><br><span class="line">  -DartifactId&#x3D;my-app-site</span><br></pre></td></tr></table></figure>
<p>here we used the additional line: <code>-Darchetype ArtifactIds=maven-archetype-site</code>, which is an archetype to generate a sample Maven site.</p>
<p>Now head on over to the <a href="https://maven.apache.org/guides/mini/guide-site.html" target="_blank" rel="noopener">Apache Maven Guide to creating a site</a> to learn how to create the documentation for your project.</p>
<h2 id="Creating-Projects-of-Other-Types"><a href="#Creating-Projects-of-Other-Types" class="headerlink" title="Creating Projects of Other Types"></a>Creating Projects of Other Types</h2><p>For example, back in the base directory we can create a simple <code>web application</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:generate \</span><br><span class="line">    -DarchetypeGroupId&#x3D;org.apache.maven.archetypes \</span><br><span class="line">    -DarchetypeArtifactId&#x3D;maven-archetype-webapp \</span><br><span class="line">    -DgroupId&#x3D;com.mycompany.app \</span><br><span class="line">    -DartifactId&#x3D;my-webapp</span><br></pre></td></tr></table></figure>
<p>Here we used <code>-DarchetypeArtifactId=maven-archetype-webapp</code> to use an archetype to generate a sample Maven Webapp project. (For the available archetypes, see <a href="https://maven.apache.org/guides/introduction/introduction-to-archetypes.html" target="_blank" rel="noopener">https://maven.apache.org/guides/introduction/introduction-to-archetypes.html</a>)</p>
<p><a name="Creating-Multiple-Projects-at-Once"></a></p>
<h2 id="Creating-Multiple-Projects-at-Once"><a href="#Creating-Multiple-Projects-at-Once" class="headerlink" title="Creating Multiple Projects at Once"></a>Creating Multiple Projects at Once</h2><p>The basic idea is as follows:</p>
<ul>
<li>First, you could use Maven to create two (or more) projects. </li>
<li>Then, you need to create a <code>pom.xml</code> file that is <strong>above the two folder</strong></li>
<li>After that, you need to configure that <code>pom.xml</code> file to control the two (or more) project folders<ul>
<li>if you need to add dependencies between the two (or more)  sub-projects, you can also add them in the manner like the section <a href="#Using-External-Dependency">Using External Dependency</a></li>
</ul>
</li>
<li>Finally, configure the <code>parent</code> for the two (or more) sub-projects </li>
</ul>
<p>For example, if you created two projects with name <code>my-app</code> and <code>my-webapp</code>, you should have place your <code>pom.xml</code> above the two folders like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+- pom.xml</span><br><span class="line">+- my-app</span><br><span class="line">| +- pom.xml</span><br><span class="line">| +- src</span><br><span class="line">|   +- main</span><br><span class="line">|     +- java</span><br><span class="line">+- my-webapp</span><br><span class="line">| +- pom.xml</span><br><span class="line">| +- src</span><br><span class="line">|   +- main</span><br><span class="line">|     +- webapp</span><br></pre></td></tr></table></figure>
<p>And in the outer <code>pom.xml</code>, you should have the following information:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span><br><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;app&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;packaging&gt;pom&lt;&#x2F;packaging&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;modules&gt;</span><br><span class="line">    &lt;module&gt;my-app&lt;&#x2F;module&gt;</span><br><span class="line">    &lt;module&gt;my-webapp&lt;&#x2F;module&gt;</span><br><span class="line">  &lt;&#x2F;modules&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<p>where </p>
<ul>
<li><code>&lt;artifactId&gt;app&lt;/artifactId&gt;</code> will be the entire project name which includes your two subprojects.</li>
<li>the two (or more) sub-projects you included will be inside the <code>&lt;modules&gt;&lt;/modules&gt;</code> section</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> The parent <code>POM</code> created (called <code>app</code>), has a <strong><code>packaging</code> of <code>pom</code> and a list of <code>modules</code></strong> defined. This tells Maven to <strong>run all operations over the set of projects</strong> instead of just the current one</li>
</ul>
</blockquote>
<p>Finally, we need the following <code>parent</code> information to the <code>pom.xml</code> of the sub-projects like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span><br><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;parent&gt;</span><br><span class="line">    &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;app&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;&#x2F;parent&gt;</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>
<p>where </p>
<ul>
<li><code>&lt;artifactId&gt;app&lt;/artifactId&gt;</code> would be same as the <code>artifactId</code> in the outer <code>pom.xml</code> file you manually created.</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> The <code>parent</code> definition ensures that the <code>POM</code> can always be located <strong>even if the project is distributed separately from its parent</strong> by <strong>looking it up in the repository</strong>.</li>
</ul>
</blockquote>
<p>Now, if you try to run from the top level, the outer directory where the outer <code>pom.xml</code> reside, the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn verify</span><br></pre></td></tr></table></figure>
<p>Then you will have successfully find both of your projects compiled and packed in their respective <code>target</code> folder.</p>
<h2 id="Build-Lifecycle-Basics"><a href="#Build-Lifecycle-Basics" class="headerlink" title="Build Lifecycle Basics"></a>Build Lifecycle Basics</h2><p>Maven is based around the central concept of a build <strong>lifecycle</strong>. What this means is that the process for building and distributing a particular artifact (project) is clearly defined.</p>
<p>There are three built-in build <strong>lifecycles</strong>: <code>default</code>, <code>clean</code> and <code>site</code>. The <code>default</code> lifecycle handles your project deployment, the <code>clean</code> lifecycle handles project cleaning, while the <code>site</code> lifecycle handles the creation of your project’s site documentation.</p>
<p>Then, you need to understand that a build <strong><code>Lifecycle</code> is made up of <code>Phases</code></strong>, and a <strong><code>Phase</code> is made up of <code>Goals</code></strong>.</p>
<h2 id="Phases-in-a-Build-Lifecycle"><a href="#Phases-in-a-Build-Lifecycle" class="headerlink" title="Phases in a Build Lifecycle"></a>Phases in a Build Lifecycle</h2><p>Each of these build lifecycles is defined by a different list of build phases, wherein a build phase represents a stage in the lifecycle.</p>
<p>For example, the <code>default</code> lifecycle comprises of the following <code>phases</code> (these are not all the phases, only some are picked to illustrate the general concept behind <code>phases</code> and <code>lifecycles</code>):</p>
<ul>
<li><code>validate</code> - validate the project is correct and all necessary information is available</li>
<li><code>compile</code> - compile the source code of the project</li>
<li><code>test</code> - test the compiled source code using a suitable unit testing framework. These tests should not require the code be packaged or deployed</li>
<li><code>package</code> - take the compiled code and package it in its distributable format, such as a JAR.</li>
<li><code>verify</code> - run any checks on results of integration tests to ensure quality criteria are met</li>
<li><code>install</code> - install the package into the local repository, for use as a dependency in other projects locally</li>
<li><code>deploy</code> - done in the build environment, copies the final package to the remote repository for sharing with other developers and projects.</li>
</ul>
<p>Given the <code>default lifecycle</code> phases above, this means that when the <code>default</code> lifecycle is used, Maven will first validate the project, then will try to compile the sources, run those against the tests, package the binaries (e.g. jar), run integration tests against that package, verify the integration tests, install the verified package to the local repository, then deploy the installed package to a remote repository.</p>
<h2 id="Executing-Those-Phases"><a href="#Executing-Those-Phases" class="headerlink" title="Executing Those Phases"></a>Executing Those Phases</h2><p>You should first decide/select the <code>phase</code> that matches your outcome, and then run the command. If you want your <code>jar</code> to be made from your project, run <code>mvn package</code>. If you want to run the unit tests, run <code>mvn test</code>.</p>
<p><strong>If you are uncertain what you want, the preferred phase to call</strong> is:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn verify</span><br></pre></td></tr></table></figure>

<p>This command executes <strong>each <code>default</code> lifecycle <code>phase</code></strong> in order (<code>validate</code>, <code>compile</code>, <code>package</code>, etc.), up to and including, finally, executing <code>verify</code>.</p>
<h2 id="“Special”-Phases"><a href="#“Special”-Phases" class="headerlink" title="“Special” Phases"></a>“Special” Phases</h2><p>The phases named with <strong>hyphenated-words (pre-<em>, post-</em>, or process-*)</strong> are <strong>not usually directly called from the command line</strong>. These phases sequence the build, <strong>producing intermediate results that are not useful outside the build</strong>. In the case of invoking <code>integration-test</code>, the environment may be left in a hanging state.</p>
<p>For example:</p>
<p>Failsafe and code coverage plugins bind goals to <code>integration-test</code> and <code>verify</code> phases. But if <code>integration-test</code> were to be called from the command line, no reports are generated. If <code>verify</code> is run, the net result is test and coverage reports are available after the <code>verify</code> phase.</p>
<p>In fact, the worse for executing <code>integration-test</code> is that the integration test container environment is left in a hanging state; the Tomcat webserver or Docker instance is left running, and <strong>Maven may not even terminate by itself</strong>.</p>
<h2 id="Goals-in-a-Phase"><a href="#Goals-in-a-Phase" class="headerlink" title="Goals in a Phase"></a>Goals in a Phase</h2><p>A build phase is responsible for a specific step in the build lifecycle, the manner in which it carries out those responsibilities may vary: it depends on the specific <code>goals</code> (plugins) that are attached to the <code>phase</code>.</p>
<p>A plugin/<code>goal</code> represents <strong>a specific task (finer than a build phase)</strong> which contributes to the building and managing of a project. It may be bound to zero or more build phases. A goal not bound to any build phase could be executed outside of the build lifecycle by direct invocation. </p>
<p>The <strong>order of execution</strong> depends on the <strong>order in which the <code>goal(s)</code> and the build <code>phase(s)</code> are invoked</strong>. For example, consider the command below. The <code>clean</code> and <code>package</code> arguments are build phases, while the <code>dependency:copy-dependencies</code> is a <code>goal</code> (the goal <code>copy-dependencies</code> of a plugin <code>depedency</code>/<code>&quot;maven-dependency-plugin&quot;</code>).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean dependency:copy-dependencies package</span><br></pre></td></tr></table></figure>

<p>If this were to be executed, the <code>clean</code> phase will be executed first (meaning it will run all preceding phases of the <code>clean</code> lifecycle, plus the <code>clean</code> phase itself), and then the <code>dependency:copy-dependencies</code> goal, before finally executing the <code>package</code> phase (and all its preceding build phases of the <code>default</code> lifecycle).</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> A phase can also have <strong>no goals bounded</strong>. If so, no action will be executed during that phase. </li>
</ul>
</blockquote>
<h2 id="Customizing-your-Build-Lifecycle"><a href="#Customizing-your-Build-Lifecycle" class="headerlink" title="Customizing your Build Lifecycle"></a>Customizing your Build Lifecycle</h2><p>The first, and most common way, is to set the <code>packaging</code> for your project via the <strong>element <code>&lt;packaging&gt;</code> in your <code>POM.xml</code> file</strong>. Some of the <strong>valid packaging values</strong> are <code>jar</code>, <code>war</code>, <code>ear</code> and <code>pom</code>. If no packaging value has been specified, it will default to <code>jar</code></p>
<p>For example, in the section where you made multiple projects and had a parent <code>pom.xml</code> file, it looked like:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot;</span><br><span class="line">  xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0</span><br><span class="line">                      http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"></span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;app&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;packaging&gt;pom&lt;&#x2F;packaging&gt;</span><br><span class="line"></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>

<p>where </p>
<ul>
<li><code>pom</code> for a packaging value means a project that is <strong>purely metadata</strong>, and it <strong>only binds goals to the <code>install</code> and <code>deploy</code> phases</strong>, which means <strong>during all the other phases there will be no action/execution</strong>.</li>
</ul>
<p>By default, if you have a <code>jar</code> as the packaging value, you will have the following <strong><code>goals</code> bounded to</strong> the following <code>phases</code></p>
<table>
<thead>
<tr>
<th>Phase</th>
<th>plugin:goal</th>
</tr>
</thead>
<tbody><tr>
<td>process-resources</td>
<td>resources:resources</td>
</tr>
<tr>
<td>compile</td>
<td>compiler:compile</td>
</tr>
<tr>
<td>process-test-resources</td>
<td>resources:testResources</td>
</tr>
<tr>
<td>test-compile</td>
<td>compiler:testCompile</td>
</tr>
<tr>
<td>test</td>
<td>surefire:test</td>
</tr>
<tr>
<td>package</td>
<td>jar:jar</td>
</tr>
<tr>
<td>install</td>
<td>install:install</td>
</tr>
<tr>
<td>deploy</td>
<td>deploy:deploy</td>
</tr>
</tbody></table>
<h2 id="Customizing-your-Build-Lifecycle-by-Plugins"><a href="#Customizing-your-Build-Lifecycle-by-Plugins" class="headerlink" title="Customizing your Build Lifecycle by Plugins"></a>Customizing your Build Lifecycle by Plugins</h2><p>The second way to <strong>add <code>goals</code> to <code>phases</code></strong> is to <strong>configure plugins in your project</strong>. Plugins are artifacts that <strong>provide <code>goals</code></strong> to Maven. This means that <strong>a plugin may have one or more <code>goals</code></strong> wherein each goal represents a capability of that plugin.</p>
<p>For example, the <code>Compiler</code> plugin has two goals: <code>compile</code> and <code>testCompile</code>. The former compiles the source code of your main code, while the latter compiles the source code of your test code.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Perhaps it is clear already, but to make sure: <strong>adding the plugin on its own is not enough information</strong> - you must also <strong>specify the <code>goals</code> you want to run from that plugin</strong>.</li>
<li><input disabled type="checkbox"> As you will see in the later sections, plugins can contain information that indicates <strong>which lifecycle phase</strong> to bind a goal to. If <strong>more than one goal is bound to a particular <code>phase</code></strong>, the <strong>order used</strong> is that those from the <strong><code>packaging</code> are executed first</strong>, followed by those configured in the <code>POM</code>. However, you can use the <code>&lt;executions&gt;</code> element to gain more control over the order of particular goals.</li>
</ul>
</blockquote>
<p>For example, the Modello plugin <strong>binds by default its goal <code>modello:java</code> to the<code>generate-sources</code> phase</strong> (Note: The <code>modello:java</code> goal generates Java source codes). So to use the Modello plugin and have it generate sources from a model and incorporate that into the build, you would add the following to your <code>POM</code> in the <code>&lt;plugins&gt;</code> section of <code>&lt;build&gt;</code>, and it will be <strong>executed in the <code>generate-sources</code> phase if you do not explicitly call it by itself</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"> &lt;plugin&gt;</span><br><span class="line">   &lt;groupId&gt;org.codehaus.modello&lt;&#x2F;groupId&gt;</span><br><span class="line">   &lt;artifactId&gt;modello-maven-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">   &lt;version&gt;1.8.1&lt;&#x2F;version&gt;</span><br><span class="line">   &lt;executions&gt;</span><br><span class="line">     &lt;execution&gt;</span><br><span class="line">       &lt;configuration&gt;</span><br><span class="line">         &lt;models&gt;</span><br><span class="line">           &lt;model&gt;src&#x2F;main&#x2F;mdo&#x2F;maven.mdo&lt;&#x2F;model&gt;</span><br><span class="line">         &lt;&#x2F;models&gt;</span><br><span class="line">         &lt;version&gt;4.0.0&lt;&#x2F;version&gt;</span><br><span class="line">       &lt;&#x2F;configuration&gt;</span><br><span class="line">       &lt;goals&gt;</span><br><span class="line">         &lt;goal&gt;java&lt;&#x2F;goal&gt;</span><br><span class="line">       &lt;&#x2F;goals&gt;</span><br><span class="line">     &lt;&#x2F;execution&gt;</span><br><span class="line">   &lt;&#x2F;executions&gt;</span><br><span class="line"> &lt;&#x2F;plugin&gt;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>You might be wondering why that <code>&lt;executions&gt;</code> element is there. That is so that you can run the same goal multiple times with different configuration if needed.</p>
<p>Now, in the case of <code>modello:java</code>, it only makes sense in the <code>generate-sources</code> phase. <strong>But some goals can be used in more than one phase</strong>, and <strong>there may not be a sensible default</strong>. For those, you can <strong>specify the <code>phase</code> yourself</strong>.</p>
<p>For example, let’s say you have a goal <code>display:time</code> (that echos the current time to the commandline), and you want it to run in the <code>process-test-resources</code> phase to indicate when the tests were started. This would be configured like so:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"> &lt;plugin&gt;</span><br><span class="line">   &lt;groupId&gt;com.mycompany.example&lt;&#x2F;groupId&gt;</span><br><span class="line">   &lt;artifactId&gt;display-maven-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">   &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">   &lt;executions&gt;</span><br><span class="line">     &lt;execution&gt;</span><br><span class="line">       &lt;phase&gt;process-test-resources&lt;&#x2F;phase&gt;</span><br><span class="line">       &lt;goals&gt;</span><br><span class="line">         &lt;goal&gt;time&lt;&#x2F;goal&gt;</span><br><span class="line">       &lt;&#x2F;goals&gt;</span><br><span class="line">     &lt;&#x2F;execution&gt;</span><br><span class="line">   &lt;&#x2F;executions&gt;</span><br><span class="line"> &lt;&#x2F;plugin&gt;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h2 id="Built-in-Lifecycle-and-Phase-Bindings"><a href="#Built-in-Lifecycle-and-Phase-Bindings" class="headerlink" title="Built-in Lifecycle and Phase Bindings"></a>Built-in Lifecycle and Phase Bindings</h2><p>You can see the default bindings for the lifecycle <code>clean</code>, <code>default</code>, and <code>site</code> <a href="https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#lifecycle-reference" target="_blank" rel="noopener">here</a></p>
<h2 id="Built-in-Phase-and-Goal-Bindings"><a href="#Built-in-Phase-and-Goal-Bindings" class="headerlink" title="Built-in Phase and Goal Bindings"></a>Built-in Phase and Goal Bindings</h2><p>Some <code>phase</code>s have <code>goal</code>s bound to them by default. You can see the default bindings for each <code>phase</code> in the three lifecycles <code>clean</code>, <code>default</code>, <code>site</code> <a href="https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#built-in-lifecycle-bindings" target="_blank" rel="noopener">here</a></p>
<h2 id="POM-Basics"><a href="#POM-Basics" class="headerlink" title="POM Basics"></a>POM Basics</h2><p>A Project Object Model or <code>POM</code> is the fundamental unit of work in Maven. It is an <strong><code>XML</code> file that contains information about the project and configuration details</strong> used by Maven to build the project. When executing a task or goal, <strong>Maven looks for the <code>POM</code> in the current directory</strong>. It reads the <code>POM</code>, gets the needed configuration information, then executes the goal.</p>
<p>For example, some of the configuration that can be specified in the <code>POM</code> are the project <code>dependencies</code>, the <code>plugins</code> or <code>goals</code> that can be executed, the build profiles, project version, description, developers, mailing lists and so on.</p>
<h2 id="Super-POM"><a href="#Super-POM" class="headerlink" title="Super POM"></a>Super POM</h2><p>The <code>Super POM</code> is Maven’s <strong>default <code>POM</code></strong>. All <strong><code>POMs</code> extend the <code>Super POM</code> unless explicitly set</strong>, meaning the configuration specified in the <code>Super POM</code> is inherited by the POMs you created for your projects. The snippet below is the Super POM for Maven 3.5.4.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;repositories&gt;</span><br><span class="line">    &lt;repository&gt;</span><br><span class="line">      &lt;id&gt;central&lt;&#x2F;id&gt;</span><br><span class="line">      &lt;name&gt;Central Repository&lt;&#x2F;name&gt;</span><br><span class="line">      &lt;url&gt;https:&#x2F;&#x2F;repo.maven.apache.org&#x2F;maven2&lt;&#x2F;url&gt;</span><br><span class="line">      &lt;layout&gt;default&lt;&#x2F;layout&gt;</span><br><span class="line">      &lt;snapshots&gt;</span><br><span class="line">        &lt;enabled&gt;false&lt;&#x2F;enabled&gt;</span><br><span class="line">      &lt;&#x2F;snapshots&gt;</span><br><span class="line">    &lt;&#x2F;repository&gt;</span><br><span class="line">  &lt;&#x2F;repositories&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;pluginRepositories&gt;</span><br><span class="line">    &lt;pluginRepository&gt;</span><br><span class="line">      &lt;id&gt;central&lt;&#x2F;id&gt;</span><br><span class="line">      &lt;name&gt;Central Repository&lt;&#x2F;name&gt;</span><br><span class="line">      &lt;url&gt;https:&#x2F;&#x2F;repo.maven.apache.org&#x2F;maven2&lt;&#x2F;url&gt;</span><br><span class="line">      &lt;layout&gt;default&lt;&#x2F;layout&gt;</span><br><span class="line">      &lt;snapshots&gt;</span><br><span class="line">        &lt;enabled&gt;false&lt;&#x2F;enabled&gt;</span><br><span class="line">      &lt;&#x2F;snapshots&gt;</span><br><span class="line">      &lt;releases&gt;</span><br><span class="line">        &lt;updatePolicy&gt;never&lt;&#x2F;updatePolicy&gt;</span><br><span class="line">      &lt;&#x2F;releases&gt;</span><br><span class="line">    &lt;&#x2F;pluginRepository&gt;</span><br><span class="line">  &lt;&#x2F;pluginRepositories&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;build&gt;</span><br><span class="line">    &lt;directory&gt;$&#123;project.basedir&#125;&#x2F;target&lt;&#x2F;directory&gt;</span><br><span class="line">    &lt;outputDirectory&gt;$&#123;project.build.directory&#125;&#x2F;classes&lt;&#x2F;outputDirectory&gt;</span><br><span class="line">    &lt;finalName&gt;$&#123;project.artifactId&#125;-$&#123;project.version&#125;&lt;&#x2F;finalName&gt;</span><br><span class="line">    &lt;testOutputDirectory&gt;$&#123;project.build.directory&#125;&#x2F;test-classes&lt;&#x2F;testOutputDirectory&gt;</span><br><span class="line">    &lt;sourceDirectory&gt;$&#123;project.basedir&#125;&#x2F;src&#x2F;main&#x2F;java&lt;&#x2F;sourceDirectory&gt;</span><br><span class="line">    &lt;scriptSourceDirectory&gt;$&#123;project.basedir&#125;&#x2F;src&#x2F;main&#x2F;scripts&lt;&#x2F;scriptSourceDirectory&gt;</span><br><span class="line">    &lt;testSourceDirectory&gt;$&#123;project.basedir&#125;&#x2F;src&#x2F;test&#x2F;java&lt;&#x2F;testSourceDirectory&gt;</span><br><span class="line">    &lt;resources&gt;</span><br><span class="line">      &lt;resource&gt;</span><br><span class="line">        &lt;directory&gt;$&#123;project.basedir&#125;&#x2F;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;</span><br><span class="line">      &lt;&#x2F;resource&gt;</span><br><span class="line">    &lt;&#x2F;resources&gt;</span><br><span class="line">    &lt;testResources&gt;</span><br><span class="line">      &lt;testResource&gt;</span><br><span class="line">        &lt;directory&gt;$&#123;project.basedir&#125;&#x2F;src&#x2F;test&#x2F;resources&lt;&#x2F;directory&gt;</span><br><span class="line">      &lt;&#x2F;testResource&gt;</span><br><span class="line">    &lt;&#x2F;testResources&gt;</span><br><span class="line">    &lt;pluginManagement&gt;</span><br><span class="line">      &lt;!-- NOTE: These plugins will be removed from future versions of the super POM --&gt;</span><br><span class="line">      &lt;!-- They are kept for the moment as they are very unlikely to conflict with lifecycle mappings (MNG-4453) --&gt;</span><br><span class="line">      &lt;plugins&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-antrun-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">          &lt;version&gt;1.3&lt;&#x2F;version&gt;</span><br><span class="line">        &lt;&#x2F;plugin&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-assembly-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">          &lt;version&gt;2.2-beta-5&lt;&#x2F;version&gt;</span><br><span class="line">        &lt;&#x2F;plugin&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-dependency-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">          &lt;version&gt;2.8&lt;&#x2F;version&gt;</span><br><span class="line">        &lt;&#x2F;plugin&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">          &lt;artifactId&gt;maven-release-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">          &lt;version&gt;2.5.3&lt;&#x2F;version&gt;</span><br><span class="line">        &lt;&#x2F;plugin&gt;</span><br><span class="line">      &lt;&#x2F;plugins&gt;</span><br><span class="line">    &lt;&#x2F;pluginManagement&gt;</span><br><span class="line">  &lt;&#x2F;build&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;reporting&gt;</span><br><span class="line">    &lt;outputDirectory&gt;$&#123;project.build.directory&#125;&#x2F;site&lt;&#x2F;outputDirectory&gt;</span><br><span class="line">  &lt;&#x2F;reporting&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;profiles&gt;</span><br><span class="line">    &lt;!-- NOTE: The release profile will be removed from future versions of the super POM --&gt;</span><br><span class="line">    &lt;profile&gt;</span><br><span class="line">      &lt;id&gt;release-profile&lt;&#x2F;id&gt;</span><br><span class="line"> </span><br><span class="line">      &lt;activation&gt;</span><br><span class="line">        &lt;property&gt;</span><br><span class="line">          &lt;name&gt;performRelease&lt;&#x2F;name&gt;</span><br><span class="line">          &lt;value&gt;true&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line">      &lt;&#x2F;activation&gt;</span><br><span class="line"> </span><br><span class="line">      &lt;build&gt;</span><br><span class="line">        &lt;plugins&gt;</span><br><span class="line">          &lt;plugin&gt;</span><br><span class="line">            &lt;inherited&gt;true&lt;&#x2F;inherited&gt;</span><br><span class="line">            &lt;artifactId&gt;maven-source-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">            &lt;executions&gt;</span><br><span class="line">              &lt;execution&gt;</span><br><span class="line">                &lt;id&gt;attach-sources&lt;&#x2F;id&gt;</span><br><span class="line">                &lt;goals&gt;</span><br><span class="line">                  &lt;goal&gt;jar-no-fork&lt;&#x2F;goal&gt;</span><br><span class="line">                &lt;&#x2F;goals&gt;</span><br><span class="line">              &lt;&#x2F;execution&gt;</span><br><span class="line">            &lt;&#x2F;executions&gt;</span><br><span class="line">          &lt;&#x2F;plugin&gt;</span><br><span class="line">          &lt;plugin&gt;</span><br><span class="line">            &lt;inherited&gt;true&lt;&#x2F;inherited&gt;</span><br><span class="line">            &lt;artifactId&gt;maven-javadoc-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">            &lt;executions&gt;</span><br><span class="line">              &lt;execution&gt;</span><br><span class="line">                &lt;id&gt;attach-javadocs&lt;&#x2F;id&gt;</span><br><span class="line">                &lt;goals&gt;</span><br><span class="line">                  &lt;goal&gt;jar&lt;&#x2F;goal&gt;</span><br><span class="line">                &lt;&#x2F;goals&gt;</span><br><span class="line">              &lt;&#x2F;execution&gt;</span><br><span class="line">            &lt;&#x2F;executions&gt;</span><br><span class="line">          &lt;&#x2F;plugin&gt;</span><br><span class="line">          &lt;plugin&gt;</span><br><span class="line">            &lt;inherited&gt;true&lt;&#x2F;inherited&gt;</span><br><span class="line">            &lt;artifactId&gt;maven-deploy-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">            &lt;configuration&gt;</span><br><span class="line">              &lt;updateReleaseInfo&gt;true&lt;&#x2F;updateReleaseInfo&gt;</span><br><span class="line">            &lt;&#x2F;configuration&gt;</span><br><span class="line">          &lt;&#x2F;plugin&gt;</span><br><span class="line">        &lt;&#x2F;plugins&gt;</span><br><span class="line">      &lt;&#x2F;build&gt;</span><br><span class="line">    &lt;&#x2F;profile&gt;</span><br><span class="line">  &lt;&#x2F;profiles&gt;</span><br><span class="line"> </span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<p>Here, we can see some default settings that the <code>SUPER POM</code> has:</p>
<ul>
<li>the build <strong>target directory</strong> set to <code>&lt;directory&gt;${project.basedir}/target&lt;/directory&gt;</code></li>
<li>the build <strong>source directory</strong> set to <code>&lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;</code></li>
<li>the <strong>central repository</strong> set to <code>&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;</code></li>
</ul>
<h2 id="Minimal-POM"><a href="#Minimal-POM" class="headerlink" title="Minimal POM"></a>Minimal POM</h2><p>The <strong>minimum requirement</strong> for a <code>POM</code> are the following:</p>
<ul>
<li>project root</li>
<li>modelVersion - should be set to 4.0.0</li>
<li>groupId - the id of the project’s group.</li>
<li>artifactId - the id of the artifact (project)</li>
<li>version - the version of the artifact under the specified group</li>
</ul>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;my-app&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>This is because a needs project’s <strong>fully qualified artifact name</strong>, which will be <strong>in the form of <code>&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</code></strong>. As for the example above, its fully qualified artifact name is <code>&quot;com.mycompany.app:my-app:1&quot;</code>.</p>
<p>Also, as mentioned in the previous section, if the configuration details are <strong>not specified</strong>, <strong>Maven will use their defaults</strong>. One of these default values is the packaging type. Every Maven project has a packaging type. If it is not specified in the <code>POM</code>, then the default value “<code>jar</code>“ would be used.</p>
<h2 id="Project-POM-Inheritance"><a href="#Project-POM-Inheritance" class="headerlink" title="Project/POM Inheritance"></a>Project/POM Inheritance</h2><p>Elements in the <code>POM</code> that are merged when you inherit another parent <code>POM</code> are the following:</p>
<ul>
<li>dependencies</li>
<li>developers and contributors</li>
<li>plugin lists (including reports)</li>
<li>plugin executions with matching ids</li>
<li>plugin configuration</li>
<li>resources</li>
</ul>
<p>The <code>Super POM</code> is one example of a parent <code>POM</code> that is inherited by default, however you can also <strong>introduce your own parent <code>POM</code>s by specifying the <code>parent</code> element in the <code>POM</code></strong>, as demonstrated in the following examples.</p>
<ol>
<li><p>If we have everything <strong>ordered nicely</strong> in the following structure, where the parent <code>POM</code> sits right above the children:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">|-- childProject</span><br><span class="line">|   &#96;-- pom.xml</span><br><span class="line">&#96;-- pom.xml</span><br></pre></td></tr></table></figure>
<p>For example, if the <strong>child artifact is <code>com.mycompany.app:childProject:1</code></strong>, </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;childProject&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<p> And the <strong>parent artifact is <code>com.mycompany.app:parentProject:1</code></strong>, then, we could easily <strong>configure the child <code>POM</code></strong> by adding the <code>&lt;parent&gt;</code> element:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;parent&gt;</span><br><span class="line">    &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;parentProject&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;&#x2F;parent&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;childProject&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>If we did not have everything in place, and had the following structure:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line"> |-- childProject</span><br><span class="line"> |   &#96;-- pom.xml</span><br><span class="line"> &#96;-- parentProject</span><br><span class="line">     &#96;-- pom.xml</span><br></pre></td></tr></table></figure>
<p>Then we just need to <strong>add an additional <code>relativePath</code> element</strong> to specify where to find tha parent <code>POM</code>, since we did not have the <code>parent</code> element at the default structure.</p>
<p> So we would <strong>configure the child <code>POM</code></strong> by:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;parent&gt;</span><br><span class="line">    &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;parentProject&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">    &lt;relativePath&gt;..&#x2F;parent&#x2F;pom.xml&lt;&#x2F;relativePath&gt;</span><br><span class="line">  &lt;&#x2F;parent&gt;</span><br><span class="line"></span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;childProject&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>However, in both cases, since the <strong>child <code>POM</code> knows to inherit</strong> from its parent <code>POM</code>, we could further <strong>simplify the child <code>POM</code> to</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;parent&gt;</span><br><span class="line">    &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;parentProject&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">	(&lt;relativePath&gt;..&#x2F;parent&#x2F;pom.xml&lt;&#x2F;relativePath&gt;)</span><br><span class="line">  &lt;&#x2F;parent&gt;</span><br><span class="line"></span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;artifactId&gt;childProject&lt;&#x2F;artifactId&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>So that the <strong>child project will have the same <code>groupID</code> and <code>version</code> as the parent, as the information would be inherited</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> This is different from the example in the section <a href="#Creating-Multiple-Projects-at-Once">Creating Multiple Projects at Once</a> section, because we <strong>did not have the <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code></strong>. The difference is that, in this case (without specifying <code>packaging</code>) the <strong><code>parentProject</code> is/will be used by its child projects</strong> (like Java Inheritance), but in the other case, the <strong>parent uses the children projects</strong> (like Java Composition) <a href="#Project/POM-Aggregation">see below</a></li>
<li><input disabled type="checkbox"> If you want to <strong>compile a specific children project</strong>, you might need to <strong>change the parent <code>POM</code> to <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code></strong>. If you need to access the source codes in the parent directory, you should add the dependencies.</li>
</ul>
</blockquote>
<p><a name="Project/POM-Aggregatio"></a></p>
<h2 id="Project-POM-Aggregation"><a href="#Project-POM-Aggregation" class="headerlink" title="Project/POM Aggregation"></a>Project/POM Aggregation</h2><p>Project Aggregation is similar to Project Inheritance, but there is an essential difference:</p>
<ul>
<li>Project Inheritance would have <code>childrenProjects</code> (<code>modules</code>) using/inheriting the <code>parentProject</code>(<code>parent</code>)</li>
<li>Project Aggregation would have <code>parentProjects</code> (<code>parent</code>) using/composed of the <code>childProjects</code> (<code>modules</code>)</li>
</ul>
<p>So, instead of specifying the parent <code>POM</code> from the <code>module</code>, it <strong>specifies the <code>modules</code> in the parent <code>POM</code></strong>. By doing so, the parent project now knows its <code>modules</code>, and <strong>if a Maven command is invoked against the parent project</strong>, <strong>that Maven command will then be executed to the parent’s <code>modules</code> (its <code>childProjects</code>)as well</strong>. To do Project Aggregation, you must do the following:</p>
<ul>
<li><strong>Configure the <code>parent</code> POMs</strong> <code>packaging</code> to the value “<code>pom</code>“.</li>
<li><strong>Specify in the parent POM</strong> the directories of its modules (children POMs).</li>
</ul>
<ol>
<li><p>If the directory structure follows that of the default structure:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line"> |-- my-module</span><br><span class="line"> |   &#96;-- pom.xml</span><br><span class="line"> &#96;-- pom.xml</span><br></pre></td></tr></table></figure>
<p>Then we need to add the <code>&lt;packaging&gt;</code> element and the <code>&lt;modules&gt;</code> element in the <strong>parent <code>POM</code></strong>:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;parent&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;packaging&gt;pom&lt;&#x2F;packaging&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;modules&gt;</span><br><span class="line">    &lt;module&gt;my-module&lt;&#x2F;module&gt;</span><br><span class="line">  &lt;&#x2F;modules&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>Now, whenever a Maven command processes <code>com.mycompany.app:parent:1</code>, that same Maven command would be ran against <code>com.mycompany.app:my-module:1</code> as well. Furthermore, some commands (goals specifically) handle project aggregation differently.</p>
</li>
<li><p>If we have the directory structure to the following:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line"> |-- my-module</span><br><span class="line"> |   &#96;-- pom.xml</span><br><span class="line"> &#96;-- parent</span><br><span class="line">     &#96;-- pom.xml</span><br></pre></td></tr></table></figure>

<p> Then we need to specify the <strong>relative path to the module</strong> in the parent <code>POM</code>.</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;parent&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;packaging&gt;pom&lt;&#x2F;packaging&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;modules&gt;</span><br><span class="line">    &lt;module&gt;..&#x2F;my-module&lt;&#x2F;module&gt;</span><br><span class="line">  &lt;&#x2F;modules&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Combining-Project-Inheritance-and-Project-Aggregation"><a href="#Combining-Project-Inheritance-and-Project-Aggregation" class="headerlink" title="Combining Project Inheritance and Project Aggregation"></a>Combining Project Inheritance and Project Aggregation</h2><p>To achieve this, you just edit both child and parent <code>POM</code> in the same way introduced above:</p>
<ul>
<li>Specify in every child POM who their parent POM is. (Project Inheritance)</li>
<li>Change the parent POMs packaging to the value “pom” . (Project Aggregation)</li>
<li>Specify in the parent POM the directories of its modules. (Project Aggregation)</li>
</ul>
<p>For a simple example:<br><code>com.mycompany.app:paernt:1</code>‘s POM</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;parent&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;packaging&gt;pom&lt;&#x2F;packaging&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;modules&gt;</span><br><span class="line">    &lt;module&gt;..&#x2F;my-module&lt;&#x2F;module&gt;</span><br><span class="line">  &lt;&#x2F;modules&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<p><code>com.mycompany.app:my-module:1</code>‘s POM</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;parent&gt;</span><br><span class="line">    &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;parent&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1&lt;&#x2F;version&gt;</span><br><span class="line">    &lt;relativePath&gt;..&#x2F;parent&#x2F;pom.xml&lt;&#x2F;relativePath&gt;</span><br><span class="line">  &lt;&#x2F;parent&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;artifactId&gt;my-module&lt;&#x2F;artifactId&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Variables-in-POM"><a href="#Variables-in-POM" class="headerlink" title="Variables in POM"></a>Variables in <code>POM</code></h2><p>One of the practices that Maven encourages is don’t repeat yourself. However, there are circumstances where you will need to use the same value in several different locations. To assist in ensuring the value is only specified once, Maven allows you to <strong>use both your own and pre-defined variables in the <code>POM</code></strong>.</p>
<p>For example, to access the <code>project.version</code> variable (this is pre-defined), you would reference it like so:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;version&gt;$&#123;project.version&#125;&lt;&#x2F;version&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you get an error, you might need to make the variable by yourself in the parent <code>pom</code>. To do this, <a href="#own-variable">see below</a></li>
</ul>
</blockquote>
<ul>
<li><p>Some of the <strong>pre-defined variables</strong> are:</p>
<ul>
<li><strong>Project Model Variables</strong>:<br>Any field of the model that is a single value element can be referenced as a variable. For example, <code>${project.groupId}</code>, <code>${project.version}</code>, <code>${project.build.sourceDirectory}</code> and so on. Refer to the POM reference to see a full list of properties.</li>
<li><strong>Special Variables</strong><ul>
<li><code>project.basedir</code>    The directory that the current project resides in.</li>
<li><code>project.baseUri</code>    The directory that the current project resides in, represented as an URI. Since Maven 2.1.0</li>
<li><code>maven.build.timestamp</code>    The timestamp that denotes the start of the build (UTC). Since Maven 2.1.0-M1</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a name="own-variable"></a></p>
<ul>
<li>You can also use your <strong>own variable</strong> if you define it in the <code>&lt;properties&gt;</code> section:  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;properties&gt;</span><br><span class="line">    &lt;mavenVersion&gt;3.0&lt;&#x2F;mavenVersion&gt;</span><br><span class="line">  &lt;&#x2F;properties&gt;</span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.apache.maven&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;maven-artifact&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;$&#123;mavenVersion&#125;&lt;&#x2F;version&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.apache.maven&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;maven-core&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;$&#123;mavenVersion&#125;&lt;&#x2F;version&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line">  ...</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Profiles"><a href="#Profiles" class="headerlink" title="Profiles"></a>Profiles</h2><p>In short, Maven profiles can be used to create <strong>customized build configurations</strong>.</p>
<p>Profiles are specified using the element <code>&lt;profile&gt;</code> in the <code>POM</code>itself (in the extra section <code>&lt;profiles&gt;</code>), and can be <strong>triggered in many different ways</strong>. They modify the POM at build time, and are meant to be used in complementary sets to give equivalent-but-different parameters for a set of target environments (providing, for example, the path of the appserver root in the development, testing, and production environments). As such, profiles can easily lead to differing build results from different members of your team. </p>
<p>Profiles (<code>&lt;profiles&gt;</code>) can be <strong>specified in any of the four file locations</strong>:</p>
<ul>
<li><p>Per Project</p>
<ul>
<li>Defined in the POM itself (<code>pom.xml</code>).</li>
</ul>
</li>
<li><p>Per User</p>
<ul>
<li>Defined in the Maven-settings (<code>%USER_HOME%/.m2/settings.xml</code>).</li>
</ul>
</li>
<li><p>Global</p>
<ul>
<li>Defined in the global Maven-settings (<code>${maven.home}/conf/settings.xml</code>).</li>
</ul>
</li>
<li><p>Profile descriptor (<strong>unsupported in Maven 3.0 and above</strong>)</p>
<ul>
<li>a descriptor located in project basedir (profiles.xml) </li>
</ul>
</li>
</ul>
<h2 id="Viewing-Active-Profiles"><a href="#Viewing-Active-Profiles" class="headerlink" title="Viewing Active Profiles"></a>Viewing Active Profiles</h2><p>To see which profiles are already active, you can use the <code>help</code> plugin from MAVEN:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn help:active-profiles</span><br></pre></td></tr></table></figure>

<p>and by default, nothing is actived so you will see nothing:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Active Profiles for Project &#39;com.mycompany.app:my-app:pom:1.0-SNAPSHOT&#39;:</span><br><span class="line"></span><br><span class="line">The following profiles are active:</span><br></pre></td></tr></table></figure>
<p>If we want to <strong>automatically show the active profiles</strong> when we are doing, for example, the <code>compile</code> phase, we can use the similar approach shown in the section [Customizing your Build Lifecycle by Plugins](#Customizing-your-Build Lifecycle-by-Plugins) by <strong>adding the <code>help</code> plugin and the <code>goal</code></strong> in our phase <code>compile</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;build&gt;</span><br><span class="line">    &lt;plugins&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">            &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;maven-help-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.2.0&lt;&#x2F;version&gt;</span><br><span class="line">            &lt;executions&gt;</span><br><span class="line">                &lt;execution&gt;</span><br><span class="line">                    &lt;id&gt;show-profiles&lt;&#x2F;id&gt;</span><br><span class="line">                    &lt;phase&gt;compile&lt;&#x2F;phase&gt;</span><br><span class="line">                    &lt;goals&gt;</span><br><span class="line">                        &lt;goal&gt;active-profiles&lt;&#x2F;goal&gt;</span><br><span class="line">                    &lt;&#x2F;goals&gt;</span><br><span class="line">                &lt;&#x2F;execution&gt;</span><br><span class="line">            &lt;&#x2F;executions&gt;</span><br><span class="line">        &lt;&#x2F;plugin&gt;</span><br><span class="line">    &lt;&#x2F;plugins&gt;</span><br><span class="line">&lt;&#x2F;build&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Making-a-Profile"><a href="#Making-a-Profile" class="headerlink" title="Making a Profile"></a>Making a Profile</h2><p>Within each <code>&lt;profile&gt;</code> element, we can <strong>configure many elements such as <code>dependencies</code>, <code>plugins</code>, <code>resources</code>, <code>finalName</code></strong>.</p>
<p>For example (configured a <code>plugin</code>):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;profiles&gt;</span><br><span class="line">	&lt;profile&gt;</span><br><span class="line">	  &lt;id&gt;test&lt;&#x2F;id&gt;</span><br><span class="line"></span><br><span class="line">	  &lt;build&gt;</span><br><span class="line">	     &lt;plugins&gt;</span><br><span class="line">	        &lt;plugin&gt;</span><br><span class="line">	           &lt;groupId&gt;org.apache.maven.plugins&lt;&#x2F;groupId&gt;</span><br><span class="line">	           &lt;artifactId&gt;maven-antrun-plugin&lt;&#x2F;artifactId&gt;</span><br><span class="line">	           &lt;version&gt;1.1&lt;&#x2F;version&gt;</span><br><span class="line">	           &lt;executions&gt;</span><br><span class="line">	              &lt;execution&gt;</span><br><span class="line">	                 &lt;phase&gt;test&lt;&#x2F;phase&gt;</span><br><span class="line">	                 &lt;goals&gt;</span><br><span class="line">	                    &lt;goal&gt;run&lt;&#x2F;goal&gt;</span><br><span class="line">	                 &lt;&#x2F;goals&gt;</span><br><span class="line">	                 &lt;configuration&gt;</span><br><span class="line">	                 &lt;tasks&gt;</span><br><span class="line">	                    &lt;echo&gt;Using app.test.properties&lt;&#x2F;echo&gt;</span><br><span class="line">	                    &lt;copy file&#x3D;&quot;src&#x2F;main&#x2F;resources&#x2F;app.test.properties&quot; </span><br><span class="line">	                    	tofile&#x3D;&quot;$&#123;project.build.outputDirectory&#125;&#x2F;env.properties&quot;&#x2F;&gt;</span><br><span class="line">	                 &lt;&#x2F;tasks&gt;</span><br><span class="line">	                 &lt;&#x2F;configuration&gt;</span><br><span class="line">	              &lt;&#x2F;execution&gt;</span><br><span class="line">	           &lt;&#x2F;executions&gt;</span><br><span class="line">	        &lt;&#x2F;plugin&gt;</span><br><span class="line">	     &lt;&#x2F;plugins&gt;</span><br><span class="line">	  &lt;&#x2F;build&gt;</span><br><span class="line"></span><br><span class="line">	&lt;&#x2F;profile&gt;</span><br><span class="line">&lt;&#x2F;profiles&gt;</span><br></pre></td></tr></table></figure>
<p>Another simpler example could be:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;profiles&gt;</span><br><span class="line">  &lt;profile&gt;</span><br><span class="line">    &lt;id&gt;no-tests&lt;&#x2F;id&gt;</span><br><span class="line">    &lt;properties&gt;</span><br><span class="line">        &lt;maven.test.skip&gt;true&lt;&#x2F;maven.test.skip&gt;</span><br><span class="line">    &lt;&#x2F;properties&gt;</span><br><span class="line">  &lt;&#x2F;profile&gt;</span><br><span class="line">&lt;&#x2F;profiles&gt;</span><br></pre></td></tr></table></figure>
<p>(This will skip the <code>test</code> phase in the artifact if you activate it.)</p>
<p>In general, it is <strong>recommended</strong> to specify a profile in the <strong><code>POM</code> of the project</strong>. This is because it will be <strong>portable</strong> since the <code>POM</code> file will be included in the final product. In contrast, profiles specified in <strong>external files</strong> (i.e <strong>in <code>settings.xml</code></strong> or <code>profiles.xml</code>) are <strong>not portable</strong> in the strictest sense. Also, you can <strong>specify much more modifications in the profile in the <code>POM</code> than in the <code>settings.xml</code></strong>. For more details, see the section <a href="#Profiles-in-POM-and-in-Settings">Profiles in <code>POM</code>s and in <code>Settings</code></a>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> In the above examples, there is an <code>&lt;id&gt;</code> element for that <code>profile</code>. <strong>This will be used later to activate the profile</strong>, so it is important to give it a sensible name,</li>
<li><input disabled type="checkbox"> We can also <strong>configure as many profiles</strong> as we want by <strong>giving them unique <code>id</code>s</strong>.</li>
</ul>
</blockquote>
<h2 id="Activate-a-Profile"><a href="#Activate-a-Profile" class="headerlink" title="Activate a Profile"></a>Activate a Profile</h2><p>You can activate a profile in a number of ways:</p>
<ul>
<li>For a <strong>single run</strong><ul>
<li>explicitly add the <code>-P &lt;profile-id&gt;</code> at the end of a command</li>
</ul>
</li>
<li><strong>Automatically for a project</strong> (per project)<ul>
<li>through the <code>POM</code> file</li>
</ul>
</li>
<li><strong>Automatically for all projects of a user</strong> (per user)<ul>
<li>Through Maven settings</li>
</ul>
</li>
<li><strong>Triggered</strong><ul>
<li>Based on environment variables</li>
<li>OS settings</li>
<li>Present or missing files</li>
</ul>
</li>
</ul>
<h2 id="Activate-Profile-for-a-Single-Run"><a href="#Activate-Profile-for-a-Single-Run" class="headerlink" title="Activate Profile for a Single Run"></a>Activate Profile for a Single Run</h2><p>This can be done by adding the option <code>-P &lt;profile-id&gt;</code> so that the profile will be <strong>activated for that specific run</strong>.</p>
<p>For example, to use the <code>no-test</code> profile (assuming that profile is added to the <code>pom</code> file of this project), we could use:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package -P no-test</span><br></pre></td></tr></table></figure>
<p>This will execute all phases up to and until <code>package</code>, except <strong>skipping the <code>test</code> phase</strong>, as <strong>specified by our <code>no-test</code> profile</strong>.</p>
<p>You could also activate multiple profiles by using comma as a delimiter:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package -P no-test,profile2,profile3</span><br></pre></td></tr></table></figure>

<h2 id="Activate-Profile-Automatically-for-a-Project"><a href="#Activate-Profile-Automatically-for-a-Project" class="headerlink" title="Activate Profile Automatically for a Project"></a>Activate Profile Automatically for a Project</h2><p>This can be done by adding another section <code>&lt;activation&gt;</code> in the same section where you specified the <code>&lt;profile&gt;</code>. </p>
<p>For example, if we want to automatically activate the profile <code>no-test</code> for a project (again, assuming that profile is added to the <code>pom</code> file of this project), then we would have in the <code>pom</code> file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;profiles&gt;</span><br><span class="line">  &lt;profile&gt;</span><br><span class="line">    &lt;id&gt;no-test&lt;&#x2F;id&gt;</span><br><span class="line">    &lt;activation&gt;</span><br><span class="line">	  &lt;activateByDefault&gt;true&lt;&#x2F;activateByDefault&gt;</span><br><span class="line">    &lt;&#x2F;activation&gt;</span><br><span class="line"></span><br><span class="line">	&lt;properties&gt;</span><br><span class="line">	  &lt;maven.test.skip&gt;true&lt;&#x2F;maven.test.skip&gt;</span><br><span class="line">	&lt;&#x2F;properties&gt;</span><br><span class="line">  &lt;&#x2F;profile&gt;</span><br><span class="line">&lt;profiles&gt;</span><br></pre></td></tr></table></figure>
<p>This will activate the profile <code>no-test</code> everytime when the project is run.</p>
<h2 id="Deactivating-a-Profile"><a href="#Deactivating-a-Profile" class="headerlink" title="Deactivating a Profile"></a>Deactivating a Profile</h2><p>Deactivating a profile is done by adding the option <code>-P !&lt;profile-id&gt;</code> or <code>-P -&lt;profile-id&gt;</code></p>
<p>However, one important thing to note is that, if you have several profiles that are <strong>activated by default</strong>, running the <code>-P !&lt;profile-id&gt;</code> or <code>-P -&lt;profile-id&gt;</code> would <strong>override the configuration such that all those profiles that are activated by default would be ignored/deactivated</strong>.</p>
<h2 id="Activate-Profile-Automatically-for-all-Projects-per-user"><a href="#Activate-Profile-Automatically-for-all-Projects-per-user" class="headerlink" title="Activate Profile Automatically for all Projects (per user)"></a>Activate Profile Automatically for all Projects (per user)</h2><p>Profiles can be activated in the <strong>Maven settings file</strong> (per user, <code>%USER_HOME%/.m2/settings.xml</code>; globally/all users, <code>${maven.home}/conf/settings.xml</code>), via the <code>&lt;activeProfiles&gt;</code> section. This section takes a list of <code>&lt;activeProfile&gt;</code> elements, each containing a <code>&lt;profile-id&gt;</code> inside.</p>
<p>For example, to activate the <code>no-test</code> profile for all projects of a user, add the following to the <code>%USER_HOME%/.m2/settings.xml</code>: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;settings&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;activeProfiles&gt;</span><br><span class="line">    &lt;activeProfile&gt;no-test&lt;&#x2F;activeProfile&gt;</span><br><span class="line">  &lt;&#x2F;activeProfiles&gt;</span><br><span class="line">  ...</span><br><span class="line">&lt;&#x2F;settings&gt;</span><br></pre></td></tr></table></figure>
<p>So that profiles listed in the <code>&lt;activeProfiles&gt;</code> tag would be <strong>activated by default every time that user runs a project</strong>.</p>
<h2 id="Activate-Profiles-by-Triggers"><a href="#Activate-Profiles-by-Triggers" class="headerlink" title="Activate Profiles by Triggers"></a>Activate Profiles by Triggers</h2><p>Profiles can be automatically triggered based on the detected state of the build environment. <strong>These triggers are specified via an <code>&lt;activation&gt;</code> section in the profile itself</strong>.</p>
<ul>
<li><p>Triggered by a specific JDK version:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;profiles&gt;</span><br><span class="line">  &lt;profile&gt;</span><br><span class="line">    &lt;activation&gt;</span><br><span class="line">      &lt;jdk&gt;1.4&lt;&#x2F;jdk&gt;</span><br><span class="line">    &lt;&#x2F;activation&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;&#x2F;profile&gt;</span><br><span class="line">&lt;&#x2F;profiles&gt;</span><br></pre></td></tr></table></figure>

<p>  The above will trigger the profile when the JDK’s version <strong>starts with “1.4”</strong> (eg. “1.4.0_08”, “1.4.2_07”, “1.4”)</p>
</li>
<li><p>Triggered by a specific OS setting:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;profiles&gt;</span><br><span class="line">  &lt;profile&gt;</span><br><span class="line">    &lt;activation&gt;</span><br><span class="line">      &lt;os&gt;</span><br><span class="line">        &lt;name&gt;Windows XP&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;family&gt;Windows&lt;&#x2F;family&gt;</span><br><span class="line">        &lt;arch&gt;x86&lt;&#x2F;arch&gt;</span><br><span class="line">        &lt;version&gt;5.1.2600&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;&#x2F;os&gt;</span><br><span class="line">    &lt;&#x2F;activation&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;&#x2F;profile&gt;</span><br><span class="line">&lt;&#x2F;profiles&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Triggered by a specific property</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;profiles&gt;</span><br><span class="line">  &lt;profile&gt;</span><br><span class="line">    &lt;activation&gt;</span><br><span class="line">      &lt;property&gt;</span><br><span class="line">        &lt;name&gt;debug&lt;&#x2F;name&gt;</span><br><span class="line">      &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;activation&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;&#x2F;profile&gt;</span><br><span class="line">&lt;&#x2F;profiles&gt;</span><br></pre></td></tr></table></figure>

<p>  The profile above will be activated when the system property “debug” is specified with <strong>any value</strong>.</p>
<p>  Or, you can specify it to be activated when the system property “debug” is <strong>not defined</strong>, or is defined with <strong>a value which is not “true”</strong>.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;profiles&gt;</span><br><span class="line">  &lt;profile&gt;</span><br><span class="line">    &lt;activation&gt;</span><br><span class="line">      &lt;property&gt;</span><br><span class="line">        &lt;name&gt;debug&lt;&#x2F;name&gt;</span><br><span class="line">        &lt;value&gt;!true&lt;&#x2F;value&gt;</span><br><span class="line">      &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;activation&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;&#x2F;profile&gt;</span><br><span class="line">&lt;&#x2F;profiles&gt;</span><br></pre></td></tr></table></figure>

<p>  The above can be activated by typing one of those on the command line:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mvn groupId:artifactId:goal</span><br><span class="line">mvn groupId:artifactId:goal -Ddebug&#x3D;false</span><br></pre></td></tr></table></figure></li>
<li><p>Triggered by a missing/present file</p>
<p>  This example will trigger the profile when the generated file <code>target/generated-sources/axistools/wsdl2java/org/apache/maven</code> is <strong>missing</strong>.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;profiles&gt;</span><br><span class="line">  &lt;profile&gt;</span><br><span class="line">    &lt;activation&gt;</span><br><span class="line">      &lt;file&gt;</span><br><span class="line">        &lt;missing&gt;target&#x2F;generated-sources&#x2F;axistools&#x2F;wsdl2java&#x2F;org&#x2F;apache&#x2F;maven&lt;&#x2F;missing&gt;</span><br><span class="line">      &lt;&#x2F;file&gt;</span><br><span class="line">    &lt;&#x2F;activation&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;&#x2F;profile&gt;</span><br><span class="line">&lt;&#x2F;profiles&gt;</span><br></pre></td></tr></table></figure>

<p>  Or you could <strong>switch the <code>&lt;missing&gt;</code> to <code>&lt;exists&gt;</code></strong> if you want to trigger the profile <strong>when that file is present</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> As of Maven 2.0.9, the tags <code>&lt;exists&gt;</code> and <code>&lt;missing&gt;</code> could be <strong>interpolated</strong>. <strong>Supported variables</strong> are system properties like <code>${user.home}</code> and environment variables like <code>${env.HOME}</code>. Please note that <strong>properties and values defined in the POM</strong> itself are <strong>not available</strong> for interpolation here</li>
</ul>
</blockquote>
</li>
</ul>
<p><a name="Profiles-in-POM-and-in-Settings"></a></p>
<h2 id="Profiles-in-POMs-and-in-Settings"><a href="#Profiles-in-POMs-and-in-Settings" class="headerlink" title="Profiles in POMs and in Settings"></a>Profiles in <code>POM</code>s and in <code>Settings</code></h2><ul>
<li><p>Profiles in external files (<code>settings.xml</code>)</p>
<p>  Profiles specified in external files (i.e in <code>settings.xml</code> or <code>profiles.xml</code>) are not portable in the strictest sense. Things like repository lists could simply be a proprietary repository of approved artifacts, and won’t change the outcome of the build. Therefore, you will <strong>only be able to modify</strong> </p>
<ul>
<li><code>&lt;repositories&gt;</code></li>
<li><code>&lt;pluginRepositories&gt;</code></li>
<li><code>&lt;properties&gt;</code></li>
</ul>
</li>
<li><p>Profiles in <code>POM</code>s</p>
<p>If your profiles can be reasonably specified inside the <code>POM</code>, you will have a better portability <strong>since these profiles are specified inline</strong>. Therefore, you have many more options as well. The <strong>trade-off</strong>, of course, is that you can <strong>only modify that project and it’s sub-modules</strong>.</p>
<p>  Profiles specified in the <code>POM</code> can modify the following <code>POM</code> elements:</p>
<ul>
<li><code>&lt;repositories&gt;</code></li>
<li><code>&lt;pluginRepositories&gt;</code></li>
<li><code>&lt;dependencies&gt;</code></li>
<li><code>&lt;plugins&gt;</code></li>
<li><code>&lt;properties&gt;</code> (not actually available in the main POM, but used behind the scenes)</li>
<li><code>&lt;modules&gt;</code></li>
<li><code>&lt;reporting&gt;</code></li>
<li><code>&lt;dependencyManagement&gt;</code></li>
<li><code>&lt;distributionManagement&gt;</code></li>
<li>a subset of the <code>&lt;build&gt;</code> element, which consists of:<ul>
<li><code>&lt;defaultGoal&gt;</code></li>
<li><code>&lt;resources&gt;</code></li>
<li><code>&lt;testResources&gt;</code></li>
<li><code>&lt;finalName&gt;</code></li>
<li><code>&lt;plugin&gt;</code>???</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you have conflicting profiles in both the <code>pom</code> file and the <code>settings.xml</code> file, take note that <strong>profiles in the <code>settings.xml</code> takes higher priority</strong> than profiles in the <code>POM</code>.</li>
</ul>
</blockquote>
<h2 id="Standard-Directory-Output"><a href="#Standard-Directory-Output" class="headerlink" title="Standard Directory Output"></a>Standard Directory Output</h2><p>Having a common directory layout would allow for users familiar with one Maven project to immediately feel at home in another Maven project. The following table documents the <strong>directory layout expected by Maven</strong> and the directory layout created by Maven. Please try to conform to this structure as much as possible; however, if you can’t these settings <strong>can be overridden via the project descriptor</strong>.</p>
<table>
<thead>
<tr>
<th>Directory</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>src/main/java</code></td>
<td>Application/Library sources</td>
</tr>
<tr>
<td><code>src/main/resources</code></td>
<td>Application/Library resources</td>
</tr>
<tr>
<td><code>src/main/filters</code></td>
<td>Resource filter files</td>
</tr>
<tr>
<td><code>src/main/webapp</code></td>
<td>Web application sources</td>
</tr>
<tr>
<td><code>src/test/java</code></td>
<td>Test sources</td>
</tr>
<tr>
<td><code>src/test/resources</code></td>
<td>Test resources</td>
</tr>
<tr>
<td><code>src/test/filters</code></td>
<td>Test resource filter files</td>
</tr>
<tr>
<td><code>src/it</code></td>
<td>Integration Tests (primarily for plugins)</td>
</tr>
<tr>
<td><code>src/assembly</code></td>
<td>Assembly descriptors</td>
</tr>
<tr>
<td><code>src/site</code></td>
<td>Site</td>
</tr>
<tr>
<td><code>LICENSE.txt</code></td>
<td>Project’s license</td>
</tr>
<tr>
<td><code>NOTICE.txt</code></td>
<td>Notices and attributions required by libraries that the project depends on</td>
</tr>
<tr>
<td><code>README.txt</code></td>
<td>Project’s readme</td>
</tr>
</tbody></table>
<p>This means that <strong>at the top level</strong>, we will have <strong>files descriptive of the project</strong>: a <code>pom.xml</code> file, and textual documents meant for the user to be able to read immediately on receiving the source: <code>README.txt</code>, <code>LICENSE.txt</code>, etc.</p>
<p>So there are just <strong>two subdirectories of this structure</strong>: <code>src</code> and <code>target</code>. The <strong>only other directories that would be expected</strong> here are metadata like <code>CVS</code>, <strong><code>.git</code></strong> or <code>.svn</code>, and any subprojects in a multiproject build (each of which would be laid out as above).</p>
<ul>
<li>The <code>src</code> directory contains <strong>all of the source material for building the project</strong>, its site and so on. It contains a subdirectory for each type: main for the main build artifact, test for the unit test code and resources, site and so on.</li>
<li>The <code>target</code> directory is used to house <strong>all output of the build</strong>.</li>
</ul>
<p>Also, it is important to see that, within artifact producing source directories (ie. main and test), <strong>there is one directory for the language java</strong> (under which the normal package hierarchy exists), and one for resources (the structure which is copied to the target classpath given the default resource definition). But <strong>if there are other contributing sources to the artifact build, they would be under other subdirectories</strong>: for example <code>src/main/antlr</code> would contain Antlr grammar definition files.</p>
<h2 id="Transitive-Dependency"><a href="#Transitive-Dependency" class="headerlink" title="Transitive Dependency"></a>Transitive Dependency</h2><p>Maven avoids the need to <strong>specify the libraries that your own dependencies require</strong> by including <strong>transitive dependencies</strong> automatically.</p>
<p>This feature is facilitated by <strong>reading the project files of your dependencies from the remote repositories specified</strong>. In general, <strong>all dependencies of those projects are used in your project</strong>, as are any that the project inherits from its parents, or from its dependencies, and so on.  A problem arises only if a cyclic dependency is discovered.</p>
<p>However, with transitive dependency, the graph of included libraries will grow quite large. Therefore, there are <strong>additional features that can be used to limit which dependencies are included</strong>:</p>
<ul>
<li>Dependency Mediation</li>
<li>Dependency Management</li>
<li>Dependency Scope</li>
<li>Dependency Exclusion</li>
<li>Optional Dependency</li>
</ul>
<h2 id="Dependency-Mediation"><a href="#Dependency-Mediation" class="headerlink" title="Dependency Mediation"></a>Dependency Mediation</h2><p>This determines <strong>what version of an artifact/dependency will be chosen</strong> when multiple versions are encountered as dependencies. By default, Maven picks the “nearest definition”. That is, it uses the version of the closest dependency to your project in the tree of dependencies. </p>
<p>However, you can always guarantee a version by declaring it <strong>explicitly in your project’s <code>POM</code></strong> (see section <a href="#Using-External-Dependency">Using External Dependency</a>). You basically need to add the following to your <code>POM</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;com.mycompany.app&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;myDependency&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;aSpecificVersion&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;scope&gt;compile&lt;&#x2F;scope&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>
<p>Or, you could use the <a href="#Dependency-Management">Dependency Management</a> in the section below.</p>
<p><a name="Dependency-Management"></a></p>
<h2 id="Dependency-Management"><a href="#Dependency-Management" class="headerlink" title="Dependency Management"></a>Dependency Management</h2><p>The dependency management section is a mechanism for <strong>centralizing dependency information</strong>. When you have a set of projects that inherit from a common parent, it’s possible to put all information about the dependency in the common POM and have simpler references to the artifacts in the child POMs.</p>
<ol>
<li>For example, you could use it to control the <strong>versions of the artifacts in a set of dependencies</strong>:</li>
</ol>
<p>If you have a parent Project A and child Project B:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># Project A</span><br><span class="line">&lt;project&gt;</span><br><span class="line"> &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"> &lt;groupId&gt;maven&lt;&#x2F;groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;A&lt;&#x2F;artifactId&gt;</span><br><span class="line"> &lt;packaging&gt;pom&lt;&#x2F;packaging&gt;</span><br><span class="line"> &lt;name&gt;A&lt;&#x2F;name&gt;</span><br><span class="line"> &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line"></span><br><span class="line"> &lt;dependencyManagement&gt;</span><br><span class="line">   &lt;dependencies&gt;</span><br><span class="line">     &lt;dependency&gt;</span><br><span class="line">       &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">       &lt;artifactId&gt;a&lt;&#x2F;artifactId&gt;</span><br><span class="line">       &lt;version&gt;1.2&lt;&#x2F;version&gt;</span><br><span class="line">     &lt;&#x2F;dependency&gt;</span><br><span class="line">     &lt;dependency&gt;</span><br><span class="line">       &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">       &lt;artifactId&gt;b&lt;&#x2F;artifactId&gt;</span><br><span class="line">       &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">       &lt;scope&gt;compile&lt;&#x2F;scope&gt;</span><br><span class="line">     &lt;&#x2F;dependency&gt;</span><br><span class="line">     &lt;dependency&gt;</span><br><span class="line">       &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">       &lt;artifactId&gt;c&lt;&#x2F;artifactId&gt;</span><br><span class="line">       &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">       &lt;scope&gt;compile&lt;&#x2F;scope&gt;</span><br><span class="line">     &lt;&#x2F;dependency&gt;</span><br><span class="line">     &lt;dependency&gt;</span><br><span class="line">       &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">       &lt;artifactId&gt;d&lt;&#x2F;artifactId&gt;</span><br><span class="line">       &lt;version&gt;1.2&lt;&#x2F;version&gt;</span><br><span class="line">     &lt;&#x2F;dependency&gt;</span><br><span class="line">   &lt;&#x2F;dependencies&gt;</span><br><span class="line"> &lt;&#x2F;dependencyManagement&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>at this point, if you have the following Project B configuration:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># Project B</span><br><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;parent&gt;</span><br><span class="line">    &lt;artifactId&gt;A&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;groupId&gt;maven&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;&#x2F;parent&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;maven&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;B&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;packaging&gt;pom&lt;&#x2F;packaging&gt;</span><br><span class="line">  &lt;name&gt;B&lt;&#x2F;name&gt;</span><br><span class="line">  &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;a&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;c&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>Then version of artifact <code>a</code> and <code>c</code> would be <code>1.2</code> and <code>1.0</code>, respectively. </p>
<p>However, if you have the following configuration:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># Project B</span><br><span class="line">&lt;project&gt;</span><br><span class="line">  &lt;parent&gt;</span><br><span class="line">    &lt;artifactId&gt;A&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;groupId&gt;maven&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">  &lt;&#x2F;parent&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;maven&lt;&#x2F;groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;B&lt;&#x2F;artifactId&gt;</span><br><span class="line">  &lt;packaging&gt;pom&lt;&#x2F;packaging&gt;</span><br><span class="line">  &lt;name&gt;B&lt;&#x2F;name&gt;</span><br><span class="line">  &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;a&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;scope&gt;runtime&lt;&#x2F;scope&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;c&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>Then you would have version of <code>1.0</code> for both <code>a</code> and <code>c</code>. Also, the <code>scope</code> of <code>a</code> would become <code>runtime</code></p>
<ol start="2">
<li>Now, consider reverse case where we have two children <code>POM</code>s, Project A and Project B, with the following configurations:</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># Project A:</span><br><span class="line"></span><br><span class="line">&lt;project&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;group-a&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;artifact-a&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;exclusions&gt;</span><br><span class="line">        &lt;exclusion&gt;</span><br><span class="line">          &lt;groupId&gt;group-c&lt;&#x2F;groupId&gt;</span><br><span class="line">          &lt;artifactId&gt;excluded-artifact&lt;&#x2F;artifactId&gt;</span><br><span class="line">        &lt;&#x2F;exclusion&gt;</span><br><span class="line">      &lt;&#x2F;exclusions&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;group-a&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;artifact-b&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;type&gt;bar&lt;&#x2F;type&gt;</span><br><span class="line">      &lt;scope&gt;runtime&lt;&#x2F;scope&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>and </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;group-c&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;artifact-b&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;type&gt;war&lt;&#x2F;type&gt;</span><br><span class="line">      &lt;scope&gt;runtime&lt;&#x2F;scope&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;group-a&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;artifact-b&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">      &lt;type&gt;bar&lt;&#x2F;type&gt;</span><br><span class="line">      &lt;scope&gt;runtime&lt;&#x2F;scope&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>We see that these two example <code>POM</code>s <strong>share a common dependency (<code>group-a</code> artifact <code>artifact-b</code>)</strong> and each has one non-trivial dependency. This <strong>information can be put in the parent <code>POM</code></strong> like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># created a parent POM</span><br><span class="line">&lt;project&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;dependencyManagement&gt;</span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;group-a&lt;&#x2F;groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;artifact-a&lt;&#x2F;artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line"> </span><br><span class="line">        &lt;exclusions&gt;</span><br><span class="line">          &lt;exclusion&gt;</span><br><span class="line">            &lt;groupId&gt;group-c&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;excluded-artifact&lt;&#x2F;artifactId&gt;</span><br><span class="line">          &lt;&#x2F;exclusion&gt;</span><br><span class="line">        &lt;&#x2F;exclusions&gt;</span><br><span class="line"> </span><br><span class="line">      &lt;&#x2F;dependency&gt;</span><br><span class="line"> </span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;group-c&lt;&#x2F;groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;artifact-b&lt;&#x2F;artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">        &lt;type&gt;war&lt;&#x2F;type&gt;</span><br><span class="line">        &lt;scope&gt;runtime&lt;&#x2F;scope&gt;</span><br><span class="line">      &lt;&#x2F;dependency&gt;</span><br><span class="line"> </span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;group-a&lt;&#x2F;groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;artifact-b&lt;&#x2F;artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">        &lt;type&gt;bar&lt;&#x2F;type&gt;</span><br><span class="line">        &lt;scope&gt;runtime&lt;&#x2F;scope&gt;</span><br><span class="line">      &lt;&#x2F;dependency&gt;</span><br><span class="line">    &lt;&#x2F;dependencies&gt;</span><br><span class="line">  &lt;&#x2F;dependencyManagement&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>Now, if the two children inherits the parent, we could simplify the children <code>POM</code>s:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># Project A</span><br><span class="line">&lt;project&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;group-a&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;artifact-a&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;group-a&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;artifact-b&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;!-- This is not a jar dependency, so we must specify type. --&gt;</span><br><span class="line">      &lt;type&gt;bar&lt;&#x2F;type&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>
<p>and </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># Project B</span><br><span class="line">&lt;project&gt;</span><br><span class="line">  ...</span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;group-c&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;artifact-b&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;!-- This is not a jar dependency, so we must specify type. --&gt;</span><br><span class="line">      &lt;type&gt;war&lt;&#x2F;type&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;group-a&lt;&#x2F;groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;artifact-b&lt;&#x2F;artifactId&gt;</span><br><span class="line">      &lt;!-- This is not a jar dependency, so we must specify type. --&gt;</span><br><span class="line">      &lt;type&gt;bar&lt;&#x2F;type&gt;</span><br><span class="line">    &lt;&#x2F;dependency&gt;</span><br><span class="line">  &lt;&#x2F;dependencies&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> In two of these dependency references, we had to specify the <code>&lt;type&gt;</code> element. This is because the <strong>minimal set of information for matching a dependency reference against a <code>&lt;dependencyManagement&gt;</code> section is actually <code>{groupId, artifactId, type, classifier}</code></strong>. In many cases, these dependencies will refer to <strong><code>jar</code> artifacts with no classifier</strong>. <strong>This allows us to shorthand the identity set to <code>{groupId, artifactId}</code></strong>. However, in other cases, we would need to include the <code>&lt;type&gt;</code> element.</li>
</ul>
</blockquote>
<h2 id="Difference-between-using-lt-dependency-gt-and-lt-dependencyManagement-gt"><a href="#Difference-between-using-lt-dependency-gt-and-lt-dependencyManagement-gt" class="headerlink" title="Difference between using &lt;dependency&gt; and &lt;dependencyManagement&gt;"></a>Difference between using <code>&lt;dependency&gt;</code> and <code>&lt;dependencyManagement&gt;</code></h2><ul>
<li>if you use <code>&lt;dependencies&gt;</code> in the parent <code>pom</code> and specify all the dependencies your chlidren will need, this will<ul>
<li>create a shorter child poms, as technically you don’t need to specify them again, unless you want to override something, like the <code>version</code>.</li>
<li>it means that <strong>those dependencies will ALWAYS be defined for ALL the child modules</strong>. </li>
</ul>
</li>
<li>if you use <code>&lt;dependencyManagement&gt;</code> in the parent <code>POM</code>, this will<ul>
<li>allow you to chose <strong>which child modules will have a dependency specified in th parent</strong>. If nothing/no dependency is specified in the children <code>POM</code>, then no dependency will be ensued.</li>
</ul>
</li>
</ul>
<h2 id="Dependency-Scope"><a href="#Dependency-Scope" class="headerlink" title="Dependency Scope"></a>Dependency Scope</h2><p>Dependency scope is used to limit the transitivity of a dependency, and also to affect the classpath used for various build tasks.</p>
<p>There are <strong>6 scopes available</strong>:</p>
<ul>
<li><code>compile</code> <ul>
<li>This is the default scope, used if none is specified. <strong>Compile dependencies are available in all classpaths of a project</strong>. Furthermore, those dependencies are <strong>propagated to dependent projects</strong>.</li>
</ul>
</li>
<li><code>provided</code><ul>
<li>This is much like compile, but indicates you <strong>expect the JDK or a container to provide the dependency at runtime</strong>. For example, when building a web application for the Java Enterprise Edition, you would <strong>set the dependency on the Servlet API and related Java EE APIs to scope <code>provided</code></strong> because the <strong>web container provides those classes</strong>. This scope is only available on the compilation and test classpath, and is <strong>not transitive</strong>.</li>
</ul>
</li>
<li><code>runtime</code><ul>
<li>This scope indicates that the dependency is <strong>not required for compilation</strong>, but is <strong>for execution</strong>. It is in the runtime and test classpaths, but not the compile classpath.</li>
</ul>
</li>
<li><code>test</code><ul>
<li>This scope indicates that the dependency is not required for normal use of the application, and is <strong>only available for the test compilation and execution phases</strong>. This scope is <strong>not transitive</strong>.</li>
</ul>
</li>
<li><code>system</code><ul>
<li>This scope is <strong>similar to <code>provided</code> except that you have to provide the JAR which contains it explicitly</strong>. The artifact is <strong>always available and is not looked up in a repository</strong>.</li>
</ul>
</li>
<li><code>import</code><ul>
<li>This scope is only supported on a dependency of type <code>pom</code> in the <code>&lt;dependencyManagement&gt;</code> section (see <a href="#Dependency-Management">Depedency Management</a>). It indicates the <strong>dependency to be replaced with the effective list of dependencies in the specified POM’s <code>&lt;dependencyManagement&gt;</code> section</strong>. Since they are replaced, dependencies with a scope of import do not actually participate in limiting the transitivity of a dependency.</li>
</ul>
</li>
</ul>
<p>However, each of the scopes (except for <code>import</code>) <strong>affects transitive dependencies in different ways</strong>, as is demonstrated in the table below. </p>
<p>If a <strong>parent dependency</strong> is set to the scope in the <strong>left column</strong>, <strong>transitive dependencies of the child dependency</strong> with the <strong>scope across the top row</strong> <strong>will result in a dependency in the main project with the scope listed at the intersection</strong>. If no scope is listed, it means the dependency will be omitted.</p>
<table>
<thead>
<tr>
<th>-</th>
<th>compile</th>
<th>provided</th>
<th>runtime</th>
<th>test</th>
</tr>
</thead>
<tbody><tr>
<td><strong>compile</strong></td>
<td>compile(*)</td>
<td>-</td>
<td>runtime</td>
<td>-</td>
</tr>
<tr>
<td><strong>provided</strong></td>
<td>provided</td>
<td>-</td>
<td>provided</td>
<td>-</td>
</tr>
<tr>
<td><strong>runtime</strong></td>
<td>runtime</td>
<td>-</td>
<td>runtime</td>
<td>-</td>
</tr>
<tr>
<td><strong>test</strong></td>
<td>test</td>
<td>-</td>
<td>test</td>
<td>-</td>
</tr>
</tbody></table>
<h2 id="Importing-Dependencies"><a href="#Importing-Dependencies" class="headerlink" title="Importing Dependencies"></a>Importing Dependencies</h2><p>The examples in the previous section describe how to specify managed dependencies through inheritance. However, in larger projects it may be impossible to accomplish this <strong>since a project can only inherit from a single parent</strong>. To accommodate this, projects can <strong>import managed dependencies from other projects</strong>. This is accomplished by declaring a <code>pom</code> artifact as a dependency with a scope of <code>import</code>.</p>
<p>Consider the case of a <code>POM</code> file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># Project X</span><br><span class="line">&lt;project&gt;</span><br><span class="line"> &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line"> &lt;groupId&gt;maven&lt;&#x2F;groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;X&lt;&#x2F;artifactId&gt;</span><br><span class="line"> &lt;packaging&gt;pom&lt;&#x2F;packaging&gt;</span><br><span class="line"> &lt;name&gt;X&lt;&#x2F;name&gt;</span><br><span class="line"> &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line"> </span><br><span class="line"> &lt;dependencyManagement&gt;</span><br><span class="line">   &lt;dependencies&gt;</span><br><span class="line">     &lt;dependency&gt;</span><br><span class="line">       &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">       &lt;artifactId&gt;a&lt;&#x2F;artifactId&gt;</span><br><span class="line">       &lt;version&gt;1.1&lt;&#x2F;version&gt;</span><br><span class="line">     &lt;&#x2F;dependency&gt;</span><br><span class="line"></span><br><span class="line">     &lt;dependency&gt;</span><br><span class="line">       &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">       &lt;artifactId&gt;b&lt;&#x2F;artifactId&gt;</span><br><span class="line">       &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">       &lt;scope&gt;compile&lt;&#x2F;scope&gt;</span><br><span class="line">     &lt;&#x2F;dependency&gt;</span><br><span class="line">   &lt;&#x2F;dependencies&gt;</span><br><span class="line"> &lt;&#x2F;dependencyManagement&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>Then if you would like another project that is not its child to have the <strong><code>&lt;dependencyManagement&gt;</code> configured the same way</strong>, then you would do this:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">    &lt;groupId&gt;com.sample&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;project1&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">    &lt;packaging&gt;jar&lt;&#x2F;packaging&gt;</span><br><span class="line"></span><br><span class="line">	&lt;dependencyManagement&gt;</span><br><span class="line">	        &lt;dependencies&gt;</span><br><span class="line">	            &lt;!-- Imports the bill-of-materials POM. --&gt;</span><br><span class="line">	            &lt;dependency&gt;</span><br><span class="line">	                &lt;groupId&gt;maven&lt;&#x2F;groupId&gt;</span><br><span class="line">	                &lt;artifactId&gt;X&lt;&#x2F;artifactId&gt;</span><br><span class="line">	                &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">	                &lt;type&gt;pom&lt;&#x2F;type&gt;</span><br><span class="line">	                &lt;scope&gt;import&lt;&#x2F;scope&gt;</span><br><span class="line">	            &lt;&#x2F;dependency&gt;</span><br><span class="line">	        &lt;&#x2F;dependencies&gt;</span><br><span class="line">	&lt;&#x2F;dependencyManagement&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>If you would like that project to <strong>use the <code>&lt;dependencies&gt;</code> directly</strong> that is specified in the configurations of Project X, then you would do this:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;</span><br><span class="line">    &lt;groupId&gt;com.sample&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;project1&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;</span><br><span class="line">    &lt;packaging&gt;jar&lt;&#x2F;packaging&gt;</span><br><span class="line"></span><br><span class="line">	&lt;dependencyManagement&gt;</span><br><span class="line">	        &lt;dependencies&gt;</span><br><span class="line">	            &lt;!-- Imports the bill-of-materials POM. --&gt;</span><br><span class="line">	            &lt;dependency&gt;</span><br><span class="line">	                &lt;groupId&gt;maven&lt;&#x2F;groupId&gt;</span><br><span class="line">	                &lt;artifactId&gt;X&lt;&#x2F;artifactId&gt;</span><br><span class="line">	                &lt;version&gt;1.0&lt;&#x2F;version&gt;</span><br><span class="line">	                &lt;type&gt;pom&lt;&#x2F;type&gt;</span><br><span class="line">	                &lt;scope&gt;import&lt;&#x2F;scope&gt;</span><br><span class="line">	            &lt;&#x2F;dependency&gt;</span><br><span class="line">	        &lt;&#x2F;dependencies&gt;</span><br><span class="line">	&lt;&#x2F;dependencyManagement&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;!-- Add a dependency from the BOM POM.</span><br><span class="line">        Note: no version or scope is required, it&#39;s inherited from the BOM POM! --&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;test&lt;&#x2F;groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;a&lt;&#x2F;artifactId&gt;</span><br><span class="line">        &lt;&#x2F;dependency&gt;</span><br><span class="line">    &lt;&#x2F;dependencies&gt;</span><br><span class="line">&lt;&#x2F;project&gt;</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/22/Apache-Manual-md/" data-id="ckai5yba00000ssorfsxh613e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Git-Summary" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/20/Git-Summary/" class="article-date">
  <time datetime="2020-05-20T12:46:25.000Z" itemprop="datePublished">2020-05-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/20/Git-Summary/">Git Manual</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Git-Intro"><a href="#Git-Intro" class="headerlink" title="Git Intro"></a>Git Intro</h2><ul>
<li>Version Control<ul>
<li>Version control is a <strong>system</strong> that records and manages changes for a file or a set of file, so that you could later revert those changes if needed</li>
</ul>
</li>
<li>Why Version Control<ul>
<li>Many default version-control method of choice is to simply copy files into another directory, and renaming them somehow to keep track of the changes</li>
<li>however, this could be inconvenient and error prone</li>
</ul>
</li>
<li>Solutions<ul>
<li>One of the most popular <strong>VCS</strong> tools was a system called <strong>RCS</strong>, which is still distributed with many computers today. <strong>RCS</strong> works by <strong>keeping patch sets</strong> (that is, the differences between files) <strong>in a special format on disk</strong>; it can then re-create what any file looked like at any point in time by adding up all the patches.<ul>
<li><em>Problem</em><ul>
<li>The next major issue that people encounter is that they need to collaborate with developers on other systems.</li>
</ul>
</li>
</ul>
</li>
<li>Centralized Version Control Systems (<strong>CVCSs</strong>) were developed as a solution to the problem above. These systems (such as CVS, Subversion, and Perforce) have <strong>a single server that contains all the versioned files</strong>, and <strong>a number of clients that check out files from that central place</strong>. For many years, this has been the standard for version control.<ul>
<li><em>Advantages</em><ul>
<li>everyone knows to a certain degree what everyone else on the project is doing. Administrators have fine-grained control over who can do what, and it’s far easier to administer a CVCS than it is to deal with local databases on every client.</li>
</ul>
</li>
<li><em>Problems</em><ul>
<li>If that server goes down for an hour, then during that hour nobody can collaborate at all or save versioned changes to anything they’re working on. If the hard disk the central database is on becomes corrupted, and proper backups haven’t been kept, you lose absolutely everything — the entire history of the project except whatever single snapshots people happen to have on their local machines.</li>
</ul>
</li>
</ul>
</li>
<li>Here Distributed Version Control Systems (<strong>DVCSs</strong>) step in. In a DVCS (such as Git, Mercurial, Bazaar or Darcs), clients don’t just check out the latest snapshot of the files; rather, they <strong>fully mirror the repository, including its full history</strong>. Thus, if any server dies, and these systems were collaborating via that server, <strong>any of the client repositories can be copied back up to the server to restore it</strong>. Every clone is really a full backup of all the data.<ul>
<li><em>Advantages</em><ul>
<li>you can collaborate with different groups of people in different ways simultaneously within the same project. This allows you to set up several types of workflows that aren’t possible in centralized systems, such as hierarchical models.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Git-Setup"><a href="#Git-Setup" class="headerlink" title="Git Setup"></a>Git Setup</h2><h2 id="Getting-Help-in-Git"><a href="#Getting-Help-in-Git" class="headerlink" title="Getting Help in Git"></a>Getting Help in Git</h2><p>To get more information about a command in Git, use any of the three below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git help &lt;verb&gt;</span><br><span class="line">$ git &lt;verb&gt; --help</span><br><span class="line">$ man git-&lt;verb&gt;</span><br></pre></td></tr></table></figure>
<p>It is recommended to use <code>git &lt;verb&gt; --help</code> because it sticks to the pattern of command line code. For example, for a quick refresher on the available options for a Git command, you do <code>git &lt;verb&gt; -h</code></p>
<ul>
<li><em>Notice</em><ul>
<li>Those commands are accessible even offline</li>
</ul>
</li>
</ul>
<h2 id="Git-Basics"><a href="#Git-Basics" class="headerlink" title="Git Basics"></a>Git Basics</h2><ul>
<li><p><strong>Getting a Git Repository</strong><br>This can be done in two ways</p>
<ol>
<li>take a local directory that is currently <strong>not under version control</strong> and turn it into a Git repository</li>
<li><code>clone</code> an existing Git repository from elsewhere</li>
</ol>
<p>Then you will end up with a Git repo on your local machine</p>
</li>
</ul>
<ol>
<li><p>To do achieve the <strong>first option</strong>, you need to first go to the project directory (for Windows):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd your_path</span><br></pre></td></tr></table></figure>
<p>Then type:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br></pre></td></tr></table></figure>
<p>This creates a new subdirectory named <strong>.git</strong> that contains all of your necessary repository files — a Git repository skeleton. At this point, <strong>nothing in your project is tracked yet</strong>.</p>
<p>To start version-controlling, you need to <code>git add</code> your file that you need to control, and then <code>git commit</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add yourFile1</span><br><span class="line">$ git add yourFile2</span><br><span class="line">$ git commit -m &#39;Initial project version&#39;</span><br></pre></td></tr></table></figure></li>
<li><p>To achieve the <strong>second option</strong>, for example, a project you’d like to contribute to — the command you need is <code>git clone</code>, so that Git receives <strong>a full copy of nearly all data that the server has</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone &lt;url&gt;</span><br></pre></td></tr></table></figure>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;libgit2&#x2F;libgit2 mylibgit</span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li><p><em>Notice</em></p>
<ul>
<li>you can <code>clone</code> a <strong>Git linkable library</strong> only</li>
<li>The above command will <strong>create a directory named libgit2</strong> under the <strong>current directory</strong>, initializes a .git directory inside it, pulls down all the data for that repository, and checks out a working copy of the latest version. </li>
<li>Git has a number of <strong>different transfer protocols you can use</strong>. The previous example uses the <code>https://</code> protocol, but you may also see <code>git://</code> or <code>user@server:path/to/repo.git</code>, which uses the SSH transfer protocol.</li>
</ul>
<p>If you want to <strong>clone the repository into a directory named something other than libgit2</strong>, you can specify the new directory name as an additional argument:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;libgit2&#x2F;libgit2 customizedName</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Recording-Changes"><a href="#Recording-Changes" class="headerlink" title="Recording Changes"></a>Recording Changes</h2><p>Typically, you’ll want to <strong>start making changes</strong> and <strong>committing snapshots of those changes</strong> (i.e. recording/saving those changes) into your repository each time the project reaches a state you want to record.</p>
<p>As you edit files, Git sees them as <strong>modified</strong>, because you’ve changed them since your last commit. As you work, you selectively <strong>stage these modified files</strong> and then <strong>commit/save all those staged changes</strong>, and the cycle repeats.</p>
<ul>
<li><em>Note</em><ul>
<li>Not all files under the directory will be <strong>tracked</strong>, and only <strong>tracked</strong> files will Git know about</li>
<li>once you <code>git add</code> to start your file to start tracking. Then it will be <strong>snapedshotted</strong> if you then call <code>git commit</code></li>
</ul>
</li>
</ul>
<h2 id="Checking-File-Status"><a href="#Checking-File-Status" class="headerlink" title="Checking File Status"></a>Checking File Status</h2><p>The main tool you use to <strong>determine which files are in which state</strong> is the <code>git status</code> command. </p>
<p>For example, if you see:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Your branch is up-to-date with &#39;origin&#x2F;master&#39;.</span><br><span class="line">nothing to commit, working directory clean</span><br></pre></td></tr></table></figure>
<p>A <strong>clean working directory</strong> means <strong>none of your tracked files are modified</strong>.</p>
<ul>
<li><em>Note</em><ul>
<li>this command can also show <strong>untracked</strong> files under the <strong>current directory</strong></li>
<li>if you want to <strong>start tracking</strong> those, you can call <code>git add fileNeedsToBeTracked</code></li>
</ul>
</li>
</ul>
<h2 id="Modifying-a-Tracked-File"><a href="#Modifying-a-Tracked-File" class="headerlink" title="Modifying a Tracked File"></a>Modifying a Tracked File</h2><p>There are three status that a tracked file can be at <strong>after being modified</strong>:</p>
<ol>
<li><strong>Unstaged and uncomitted</strong><ul>
<li>This happens <strong>right after</strong> you have <strong>modified a tracked file</strong>. At this point, if you did not call <code>git add thatFile</code> again, Git will only know about the previous checkpoint.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line">        modified:   firstFile.txt</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>Staged but uncommitted</strong><ul>
<li>This happens when you have modified a tracked file and called <code>git add thatFile</code>. Now, <strong>Git knows about it and it is thrown into the staging area</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span><br><span class="line">        new file:   LICENSE</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>Staged and committed</strong><ul>
<li>This happens when you call <code>git commit yourFile</code>, so that the <strong>changes move from the stanging area to be saved in your local repository</strong></li>
</ul>
</li>
</ol>
<h2 id="Difference-between-git-add-and-git-commit"><a href="#Difference-between-git-add-and-git-commit" class="headerlink" title="Difference between git add and git commit"></a>Difference between <code>git add</code> and <code>git commit</code></h2><ul>
<li><strong><em>Q: why add and commit as two functions? They seem to be two repeated checkpoint procedures.</em></strong></li>
</ul>
<p>The <code>git add</code> command adds a <strong>change in the working directory to the staging area</strong>. It tells Git that you want to include updates to a particular file in the next commit. However, <code>git add</code> doesn’t really affect the repository in any significant way—changes are not actually recorded until you run git commit.</p>
<p>The command <code>git commit</code> takes <strong>all changes in the Staging Area</strong>, wraps them together and** puts them in your Local Repository<strong>. A commit is simply a checkpoint telling git to track all changes that have occurred up to this point using our last commit as a comparison. **After committing, your Staging Area will be empty</strong>.</p>
<h2 id="Abbreviated-version-for-git-status"><a href="#Abbreviated-version-for-git-status" class="headerlink" title="Abbreviated version for git status"></a>Abbreviated version for <code>git status</code></h2><p>To quickly view which file is at which status, you can execute <code>git status -s</code> to see <strong>each file under the current directory with their status</strong></p>
<p>For example, you could see</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MM LICENSE.txt</span><br><span class="line">AM README.md</span><br><span class="line">M  firstFile.txt</span><br><span class="line">A  justTracked.txt</span><br><span class="line">?? unTracked.txt</span><br></pre></td></tr></table></figure>
<ul>
<li><code>A</code> stands for files just added after <strong>.git</strong> existed or <code>git init</code> was called</li>
<li><code>M</code> stands for files being modified<ul>
<li>a green <code>M</code> (at position 0) means it is <strong>modified and staged</strong></li>
<li>a red <code>M</code> (at position 1, if there is) means it is <strong>modified but unstaged</strong></li>
</ul>
</li>
<li><code>??</code> stands for files <strong>not being tracked</strong> by Git</li>
</ul>
<ul>
<li>[x]<em>Note</em><ul>
<li>Although it is not shown above, but the first letter will be green, and if there is a second letter, it will be red.</li>
</ul>
</li>
</ul>
<h2 id="Ignoring-Files"><a href="#Ignoring-Files" class="headerlink" title="Ignoring Files"></a>Ignoring Files</h2><p>A <strong>gitignore file</strong> specifies intentionally <strong>untracked files</strong> that Git should ignore. Files already tracked by Git are not affected.</p>
<p><strong>Each line in a gitignore file</strong> specifies a pattern. When deciding whether to ignore a path, Git normally checks gitignore patterns from multiple sources, with the following order of precedence, from highest to lowest.</p>
<ol>
<li>First, you need to have/create a <strong>.gitignore</strong> file under the repository. This can be simply done by <code>touch .gitignore</code></li>
<li>Then, you need to add texts to that file to specify rules for ignoring files. This can be done by <code>cat &gt;&gt; .gitgnore</code>, where <code>&gt;&gt;</code> means append. Then you press enter and start typing texts/rules, and when you finish, enter <code>Ctrl-D</code> to save.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt;&gt; .gitignore</span><br><span class="line">unTracked.txt</span><br><span class="line">*.[oa]</span><br><span class="line">*~</span><br></pre></td></tr></table></figure>
(alternatively, you could use <code>&gt;</code> instead of <code>&gt;&gt;</code>, which will override the content)<br>Now, since <strong>unTracked.txt</strong> was not tracked, it will be ignored and <strong>will not appear</strong> if you execute <code>git status</code></li>
</ol>
<ul>
<li><em>Note</em><ul>
<li><code>*</code> matches anything except a slash</li>
<li><code>?</code> matches any one character except “/“</li>
<li><code>[a-zA-Z]</code>is the range notation, which can be used to match <strong>one of the characters</strong> in a range.</li>
<li><code>!</code> negates a pattern. Put a backslash <code>\</code> in front of the first <code>!</code> for patterns that begin with a literal <code>!</code>, for example, <code>\!important.txt</code></li>
<li><code>**/someDirectory</code> means match in all directories named [someDirectory]. For example, <code>**/foo</code> matches file or directory “foo” anywhere</li>
<li><code>someDirectory/**</code> matches everything <strong>inside [someDirectory]</strong>. For example, <code>abc/**</code> matches all files inside directory [abc], relative to the location of the [.gitignore] file</li>
<li><code>someDirectory/**/otherDirectory</code> matches neted directories between [someDirectory] and [otherDirectory]</li>
</ul>
</li>
</ul>
<h2 id="Knowing-the-Modifications"><a href="#Knowing-the-Modifications" class="headerlink" title="Knowing the Modifications"></a>Knowing the Modifications</h2><ol>
<li><p>By just executing <code>git diff</code> will compare what is in your <strong>working directory</strong> with what is in your <strong>staging area</strong>. The result tells you the <strong>changes you’ve made that you haven’t yet staged</strong>.</p>
<p>For example:  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br><span class="line">warning: LF will be replaced by CRLF in firstFile.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br><span class="line">diff --git a&#x2F;firstFile.txt b&#x2F;firstFile.txt</span><br><span class="line">index 640bb73..caada99 100644</span><br><span class="line">--- a&#x2F;firstFile.txt</span><br><span class="line">+++ b&#x2F;firstFile.txt</span><br><span class="line">@@ -1,3 +1,5 @@</span><br><span class="line"> hello</span><br><span class="line"> hello</span><br><span class="line"> hello</span><br><span class="line">+</span><br><span class="line">+aa</span><br></pre></td></tr></table></figure>
<p>The <code>+</code> and <code>+aa</code> lines in the end means those are the lines added to the file, but <strong>not being staged yet.</strong></p>
</li>
<li><p>By executing <code>git diff --staged</code> will compare changes of the files between the <strong>staged</strong> state and the <strong>last edited</strong> state.</p>
<p>For example:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git diff --staged</span><br><span class="line">diff --git a&#x2F;firstFile.txt b&#x2F;firstFile.txt</span><br><span class="line">index e69de29..640bb73 100644</span><br><span class="line">--- a&#x2F;firstFile.txt</span><br><span class="line">+++ b&#x2F;firstFile.txt</span><br><span class="line">@@ -0,0 +1,3 @@</span><br><span class="line">+hello</span><br><span class="line">+hello</span><br><span class="line">+hello</span><br></pre></td></tr></table></figure>
<p>Notice that the last two lines <code>+</code> and <code>+aa</code> are not present.</p>
</li>
</ol>
<h2 id="Committing-Changes"><a href="#Committing-Changes" class="headerlink" title="Committing Changes"></a>Committing Changes</h2><p>Now if you want to commit to those changes, you can execute <code>git commit</code>. However, this will <strong>only commit changes that are staged</strong>, so <strong>modified yet unstaged</strong> changes will not be recorded.</p>
<p>After executing <code>git commit</code>, it will bring up your editor of choice, which can be chosen when you setup your Git.</p>
<p>For example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git commit</span><br><span class="line">[master 2031fb7] first commit made</span><br><span class="line"> 4 files changed, 11 insertions(+)</span><br><span class="line"> create mode 100644 LICENSE.txt</span><br><span class="line"> create mode 100644 README.md</span><br><span class="line"> create mode 100644 justTracked.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><em>Note</em><ul>
<li>the <strong>first line will be intentionally made blank</strong>, which is for you to write/describe what has been changed.</li>
<li>you can use the command <code>git commit -v</code> to also have the <strong>difference shown in the editor</strong> as well, so you know exactly what you have done</li>
<li>for a quick commit, you can do <code>git commit -m &quot;yourMessageHere&quot;</code>, which finishes the commit without even opening the editor</li>
<li>you also see which <strong>branch you committed to</strong> (<code>master</code>), what <strong>SHA-1 checksum</strong> the commit has (<code>2031fb7</code>)</li>
</ul>
</li>
</ul>
<p>After you have made a commmit, <strong>all the tracked file will not appear</strong> if you execute <code>git status -s</code></p>
<h2 id="Committing-and-Skipping-the-Staging"><a href="#Committing-and-Skipping-the-Staging" class="headerlink" title="Committing and Skipping the Staging"></a>Committing and Skipping the Staging</h2><p> If you want to skip the staging area, Git provides a simple shortcut. Adding the <code>-a</code> option to the <code>git commit</code> command makes Git automatically <strong>stage every file that is already tracked</strong> before doing the commit, letting you skip the <code>git add</code> part.</p>
<p>Though this is convenient, but be careful; sometimes this flag will cause you to include unwanted changes.</p>
<h2 id="Removing-Tracked-File-Untracking-File"><a href="#Removing-Tracked-File-Untracking-File" class="headerlink" title="Removing Tracked File/ Untracking File"></a>Removing Tracked File/ Untracking File</h2><ul>
<li><p>If you want to <strong>remove a tracked file</strong>, meaning you want to delete the file, you need to execute <code>git rm yourFile</code>. This will:</p>
<ol>
<li>remove the file from the <strong>current working directory</strong></li>
<li>remove the file from the <strong>staging area</strong></li>
</ol>
<p>Now, the <strong>next time you commit</strong>, it will be <strong>no longer tracked</strong> by Git since it will be completely removed.</p>
</li>
<li><p>If you want to <strong>untrack a tracked file</strong>, you execute <code>git rm --cached yourFile</code>. This will keep the file in your directory, but removed from the Git.</p>
<p>Now, same as before, you will still need to execute <code>git commit</code> to complete the removal from the Git</p>
</li>
</ul>
<h2 id="Renaming-a-File"><a href="#Renaming-a-File" class="headerlink" title="Renaming a File"></a>Renaming a File</h2><p>If you rename a file, and wants it still being tracked by Git properly, you should do<br><code>git mv myFile myNewFile</code></p>
<p>Now, if you call <code>git status</code>, you will see:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git mv README.md README</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Your branch is up-to-date with &#39;origin&#x2F;master&#39;.</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line">    renamed:    README.md -&gt; README</span><br></pre></td></tr></table></figure>

<p>This is also equivalent of doing seperately three lines:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mv README.md README</span><br><span class="line">$ git rm README.md</span><br><span class="line">$ git add README</span><br></pre></td></tr></table></figure>

<h2 id="Viewing-Commits"><a href="#Viewing-Commits" class="headerlink" title="Viewing Commits"></a>Viewing Commits</h2><p>You can see all commits in a repo by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log</span><br></pre></td></tr></table></figure>
<p>By default, with no arguments, <code>git log</code> lists the commits made in that repository in <strong>reverse chronological order</strong></p>
<ul>
<li><p>Useful options for <code>git log</code></p>
<ul>
<li><p><code>git log -p -2</code> will display <strong>2 most recent commits</strong>, and also showing the <strong>patches/changes made</strong></p>
</li>
<li><p><code>git log --stat</code> helps you quickly browse what happened during a series of commits that a collaborator has added. It will show additional information such as: <strong>a list of modified files</strong>, <strong>how many files were changed</strong>, and <strong>how many lines in those files were added and removed</strong>. It also puts a <strong>summary of the information at the end</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ git log --stat</span><br><span class="line">commit cae63d011d113c1d45818de4bec434216e10e9ef (HEAD -&gt; master)</span><br><span class="line">Author: Xiao Yu &lt;jasonyux17@gmail.com&gt;</span><br><span class="line">Date:   Wed May 20 10:59:55 2020 +0800</span><br><span class="line"></span><br><span class="line">    tested git file removal and untracking</span><br><span class="line"></span><br><span class="line"> firstFile.txt   | 6 ------</span><br><span class="line"> justTracked.txt | 0</span><br><span class="line"> 2 files changed, 6 deletions(-)</span><br><span class="line"></span><br><span class="line">commit 0e6428a6389d7748a0da2f0798be94999ce8c248</span><br><span class="line">Author: Xiao Yu &lt;jasonyux17@gmail.com&gt;</span><br><span class="line">Date:   Wed May 20 10:34:31 2020 +0800</span><br><span class="line"></span><br><span class="line">    second commit made</span><br><span class="line"></span><br><span class="line"> firstFile.txt | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line">commit 2031fb7fd0a90cf62d1c13d7cfb972e1ce10ad30</span><br><span class="line">Author: Xiao Yu &lt;jasonyux17@gmail.com&gt;</span><br><span class="line">Date:   Wed May 20 10:28:14 2020 +0800</span><br><span class="line"></span><br><span class="line">    first commit made</span><br><span class="line"></span><br><span class="line"> LICENSE.txt     | 5 +++++</span><br></pre></td></tr></table></figure></li>
<li><p><code>git log --pretty=oneline</code> This option <strong>changes the log output to formats</strong> other than the default. A few prebuilt options are available for you to use. The <code>oneline</code> option <strong>prints each commit on a single line</strong>, which is useful if you’re looking at a lot of commits.</p>
</li>
<li><p><code>git log --pretty=format:&quot;%h - %an, %ar : %s&quot;</code> This is customizing the format of the commit output. For example,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty&#x3D;format:&quot;%h - %an - %ar, commit: %s&quot;</span><br><span class="line">cae63d0 - Xiao Yu - 23 minutes ago, commit: tested git file removal and untracking</span><br><span class="line">0e6428a - Xiao Yu - 49 minutes ago, commit: second commit made</span><br><span class="line">2031fb7 - Xiao Yu - 55 minutes ago, commit: first commit made</span><br><span class="line">75d2c61 - Xiao Yu - 18 hours ago, commit: Initial project version</span><br></pre></td></tr></table></figure>
<p>So we can have options such as:</p>
<ul>
<li><code>%h</code> Abbreviated commit hash</li>
<li><code>%an</code> author name</li>
<li><code>%ar</code> author date, relative to now</li>
<li><code>%s</code> subject/commit message</li>
</ul>
</li>
<li><p><code>git log --since=&quot;2008-10-01&quot;</code> Limit the commits to those made after the specified date. You can also put “2.weeks” or “2 years 1 day 3 minutes ago”</p>
</li>
<li><p><code>git log --before=&quot;2008-10-01&quot;</code> Limit the commits to those made before the specified date.</p>
</li>
<li><p><code>git log --author=&quot;Xiao Yu&quot;</code> Only show commits in which the author entry matches the specified string.</p>
</li>
<li><p><code>git log --committer=&quot;Xiao Yu&quot;</code> Only show commits in which the committer entry matches the specified string.</p>
</li>
<li><p><code>git log --no-merges</code> to prevent the display of merge commits cluttering up your log history, which usually are not informative</p>
</li>
</ul>
</li>
</ul>
<h2 id="Changing-your-Staging"><a href="#Changing-your-Staging" class="headerlink" title="Changing your Staging"></a>Changing your Staging</h2><ol>
<li><p>If you forget to do some small changes, but you have just committed, you can easily “re-commit” by</p>
<ul>
<li>first make those additional changes you forgot</li>
<li>then <strong>stage them</strong></li>
<li>then <strong>committ again</strong> using <code>git commit --amend</code> to automatically include the new changes <strong>into the previous commit</strong></li>
</ul>
</li>
<li><p>If you want to “re-stage” a file for making additional changes, you use <code>git restore --staged &lt;file&gt;</code>. In fact, this adviced by the command <code>git status</code> as well:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span><br><span class="line">        modified:   README.md</span><br></pre></td></tr></table></figure>
<p>Now, the file [README.md] is unstaged and you can add changes to it and restage.</p>
</li>
</ol>
<h2 id="Changing-Undoing-your-Commit"><a href="#Changing-Undoing-your-Commit" class="headerlink" title="Changing/Undoing your Commit"></a>Changing/Undoing your Commit</h2><p>If you want to <strong>revert the file to its previous committed state</strong> (you cannot revert to those added state),  you have several options to do. You could:</p>
<ol>
<li><p>Run <code>git restore &lt;file&gt;</code>. In fact, this is also adviced by the command <code>git status</code> <strong>if the file is in the unstaged area</strong>. It is usually used for <strong>restoring files in the working tree from either the index or another commit</strong>. This command <strong>does not update your branch</strong>.</p>
</li>
<li><p>Run <code>git reset &lt;commit-id&gt;</code> is about <strong>updating your branch, moving the tip</strong> in order to add or remove commits from the branch</p>
</li>
<li><p>Run <code>git revert</code> which <strong>creates a new commit that undoes the changes from a previous commit</strong>. This command <strong>adds new history to the project</strong> (it doesn’t modify existing history).</p>
</li>
<li><p>Run <code>git checkout &lt;commit-id&gt;</code>. This is the most conservative and prefered by myself. It <strong>first move the HEAD to that commit</strong>, so that you can view changes at that point. However, this will make the <strong>HEAD DETACHED</strong>, because it <strong>does not follow any branch</strong> (in fact, Git will create a temporary branch for you, which will disappear once you switch to other branches), which means that if you do some changes here, they <strong>will not be visible once <code>checkout</code> to other branches</strong>. Therefore, now you will need to run <code>git branch -b &lt;yourBranchName&gt;</code> to create a branch <strong>and attach this <code>DETACHED HEAD</code> to that branch</strong>. Now, everything will be saved if you move around and switch bewteen branches.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you use the <code>restore</code> command, <strong>any local changes you made to that file are gon</strong>e — Git just <strong>replaced that file with the most recently-committed version</strong>. Don’t ever use this command unless you absolutely know that you don’t want those unsaved local changes.</li>
</ul>
</blockquote>
<p> If you would like to <strong>keep the changes</strong> you’ve made to that file but <strong>still need to get it out of the way for now</strong>, we’ll go over stashing and branching in <a href="#Git-Branching">Git Branching</a>; these are generally better ways to go.</p>
</li>
</ol>
<h2 id="Working-with-Remotes"><a href="#Working-with-Remotes" class="headerlink" title="Working with Remotes"></a>Working with Remotes</h2><p>To be able to collaborate on any Git project, you need to know how to <strong>manage your remote repositories</strong>. Remote repositories are <strong>versions of your project that are hosted on the Internet or network somewhere</strong>. Managing these remote repositories involves <strong>pushing and pulling data to and from them</strong> when you need to share work.</p>
<ul>
<li>To show the remote server for repo in the current  directory, you can execute <code>git remote</code>, or <code>git remote -v</code> to see the URLs stored as well.</li>
<li>To add a remote server, you can execute <code>git remote add &lt;shortname&gt; &lt;url&gt;</code>, which will configure the <strong>shortname/nickname</strong> for that repo. Then you can <strong>use that shortname to access that repo</strong>.<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> You can only add remote repo in an existing repo</li>
<li><input disabled type="checkbox"> Executing <code>git clone &lt;url&gt;</code> will give you a default shortname of <code>origin</code></li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="Difference-between-git-clone-and-git-remote-add"><a href="#Difference-between-git-clone-and-git-remote-add" class="headerlink" title="Difference between git clone and git remote add"></a>Difference between <code>git clone</code> and <code>git remote add</code></h2><ul>
<li><p><code>git remote add</code> just creates an entry in your git config that specifies a name for a particular URL. You must have an existing git repo to use this. You will not see a folder or any file from that repo. To get them, you need to use <code>git pull &lt;shortname&gt; &lt;branch&gt;</code></p>
</li>
<li><p><code>git clone</code> creates a new git repository by copying an existing one located at the URL you specify. This will be physical.</p>
</li>
</ul>
<h2 id="Fetching-and-Pulling-from-Remote-Repos"><a href="#Fetching-and-Pulling-from-Remote-Repos" class="headerlink" title="Fetching and Pulling from Remote Repos"></a>Fetching and Pulling from Remote Repos</h2><ol>
<li><code>git fetch &lt;remote&gt;</code> This command goes out to that remote project and <strong>pulls down all the data from that remote project that you don’t have yet</strong>. After you do this, you should have references to all the branches from that remote, which you can merge in or inspect at any time (merge operations will be discussed in <a href="#Git-Branching">Git Branching</a>.</li>
<li>If you <strong>cloned a repository</strong>, the command  <code>git fetch origin</code> fetches <strong>any new work that has been pushed to that server</strong> since you cloned (or last fetched from) it<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> <code>git fetch</code> command only <strong>downloads the data to your local repository</strong> — it <strong>doesn’t automatically merge it</strong> with any of your work <strong>or modify what you’re currently working on</strong>. You have to merge it manually into your work when you’re ready</li>
<li><input disabled type="checkbox"> <code>get pull</code> will <strong>fetch and merge the remote branches into your current branch</strong>. More covered in <a href="#Git-Branching">Git Branching</a></li>
</ul>
</blockquote>
</li>
</ol>
<h2 id="Pushing-Sharing-to-Your-Remote"><a href="#Pushing-Sharing-to-Your-Remote" class="headerlink" title="Pushing/Sharing to Your Remote"></a>Pushing/Sharing to Your Remote</h2><p>When you have your project at a point that you want to share, you have to push it upstream. The command for this is simple: <code>git push &lt;remote&gt; &lt;branch&gt;</code>. If you want to <strong>push your master branch to your origin server</strong> (again, cloning generally sets up both of those names for you automatically), then you can run this to <strong>push any commits you’ve done</strong> back up to the server:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> This command works only <strong>if you cloned from a server</strong> to which you <strong>have write access</strong> and <strong>if nobody has pushed in the meantime</strong>. If someone else if pushing, your push will be rejected and you will have to <strong>fetch their work first and incorporate it into yours</strong> before you’ll be allowed to push. </li>
</ul>
</blockquote>
<h2 id="Renaming-or-Removing-Remote-Repo"><a href="#Renaming-or-Removing-Remote-Repo" class="headerlink" title="Renaming or Removing Remote Repo"></a>Renaming or Removing Remote Repo</h2><ol>
<li>If you want to rename a shorthand for a remote repo, you can execute <code>git remote rename &lt;originalName&gt; &lt;newName&gt;</code> to change a remote’s shortname.</li>
<li>If you want to <strong>remove a remote for some reason</strong> — you’ve moved the server or are no longer using a particular mirror, or perhaps a contributor isn’t contributing anymore, you can use <code>git remote remove &lt;shortname&gt;</code></li>
</ol>
<h2 id="Inspecting-a-Remote-for-Pushing-and-Pulling-Information"><a href="#Inspecting-a-Remote-for-Pushing-and-Pulling-Information" class="headerlink" title="Inspecting a Remote for Pushing and Pulling Information"></a>Inspecting a Remote for Pushing and Pulling Information</h2><p>If you want to see more information about a particular remote, you can use the <code>git remote show &lt;remote&gt;</code> command</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git remote show pb</span><br><span class="line">* remote pb</span><br><span class="line">  Fetch URL: https:&#x2F;&#x2F;github.com&#x2F;paulboone&#x2F;ticgit</span><br><span class="line">  Push  URL: https:&#x2F;&#x2F;github.com&#x2F;paulboone&#x2F;ticgit</span><br><span class="line">  HEAD branch: master</span><br><span class="line">  Remote branches:</span><br><span class="line">    master tracked</span><br><span class="line">    ticgit tracked</span><br><span class="line">  Local ref configured for &#39;git push&#39;:</span><br><span class="line">    master pushes to master (local out of date)</span><br></pre></td></tr></table></figure>
<p>It lists the URL for the remote repository as well as the tracking branch information. The command helpfully tells you that if you’re on the master branch and you run git pull, it will automatically merge in the master branch on the remote after it fetches all the remote references. It also lists all the remote references it has pulled down.</p>
<p>In general, it will show you:</p>
<ul>
<li>which <strong>branch is automatically pushed to when you run <code>git push</code> while on certain branches</strong></li>
<li>which <strong>remote branches on the server you don’t yet have</strong></li>
<li>which <strong>remote branches you have but have been removed from the server</strong></li>
<li>multiple <strong>local branches that are able to merge</strong> automatically with their remote-tracking branch when you run <code>git pull</code></li>
</ul>
<h2 id="Tagging"><a href="#Tagging" class="headerlink" title="Tagging"></a>Tagging</h2><p>Git has the ability to <strong>tag specific points in a repository’s history as being important</strong>. Typically, people use this functionality to mark release points (<code>v1.0</code>, <code>v2.0</code> and so on).</p>
<h2 id="Listing-the-Tags-of-a-Repo"><a href="#Listing-the-Tags-of-a-Repo" class="headerlink" title="Listing the Tags of a Repo"></a>Listing the Tags of a Repo</h2><p>You can list <strong>all the tags</strong> by calling:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> this command lists the tags in <strong>alphabetical order</strong>; the order in which they are displayed <strong>has no real importance</strong>.</li>
</ul>
</blockquote>
<p>You can also filter the tags by using the optional <code>-l</code> or <code>--list</code>, for example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -l &quot;v1.8.5*&quot;</span><br></pre></td></tr></table></figure>
<p>This will list all the tags that *<em>starts with *</em><code>v1.8.5</code></p>
<h2 id="Creating-Tags"><a href="#Creating-Tags" class="headerlink" title="Creating Tags"></a>Creating Tags</h2><p>You can have two types of tags:</p>
<ol>
<li><p>a <strong>lightweight tag</strong></p>
<ul>
<li>it’s just a pointer to a specific commit. It <strong>does not have much information</strong> attached to it. (It does have a <strong>Checksum</strong>, and includes the <strong>author information</strong>) It is often used as a <strong>temporary tag</strong>.</li>
</ul>
</li>
<li><p>an <strong>annotated tag</strong></p>
<ul>
<li>stored as full objects in the Git database. They’re <strong>checksummed</strong>; contain the <strong>tagger name, email, and date; have a tagging message; and can be signed and verified with GNU Privacy Guard (GPG)</strong>. It’s generally recommended that you create annotated tags so you can have all this information</li>
</ul>
</li>
</ol>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Those tags will be attached to the <strong>lastest committed version</strong> of your repo</li>
</ul>
</blockquote>
<h2 id="Creating-a-Lightweight-Tag"><a href="#Creating-a-Lightweight-Tag" class="headerlink" title="Creating a Lightweight Tag"></a>Creating a Lightweight Tag</h2><p> This is basically the commit checksum stored in a file — no other information is kept. To create a lightweight tag, <strong>don’t supply</strong> any of the <code>-a</code>, <code>-s</code>, or <code>-m</code> options, just provide a tag name.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag &lt;tag-id&gt;</span><br></pre></td></tr></table></figure>


<h2 id="Creating-an-Annotated-Tag"><a href="#Creating-an-Annotated-Tag" class="headerlink" title="Creating an Annotated Tag"></a>Creating an Annotated Tag</h2><p>This is created by   </p>
<p><code>$ git tag -a &lt;tag-id&gt; -m &quot;yourMessage&quot;</code></p>
<ul>
<li><code>-a</code>, <code>-s</code>, or <code>-u</code> <code>&lt;keyid&gt;</code> is passed, the command <strong>creates a tag object</strong>, and <strong>requires a tag message</strong>. Unless <code>-m &lt;msg&gt;</code> or <code>-F &lt;file&gt;</code> is given, <strong>an editor is started for the user to type in the tag message</strong>.</li>
</ul>
<p>Then to see the message in that tag, use</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git show &lt;tag-id&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Don’t be mistaken to execute <code>git tag show &lt;tag-id&gt;</code>!</li>
</ul>
</blockquote>
<h2 id="Tagging-Previous-Commits"><a href="#Tagging-Previous-Commits" class="headerlink" title="Tagging Previous Commits"></a>Tagging Previous Commits</h2><p>To <strong>tag any specific commit</strong>, you specify the <strong>commit checksum (or part of it)</strong> at the end of the command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -a &lt;tag-id&gt; -m &quot;yourMessage&quot; &lt;commit-checksum&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Sharing-Tags"><a href="#Sharing-Tags" class="headerlink" title="Sharing Tags"></a>Sharing Tags</h2><p>By default, the <code>git push</code> command <strong>doesn’t transfer tags to remote servers</strong>. You will have to explicitly push tags to a shared server after you have created them. This process is just like sharing remote branches — you can run </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;repo-shortname&gt; &lt;tagname&gt;</span><br></pre></td></tr></table></figure>
<p>To push <strong>all the tags</strong>, you run</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;repo-shortname&gt; --tags</span><br></pre></td></tr></table></figure>

<h2 id="Deleting-Tags"><a href="#Deleting-Tags" class="headerlink" title="Deleting Tags"></a>Deleting Tags</h2><p>You can use</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -d &lt;tag-id&gt;</span><br></pre></td></tr></table></figure>
<p>to delete a specific tag. However, this does not remove the tag from the remote servers.</p>
<p>To delete the tag from the server, you could either use:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin --delete &lt;tag-id&gt;</span><br></pre></td></tr></table></figure>
<p>or, the slightly less intuitive command</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin :refs&#x2F;tags&#x2F;v1.4-lw</span><br></pre></td></tr></table></figure>
<p>which means the <strong>null value before the colon</strong> is being pushed to the <strong>remote tag name</strong>, effectively deleting it.</p>
<h2 id="Viewing-Files-at-a-Different-State-using-Tag"><a href="#Viewing-Files-at-a-Different-State-using-Tag" class="headerlink" title="Viewing Files at a Different State using Tag"></a>Viewing Files at a Different State using Tag</h2><p>You can view the different versions of files by using its tag. This is done by a <code>git checkout</code> of that tag, although this puts your repository in “detached HEAD” state, (which has some ill side effects)</p>
<ul>
<li>in a detached-head state, if you <strong>make changes and then create a commit</strong>, the tag will stay the same, but your <strong>new commit won’t belong to any branch and will be unreachable</strong>, except by the exact commit hash. Thus, if you need to make changes — say you’re fixing a bug on an older version, for instance — you will <strong>generally want to create a branch</strong> (covered more in <a href="#Git-Branching">Git Branching</a>)</li>
</ul>
<p><strong><em>Q: What does <code>git checkout</code> mean?</em></strong></p>
<p>If you call <code>git log</code>, you will see something called <code>HEAD</code>. <code>HEAD</code> is a label noting where you are in the <strong>commit tree</strong>. It moves with you when you <strong>move from one commit to another</strong>. <code>git checkout &lt;commit&gt;</code> is the basic mechanism for <strong>moving around in the commit tree, moving your focus (HEAD) to the specified commit</strong>.</p>
<p>The commit can be specified by any of a number of ways, <strong>commit hash</strong>, <strong>branch name</strong>, <strong>tag name</strong>, the relative syntax (HEAD^, HEAD~1, etc.) and so on. (It is often useful to consider a checkout to be changing branches)</p>
<h2 id="Git-Alias"><a href="#Git-Alias" class="headerlink" title="Git Alias"></a>Git Alias</h2><p>Alias can be understood as shortcuts to execute commands. They can be setup by using the <code>git config</code> command.</p>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.co checkout</span><br><span class="line">$ git config --global alias.br branch</span><br><span class="line">$ git config --global alias.ci commit</span><br><span class="line">$ git config --global alias.st status</span><br></pre></td></tr></table></figure>
<p>This means that </p>
<ul>
<li><code>git checkout</code> becomes <code>git co</code></li>
<li><code>git branch</code> becomes <code>git br</code></li>
<li><code>git commit</code> becomes <code>git ci</code></li>
<li><code>git status</code> becomes <code>git st</code></li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> <code>global</code> means access for <strong>one user</strong> (yourself) in <strong>all the repos</strong>. In comparison, <code>local</code> means for <strong>one user</strong> in this <strong>specific repo</strong>. <code>system</code> means for <strong>all users</strong> in <strong>all repos</strong>.</li>
</ul>
</blockquote>
<p>Some useful <strong>alias</strong> include:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.last &#39;log -1 HEAD&#39;</span><br></pre></td></tr></table></figure>
<p>So you can see the last commit easily:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git last</span><br><span class="line">commit e946cadfbd3b378582b0be5e5385a7702d1d10da (HEAD -&gt; master, tag: v1.0)</span><br><span class="line">Author: Xiao Yu &lt;jasonyux17@gmail.com&gt;</span><br><span class="line">Date:   Wed May 20 10:59:55 2020 +0800</span><br><span class="line"></span><br><span class="line">    amended: edited AND deleted file removal and untracking</span><br></pre></td></tr></table></figure>

<h2 id="Resetting-the-Alias"><a href="#Resetting-the-Alias" class="headerlink" title="Resetting the Alias"></a>Resetting the Alias</h2><p>If you find certain alias used before as a bad idea, you can do</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global --unset alias.&lt;yourAlias&gt;</span><br></pre></td></tr></table></figure>

<p>You can also directly edit in the config file to change the alias by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global --edit</span><br></pre></td></tr></table></figure>

<p>which will open the default text editor and then you can edit your alias directly (delete it if not needed).</p>
<p><a name="Git-Branching"></a></p>
<h2 id="Git-Branching"><a href="#Git-Branching" class="headerlink" title="Git Branching"></a>Git Branching</h2><p> Git doesn’t store data as a series of changesets or differences, but instead as a <strong>series of snapshots</strong>.</p>
<p>When you <strong>make a commit</strong>, Git stores a <strong>commit object that contains a pointer to the snapshot</strong> of the content you staged. This object also contains the author’s name and email address, the message that you typed, and <strong>pointers to the commit or commits that directly came before this commit</strong> (its parent or parents): <strong>zero parents for the initial commit</strong>, <strong>one parent for a normal commit</strong>, and <strong>multiple parents for a commit that results from a merge of two or more branches</strong>.</p>
<ol>
<li>When you staged a file/files<ul>
<li>Staging the files computes a <strong>checksum for each one</strong> (the SHA-1 hash we mentioned in Getting Started)</li>
<li>then <strong>stores that version of the file in the Git repository</strong> (Git refers to them as <strong>blobs</strong>)</li>
<li>finally <strong>adds that checksum to the staging area</strong></li>
</ul>
</li>
<li>When you commit by running <code>git commit</code><ul>
<li>Git <strong>checksums each subdirectory</strong> (in this case, just the root project directory) </li>
<li>stores them as a <strong>tree object</strong> in the Git repository. </li>
<li>Git then creates a commit object that has the metadata and a <strong>pointer to the root project tree</strong> so it can re-create that snapshot when needed.</li>
</ul>
</li>
</ol>
<p>If you had 3 files that were staged, and you committed them, you will get in totl five objects: <strong>three blobs</strong> (each representing the contents of one of the three files), <strong>one tree</strong> that lists the contents of the directory and specifies which file names are stored as which blobs, and <strong>one commit</strong> with the pointer to that root tree and all the commit metadata.</p>
<p>If you make some changes and commit again, the next <strong>commit object</strong> stores a <strong>(parent) pointer</strong> to the <strong>commit object</strong> that came immediately before it. Essentially it is like a linked list of <strong>commit objects</strong>.</p>
<p><strong>A branch in Git is simply a lightweight movable pointer to one of these commits objects</strong>. The default branch name in Git is <strong>master</strong> (default when you run <code>git init</code>). As you start making commits, you’re given a master branch that <strong>points to the last commit you made</strong>. Every time you commit, the master branch pointer moves forward automatically.</p>
<h2 id="Create-a-New-Branch"><a href="#Create-a-New-Branch" class="headerlink" title="Create a New Branch"></a>Create a New Branch</h2><p> Creating a new branch means <strong>creating a new pointer for you to move around</strong>. Let’s say you want to create a new branch called testing. You do this with the git branch command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch &lt;newBranchName&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> this new branch will by default point to the <strong>current commit object (the head)</strong> you are working on.</li>
<li><input disabled type="checkbox"> you can see the head commit object by running <code>git log</code></li>
</ul>
</blockquote>
<h2 id="Switching-Branches"><a href="#Switching-Branches" class="headerlink" title="Switching Branches"></a>Switching Branches</h2><p>To switch to an existing branch, you run the <code>git checkout</code> command. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout &lt;branchName&gt;</span><br></pre></td></tr></table></figure>

<p>For example, if you have another branch called <code>testing</code>, you switch to that by <code>git checkout testing</code>.</p>
<p>This will move the <strong>head</strong> to the <strong>new branch you are at</strong>. This means that now, if you make modifications and commit, you will create a <strong>new commit object that the head/your current branch points to</strong>, but <strong>the other branch still points to the original commit object</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Now, if you run <code>git log</code>, you will <strong>not see the new commit object that is made by the testing branch</strong>. By default, git log will only show commit history below the branch you’ve checked out.</li>
<li><input disabled type="checkbox"> In general, if you move backward in the tree, you will not be able to see future <strong>commit objects</strong> by running <code>git log</code></li>
<li><input disabled type="checkbox"> To <strong>show commit history for the desired branch</strong> you have to explicitly specify it: <code>git log &lt;branchName&gt;</code>. To <strong>show all of the branches</strong>, run <code>git log --all</code>.</li>
<li><input disabled type="checkbox"> You can actually create a new branch and switching to it at the same time — this can be done in one operation with <code>git checkout -b &lt;newBranchName&gt;</code></li>
</ul>
</blockquote>
<p>However, if you have made some changes in this new branch and <strong>switched back to the old branch</strong>, your current working directory will be <strong>reverted back to the snapshot that old branch points to</strong>. Now, if you make some changes on the old branch, the <strong>two branch will diverge</strong>:</p>
<ul>
<li>the new branch does not know that change made in the old branch</li>
<li>the old branch cannot go forward directly to the new branch because <strong>a commit object</strong> that both shared has been changed now</li>
<li>basically, you will have two different commit objects, one for the <strong>old branch</strong>, and another for the <strong>new branch</strong>, both links to the same parent. </li>
</ul>
<p>But don’t worry, <strong>in the end you can merge them together when you’re ready</strong>.</p>
<hr>
<p><strong>Making a Disaster</strong>:</p>
<ol>
<li>You can create a branch that points to the current <strong>head</strong> position, and then switch to the <strong>master</strong> branch. Then you can move the <strong>head</strong> using the checksum of the first commit by doing <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;checkSum&gt;</span><br></pre></td></tr></table></figure>
Now, the master head will point to the inital commit. If your friend is also working on this branch, they will be dismayed as thinking somehow all the progress is lost, but in fact it is kept by the other branch that you just created.</li>
</ol>
<hr>
<h2 id="Viewing-the-Diversion-Tree"><a href="#Viewing-the-Diversion-Tree" class="headerlink" title="Viewing the Diversion Tree"></a>Viewing the Diversion Tree</h2><p>The entire tree for all branches can be seen by running</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log --oneline --graph --all</span><br></pre></td></tr></table></figure>
<p>For example, it can look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git log --oneline --graph --all</span><br><span class="line">* ae182e6 (HEAD, testing) first commit made now more with the new testing branch</span><br><span class="line">| * e946cad (tag: v1.0, master) amended: edited AND deleted file removal and untracking</span><br><span class="line">| * 0e6428a second commit made</span><br><span class="line">| * 2031fb7 (tag: v0.1) first commit made</span><br><span class="line">|&#x2F;</span><br><span class="line">* 75d2c61 Initial project version</span><br></pre></td></tr></table></figure>
<p>So we see that the two branches are diverged at the first <strong>commit object</strong>.</p>
<h2 id="Merging-Different-Branches"><a href="#Merging-Different-Branches" class="headerlink" title="Merging Different Branches"></a>Merging Different Branches</h2><p>There are basically two cases: </p>
<ol>
<li><p>You have <strong>two diverged branches</strong>, but <strong>they used different files</strong>, or, to put it more suggestively, the <strong>file they shared are the same</strong>. In this case, it is simple for Git to figure out how to merge (basically just putting all the files together), and you run:<br><img src="/.com//mergingCase1.png" alt="Picture from git-scm.com, figure 25"></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git merge testing</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> This means that you are merging files <strong>from the testing branch to the master branch</strong></li>
<li><input disabled type="checkbox"> The merge operation will only be allowed if you have <strong>committed in the testing branch</strong>/current working directory</li>
</ul>
</blockquote>
</li>
<li><p>You have <strong>two diverged branches</strong>, and they <strong>share a file that is modified differently in both branches</strong>. Now, if you want to merge them, Git will show you:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git merge testing</span><br><span class="line">Auto-merging firstFile.txt</span><br><span class="line">CONFLICT (content): Merge conflict in firstFile.txt</span><br><span class="line">Automatic merge failed; fix conflicts and then commit the result.</span><br></pre></td></tr></table></figure>
<p>In this example, [firstFile.txt] is modified for both branches, and they both depend on it. Therefore, the merging cannot be completed, and you will need to <strong>manually edit that file</strong>.</p>
<p>When you finish editing that file, you run <code>git add &lt;thatFile&gt;</code> to <strong>mark it as resolved</strong>, and then call <code>git commit</code> to <strong>complete the merge</strong>.</p>
</li>
</ol>
<p>In the end, when you have finished all the work, you can delete the branch you don’t need by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d &lt;branchName&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Branch-Management"><a href="#Branch-Management" class="headerlink" title="Branch Management"></a>Branch Management</h2><p>There are a handful of commands with <code>git branch</code> that is useful for branch management:</p>
<ul>
<li><code>git branch</code> This will show you a list of branches that yuo have, with an asterisk <code>*</code> in front of the current branch you are on.</li>
<li><code>git branch -v</code> Shows you a list of branches with their last commit message </li>
<li><code>git branch --merged</code> shows you branches that have been merged</li>
<li><code>git branch --unmerged</code> shows you branches that have not been merged</li>
</ul>
<blockquote>
<p>Note</p>
<ul>
<li><input disabled type="checkbox"> Each of the command above shows the information <strong>relative to the current branch</strong>. To specify which branch you want to know, you can do, for example, <code>git branch --no-merged testing</code> (to get information <strong>relative to the testing branch</strong>)</li>
</ul>
</blockquote>
<h2 id="Typical-WorkFlow-Using-Git-Branches"><a href="#Typical-WorkFlow-Using-Git-Branches" class="headerlink" title="Typical WorkFlow Using Git Branches"></a>Typical WorkFlow Using Git Branches</h2><p>Usually, people tend to put <strong>code that is entirely stable in their master branch</strong> — possibly only code that has been or will be released. They have another parallel branch named <strong>develop</strong> or <strong>next</strong> that they work from or use to test stability — it isn’t necessarily always stable, but whenever it gets to a <strong>stable state, it can be merged into master</strong>.</p>
<p>  In general, for some larger projects, you will want your branches are at various levels of stability, ordered from most stable top branch (<strong>master</strong>) to the least stable bottom branch(<strong>topic</strong>, for example); when they reach a <strong>more stable level, they’re merged into the branch above them</strong>.</p>
<p><img src="/.com//branchManagement.png" alt="picture from https://git-scm.com/book/en/v2/Git-Branching-Branching-Workflows"></p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> It’s important to remember when you’re doing all this that <strong>these branches are completely local</strong>. When you’re branching and merging, <strong>everything is being done only in your Git repository</strong> — there is no communication with the server, for now.</li>
</ul>
</blockquote>
<h2 id="Remote-Branches"><a href="#Remote-Branches" class="headerlink" title="Remote Branches"></a>Remote Branches</h2><p><strong>Remote-tracking branches</strong> are references to the state of remote branches. They’re <strong>local references that you can’t move</strong>; <strong>Git moves them for you whenever you do any network communication</strong>, to make sure they accurately represent the state of the remote repository. Think of them as bookmarks, to remind you where the branches in your remote repositories were the last time you connected to them.</p>
<p><strong>Remote-tracking branch names</strong> take the form <code>&lt;remoteShortName&gt;/&lt;branch&gt;</code>. For instance, if you wanted to see what the <code>master</code> branch on your <code>origin</code> remote looked like as of the last time you communicated with it, you would check the <code>origin/master</code> branch. This means that, if you were working on an issue with a partner and they <strong>pushed up an <code>iss53</code> branch</strong>, but <strong>you also have your own local <code>iss53</code> branch</strong>, the branch on the server would be represented by the remote-tracking branch <code>origin/iss53</code> <strong>updated with your friend’s version</strong></p>
<p>Now, to synchronize your work with a given remote, you run </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch &lt;remoteShortName&gt; command</span><br></pre></td></tr></table></figure>
<p>This command looks up which server “<code>origin</code>” is (for example, it might be cloned from <code>git.ourcompany.com</code>), <strong>fetches any data from it that you don’t yet have</strong>, and updates your local database, moving your <code>origin/master</code> pointer to its new, more up-to-date position, but your <strong>current <code>master</code> pointer is still the same as you were working with</strong>.</p>
<h2 id="Colaborating-with-Multiple-Repos"><a href="#Colaborating-with-Multiple-Repos" class="headerlink" title="Colaborating with Multiple Repos"></a>Colaborating with Multiple Repos</h2><p>Say you have a main repo that you have cloned, with the shortname <code>origin</code> at <code>git.outcompany.com</code>, and you have another team working on that repo as well, with their repo being at <code>git team1.ourcompany.com</code></p>
<p><img src="/.com//remoteBranches1.png" alt="Picture from https://git-scm.com/book/en/v2/Git-Branching-Remote-Branches, Figure 33"></p>
<p>You can add their work to your current repo by</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add git.team1.ourcompany.com teamone</span><br></pre></td></tr></table></figure>

<p>Now, you have their repo with the shortname <code>teamone</code>. You can fetch their progress to your local machine by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch teamone</span><br></pre></td></tr></table></figure>

<p>In this case, since <code>teamone</code> actually didn’t have anything more than the server had, nothing will be fecthed, but you will still obtain a <strong>branch <code>teamone</code> that marks their progress</strong></p>
<p><img src="/.com//remoteBranches2.png" alt="Picture from https://git-scm.com/book/en/v2/Git-Branching-Remote-Branches, Figure 34"></p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> At this point, if all you have called is <code>fetch</code>, you will <strong>not have a physical copy of their work on your local machine</strong>, but just a <strong>unmovable pointer</strong>. To get their work to your local machine and work on it, you need to call <code>git merge teamone/master</code> and switch to that, or <code>git checkout -b teamone teamone/master</code>, which creates a new <strong>local branch called <code>teamone</code> that has all the progress on the server of <code>teamone</code></strong>.</li>
</ul>
</blockquote>
<h2 id="Pushing-Your-Branch-to-the-Server"><a href="#Pushing-Your-Branch-to-the-Server" class="headerlink" title="Pushing Your Branch to the Server"></a>Pushing Your Branch to the Server</h2><p> Your <strong>local branches aren’t automatically synchronized</strong> to the remotes you write to — you have to explicitly push the branches you want to share. That way, you can use private branches for work you don’t want to share, and <strong>push up only the topic branches you want to collaborate on</strong>.</p>
<p>To do this, you run:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;remoteShortName&gt; &lt;yourBranchName&gt;</span><br></pre></td></tr></table></figure>

<p>For example, you want to push up a branch <code>serverfix</code> to the server with shortname <code>origin</code>, you run:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin serverfix</span><br><span class="line">Counting objects: 24, done.</span><br><span class="line">Delta compression using up to 8 threads.</span><br><span class="line">Compressing objects: 100% (15&#x2F;15), done.</span><br><span class="line">Writing objects: 100% (24&#x2F;24), 1.91 KiB | 0 bytes&#x2F;s, done.</span><br><span class="line">Total 24 (delta 2), reused 0 (delta 0)</span><br><span class="line">To https:&#x2F;&#x2F;github.com&#x2F;schacon&#x2F;simplegit</span><br><span class="line"> * [new branch]      serverfix -&gt; serverfix</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> The command <code>git push origin serverfix</code> is a bit of a shortcut. The slightly more complete version is <code>git push origin serverfix:serverfix</code>, which means to <strong>push the <code>serverfix</code> branch of the local machine (left side of colon) to the <code>serverfix</code> branch of the server (right side of colon)</strong>. This means you could also push to have <strong>different names</strong> by <code>git push origin serverfix:anotherNameOnServer</code></li>
</ul>
</blockquote>
<h2 id="Tracking-Branches"><a href="#Tracking-Branches" class="headerlink" title="Tracking Branches"></a>Tracking Branches</h2><p>Checking out a <strong>local branch from a remote-tracking branch automatically creates what is called a “tracking branch”</strong> (and the branch it tracks is called an “upstream branch”). Tracking branches are local branches that have a <strong>direct relationship to a remote branch</strong>. If you’re on a tracking branch and type <code>git pull</code>, Git automatically knows which server to <code>fetch</code> from and which branch to merge in.</p>
<p>For example, when you made a <code>clone</code> from the server with shorthand <code>origin</code>, you made a <strong>tracking branch</strong> with a <strong>master</strong> branch that <strong>tracks</strong> the <strong>origin/master</strong> branch.</p>
<p>In general, when you do</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b &lt;branchName&gt; &lt;remoteShortName&gt;&#x2F;&lt;branchName&gt;</span><br></pre></td></tr></table></figure>

<p>You create a tracking branch of <code>&lt;branchName&gt;</code> tracking the <code>&lt;remoteShortName&gt;/&lt;branchName&gt;</code></p>
<p>In fact, this is so common that you could do the <strong>same thing</strong> by running, more explicitly:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout --track origin&#x2F;serverfix</span><br><span class="line">Branch serverfix set up to track remote branch serverfix from origin.</span><br><span class="line">Switched to a new branch &#39;serverfix&#39;</span><br></pre></td></tr></table></figure>
<p>But this will setup the <strong>same branchname as the branchname on the remote</strong>. If you want to <strong>change the local branchname</strong>, use the first one <code>git checkout -b &lt;branchName&gt; &lt;remoteShortName&gt;/&lt;branchName&gt;</code></p>
<h2 id="Difference-between-git-fetch-and-git-pull"><a href="#Difference-between-git-fetch-and-git-pull" class="headerlink" title="Difference between git fetch and git pull"></a>Difference between <code>git fetch</code> and <code>git pull</code></h2><p><code>git fetch</code> only gets you information on what their progess is, but <strong>does not have a physical copy</strong> of their work. <code>git pull</code> gets you both the information about their progess <strong>and a physical copy on your local machine</strong> of their work on server. </p>
<p><code>git pull</code>  is essentially a <code>git fetch</code> immediately followed by a <code>git merge</code> in most cases. If you <strong>have a tracking branch set up</strong> as demonstrated in the last section, either by explicitly setting it or by having it created for you by the clone or checkout commands, <code>git pull</code> <strong>will look up what server and branch your current branch is tracking</strong>, <strong>fetch from that server and then try to merge in that remote branch for you</strong>.</p>
<h2 id="Viewing-the-Current-Tracking-Branch"><a href="#Viewing-the-Current-Tracking-Branch" class="headerlink" title="Viewing the Current Tracking Branch"></a>Viewing the Current Tracking Branch</h2><p>You can view the current tracking branches by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch --all</span><br><span class="line">$ git branch -vv</span><br><span class="line">  iss53     7e424c3 [origin&#x2F;iss53: ahead 2] Add forgotten brackets</span><br><span class="line">  master    1ae2a45 [origin&#x2F;master] Deploy index fix</span><br><span class="line">* serverfix f8674d9 [teamone&#x2F;server-fix-good: ahead 3, behind 1] This should do it</span><br><span class="line">  testing   5ea463a Try something new</span><br></pre></td></tr></table></figure>
<p>So here we can see that:</p>
<ul>
<li><code>iss53</code> branch is tracking <code>origin/iss53</code> and is “ahead” by two, meaning that we have <strong>two commits locally that are not pushed to the server</strong>. </li>
<li><code>master</code> branch is tracking <code>origin/master</code> and is up to date. </li>
<li><code>serverfix</code> branch is tracking the <code>server-fix-good</code> branch on our teamone server and is ahead by three and behind by one, meaning that there is <strong>one commit on the server we haven’t merged in</strong> yet and three commits locally that we haven’t pushed. </li>
<li><code>testing</code> branch is <strong>not tracking any remote branch</strong>.<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> We ran <code>git fetch --all</code> before to make sure the <strong>data we have locally about the server is up-to-date</strong>. This means that <code>git branch --vv</code> will only <strong>compare the cached data from the server, and it does not update from the server if there are any changes</strong>.</li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="Switching-a-Tracking-Branch"><a href="#Switching-a-Tracking-Branch" class="headerlink" title="Switching a Tracking Branch"></a>Switching a Tracking Branch</h2><p>If you have a <strong>local branch that you want to track another branch on the server</strong>, you can use the <code>-u</code> or <code>--set-upstream-to</code> option to <code>git branch</code> to explicitly set your <strong>current branch</strong> at any time:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ git branch -u &lt;remoteShortName&gt;&#x2F;&lt;branchName&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Deleting-a-Remote-Branch"><a href="#Deleting-a-Remote-Branch" class="headerlink" title="Deleting a Remote Branch"></a>Deleting a Remote Branch</h2><p>Suppose you’re <strong>done with a remote branch</strong> — say you and your collaborators are finished with a feature and have <strong>merged it into your remote’s master branch</strong> (or whatever branch your stable codeline is in). You can delete a remote branch using the </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push &lt;remoteShortName&gt; --delete &lt;remoteBranchName&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> You don’t need to use <code>--delete &lt;remoteShortName&gt;/&lt;remoteBranchName&gt;</code>, because it is repetitive</li>
<li><input disabled type="checkbox"> This operation <strong>does not remove the branch in the server immediately</strong>. All this does is <strong>remove the pointer from the server</strong>. The Git server will generally keep the data there for a while <strong>until a garbage collection runs</strong>, so if it was accidentally deleted, it’s often easy to recover.</li>
</ul>
</blockquote>
<h2 id="Rebasing"><a href="#Rebasing" class="headerlink" title="Rebasing"></a>Rebasing</h2><p>In Git, there are <strong>two main ways to integrate changes from one branch into another</strong>: the <code>merge</code> and the <code>rebase</code>. </p>
<p>This second operation <code>rebase</code> basically stand from the fact that <code>merge</code> does a three-way-merge, so that in all case, even if two branches had <strong>modification on completely different files</strong>.</p>
<p>So if you <code>rebase</code>, what you want to do is actually this:</p>
<p><img src="/.com//rebase1.png" alt="Picture from https://git-scm.com/book/en/v2/Git-Branching-Rebasing, Figure 37"></p>
<p>So, you can take the <strong>patch of the change that was introduced in C4</strong> and <strong>reapply</strong> it on top of C3. With the <code>rebase</code> command, you can take all the changes that were committed on one branch and <strong>replay them on a different branch</strong>.</p>
<p>To place <code>experiment</code> on top of <code>master</code>, you run:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout experiment</span><br><span class="line">$ git rebase master</span><br></pre></td></tr></table></figure>

<p>By <strong>replaying the changes</strong>, it means that this <code>rebase</code> operation does:</p>
<ul>
<li>going to the common ancestor of the two branches (the one you’re on and the one you’re rebasing onto) </li>
<li>getting the <strong>diff introduced by each commit of the branch you’re on</strong>, <strong>saving those diffs</strong> to temporary files, <strong>resetting the current branch to the same commit as the branch you are rebasing onto</strong>, and finally <strong>applying each change in turn</strong></li>
</ul>
<p>Finally, if you want to put your <strong>master</strong> in place of the head of the same branch as <strong>experiment</strong>, you need to switch back to <strong>master</strong> and <strong>merge</strong>. This time, it is guaranteed to have no conflicts because the diversion will be eliminated as the changes are <strong>replayed</strong> and the <strong>ancestors will become the same</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> The end product from <code>merge</code> and <code>rebase</code> will be the same, but rebasing makes for a <strong>cleaner history</strong>. If you examine the <code>log</code> of a rebased branch, it looks like a <strong>linear history</strong>: it appears that all the work happened in series, even when it originally happened in parallel.</li>
<li><input disabled type="checkbox"> Of course, do not rebase commits that exist outside your repository and that <strong>people may have based work on</strong>, because the changes are applied to that branch and it might <strong>destory their work</strong>.</li>
</ul>
</blockquote>
<h2 id="A-More-Complicated-Rebase"><a href="#A-More-Complicated-Rebase" class="headerlink" title="A More Complicated Rebase"></a>A More Complicated Rebase</h2><p>Conside the case:<br><img src="/.com//complicatedRebase.png" alt="Picture from https://git-scm.com/book/en/v2/Git-Branching-Rebasing#rebasing-merging-example, Figure 39"><br>And you want to rebase the <strong>client</strong> branch to go from the <strong>master</strong> branch. This can be done simply using one line:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase --onto master server client</span><br></pre></td></tr></table></figure>

<p>This means to take the <strong>client</strong> branch, figure out the <strong>patches since it diverged from the server branch</strong>, and <strong>replay these patches in the client branch as if it was based directly off the master branch instead.</strong></p>
<hr>
<p><strong>Making a Disaster</strong></p>
<hr>
<h2 id="A-Disasterous-Case"><a href="#A-Disasterous-Case" class="headerlink" title="A Disasterous Case"></a>A Disasterous Case</h2><p>Consider if the server side actually <code>rebased</code> their <code>master</code> branch, and your work depends on it, and you did a <code>pull</code>, which automatically <code>merges</code> so it looks like this:<br><img src="/.com//rebase2.png" alt="Picture from https://git-scm.com/book/en/v2/Git-Branching-Rebasing#rebasing-merging-example, Figure 46"></p>
<p>However, since we know that <code>C4</code> and <code>C6</code> are deleted/rebased because they are useless, we would also want <code>C4</code> and <code>C6</code> become removed. This can be done by <code>git pull --rebase</code> instead of <code>git pull</code>, which automatically successfully figure out what is <strong>uniquely yours</strong> and apply them back <strong>on top of the new branch</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you are using <code>git pull</code> and want to make <code>--rebase</code> the <strong>default</strong>, you can set the <code>pull.rebase config</code> value with something like <code>git config --global pull.rebase true</code>.</li>
</ul>
</blockquote>
<h2 id="Running-Git-On-Server"><a href="#Running-Git-On-Server" class="headerlink" title="Running Git On Server"></a>Running Git On Server</h2><p>Running a Git server is fairly straightforward. First, you <strong>choose which protocols you want your server to support</strong>. </p>
<p>A <strong>remote repository is generally a bare repository</strong> — a Git repository that has no working directory. Because the repository is only used as a collaboration point, there is no reason to have a snapshot checked out on disk; it’s just the Git data. In the simplest terms, a bare repository is the contents of your project’s <strong>.git directory</strong> and nothing else.</p>
<p>Basically, a <strong>bare repository does not directly contain the actual files and code that you want to edit</strong> on your local machine. However, when you do <code>git clone</code> from it, you will get the progress <strong>and the code</strong> translated from the bare repo on the server to your local machine where you cloned it. Everytime you push changes to the <strong>remote bare repo</strong>, only the <strong>progress information</strong> will be pushed, but there will <strong>still be no actual code files in the remote bare repo</strong></p>
<h2 id="The-Protocals-for-Git-Data-Transfer"><a href="#The-Protocals-for-Git-Data-Transfer" class="headerlink" title="The Protocals for Git Data Transfer"></a>The Protocals for Git Data Transfer</h2><p>Git can use four distinct protocols to transfer data: <strong>Local</strong>, <strong>HTTP</strong>, <strong>Secure Shell</strong> (SSH) and <strong>Git</strong>.</p>
<ol>
<li><p><strong>Local</strong> Protocal</p>
<ul>
<li><p>The most basic is the Local protocol, in which the <strong>remote repository is in another directory on the same host</strong>. This is often used if everyone on your team has access to a shared filesystem such as an NFS mount, or in the less likely case that everyone logs in to the same computer.</p>
</li>
<li><p>Then to clone a local bare repository, you run </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone &#x2F;your&#x2F;gitrepo&#x2F;directory.git</span><br></pre></td></tr></table></figure>
<p>Or you can run</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone file:&#x2F;&#x2F;&#x2F;your&#x2F;gitrepo&#x2F;directory.git</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Doing it in the first way is a faster transfer process, but it will let Git use <strong>hardlinks</strong> or <strong>directly copy the files it needs</strong>.</li>
<li><input disabled type="checkbox"> Doing it the second way will fire up the processes that Git normally uses to <strong>transfer data over a network</strong>, which is generally much <strong>less efficient</strong>. The main reason to specify the <code>file://</code> prefix is if you want a <strong>clean copy of the repository with extraneous references or objects left out</strong></li>
</ul>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>HTTP</strong> Protocols</p>
<ul>
<li>Smart HTTP<ul>
<li>Smart HTTP operates very similarly to the SSH or Git protocols but runs over standard HTTPS ports and can use various HTTP authentication mechanisms, meaning it’s often easier on the user than something like SSH, since <strong>you can use things like username/password authentication rather than having to set up SSH keys</strong>.</li>
<li>This has become the most popilar way to use Git now, and in fact, for services like GitHub, <strong>the URL you use to view the repository online</strong> (for example, <a href="https://github.com/schacon/simplegit" target="_blank" rel="noopener">https://github.com/schacon/simplegit</a>) <strong>is the same URL you can use to clone and, if you have access, push over</strong>.</li>
</ul>
</li>
<li>Dumb HTTP<ul>
<li>If the server does not respond with a Git HTTP smart service, the Git client will try to fall back to the simpler Dumb HTTP protocol. The <strong>Dumb protocol expects the bare Git repository to be served like normal files from the web server</strong>. The beauty of Dumb HTTP is the <strong>simplicity of setting it up</strong>. Basically, all you have to do is <strong>put a bare Git repository under your HTTP document root and set up a specific post-update hook, and you’re done</strong> (See Git Hooks). </li>
</ul>
</li>
</ul>
</li>
<li><p><strong>SSH</strong> Protocal</p>
<ul>
<li><p>A common transport protocol for Git when self-hosting is over SSH. This is because SSH access to servers is already set up in most places — and if it isn’t, it’s easy to do. SSH is also an authenticated network protocol and, because it’s ubiquitous, it’s generally easy to set up and use.</p>
</li>
<li><p>To clone a Git repository over SSH, you can specify an <code>ssh:// URL</code> like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone ssh:&#x2F;&#x2F;[user@]server&#x2F;project.git</span><br></pre></td></tr></table></figure>
<p>Or you can use the shorter scp-like syntax for the SSH protocol:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone [user@]server:project.git</span><br></pre></td></tr></table></figure>

<p>In both cases above, if you don’t specify the optional <code>&lt;username&gt;</code>, Git assumes the user you’re currently logged in as ?.</p>
<blockquote>
<p>Note</p>
<ul>
<li><input disabled type="checkbox"> A negative aspect of SSH is that it <strong>doesn’t support anonymous access to your Git repository</strong>. If you’re using SSH, people <strong>must have SSH access to your machine</strong>, even in a read-only capacity, which doesn’t make SSH conducive to open source projects for which people might simply want to clone your repository to examine it.</li>
</ul>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>Git Protocal</strong></p>
<ul>
<li><p>Finally, we have the Git protocol. This is a special daemon that comes packaged with Git; it listens on a dedicated port (9418) that provides a service similar to the SSH protocol, but with <strong>absolutely no authentication</strong>. In order for a repository to be served over the Git protocol, you <strong>must create a <code>git-daemon-export-ok</code> file</strong> — the daemon won’t serve a repository without that file in it — but, other than that, there is <strong>no security</strong>. Either the Git repository is available for everyone to <code>clone</code>, or it isn’t. This is means that <strong>it will be read-only for either everyone or no-one.</strong> </p>
</li>
<li><p>However, you can also setup <strong>push access</strong>, but, this means that, given the lack of authentication, it will be <strong>pushable for everyone or no-one on the internet</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> It is the fastest network transfer protocal available currently. It uses the same data-transfer mechanism as the SSH protocol <strong>but without the encryption and authentication overhead</strong>. </li>
<li><input disabled type="checkbox"> It’s generally undesirable for the Git protocol to be the only access to your project. <strong>Generally, you’ll pair it with SSH or HTTPS access for the few developers who have push (write) access and have everyone else use <code>git://</code> for read-only access</strong>. It’s also probably the most difficult protocol to set up. It must run its own daemon, which requires xinetd or systemd configuration or the like, which isn’t always a walk in the park. </li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ol>
<h2 id="Setting-up-Git-on-a-Server"><a href="#Setting-up-Git-on-a-Server" class="headerlink" title="Setting up Git on a Server"></a>Setting up Git on a Server</h2><h2 id="Setting-up-an-Existing-Git-Repo-on-Github"><a href="#Setting-up-an-Existing-Git-Repo-on-Github" class="headerlink" title="Setting up an Existing Git Repo on Github"></a>Setting up an Existing Git Repo on Github</h2><ol>
<li><p>First you need to decide which protocal to use. Github provides two protocals: HTTP and SSH, which you can get when you see the <code>Quick Setup</code> tab or when you are inside the repo with the <code>Clone or Download</code>.</p>
</li>
<li><p>Then, you navigate to your existing repo in your Git Bash, and add the remote repo by:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add &lt;remoteShortName&gt; &lt;remoteURLYouJustCopied&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>Then you can push any of your branch in your local repo to the remote repo by:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;remoteShortName&gt; &lt;localBranchName:remoteBranchName&gt;</span><br></pre></td></tr></table></figure>
<p> If the <remoteBranchName> is the same as your <localBranchName>, then you can just</localBranchName></remoteBranchName></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;remoteShortName&gt; &lt;localBranchName&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Distributed-WorkFlows"><a href="#Distributed-WorkFlows" class="headerlink" title="Distributed WorkFlows"></a>Distributed WorkFlows</h2><p> The aim for these flows is how to contribute code successfully to a project and make it <strong>as easy on you and the project maintainer as possible</strong>, and also how to <strong>maintain a project successfully with a number of developers contributing</strong>.</p>
<p> In general, due to the flexibility of Git, it presents <strong>a vast range of workflow possibilities for your project and/or your team</strong>, so we’ll cover a few common paradigms that take advantage of this flexibility.</p>
<ol>
<li><p><strong>Centralized Workflow</strong><br><img src="/.com//centralized_workflow.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows, Figure 54"></p>
<p> This means that if two developers clone from the hub and both make changes, <strong>the first developer to push their changes back up can do so with no problems</strong>. The <strong>second developer must merge</strong> in the first one’s work before pushing changes up, so as not to overwrite the first developer’s changes.    </p>
</li>
<li><p><strong>Integration-Manager Workflow</strong><br>Because Git allows you to have multiple remote repositories, it’s possible to have a workflow where each developer has <strong>write access to their own public repository</strong> and <strong>read access to everyone else’s</strong>. </p>
<p> <img src="/.com//integration-manager.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows, Figure 55"></p>
<p> This scenario often includes a <strong>canonical repository that represents the “official” project</strong>. To contribute to that project, you <strong>create your own public clone</strong> of the project and push your changes to it. Then, you can send a <strong>request to the maintainer of the main project to pull in your changes</strong>. The maintainer can then add your repository as a remote, <strong>test your changes locally</strong>, <strong>merge them into their branch</strong>, and <strong>push back to their repository</strong>. </p>
<ol>
<li>The project maintainer/manager pushes to their public/blessed repository.</li>
<li>A contributor/developer clones that repository and makes changes.</li>
<li>The contributor/developer pushes to their own public repository.</li>
<li>The contributor/developer sends the maintainer an email asking them to pull changes.</li>
<li>The maintainer/manager adds the contributor/developer’s repository as a remote and merges locally.</li>
<li>The maintainer/manager pushes merged changes to the main repository.</li>
</ol>
</li>
</ol>
<h2 id="Commit-Guidelines"><a href="#Commit-Guidelines" class="headerlink" title="Commit Guidelines"></a>Commit Guidelines</h2><p>Having a good guideline for <strong>creating commits and sticking to it</strong> makes working with Git and collaborating with others a lot easier. The Git project provides a document that lays out a number of good tips for creating commits from which to submit patches — you can read it in the Git source code in the <code>Documentation/SubmittingPatches</code> file</p>
<ul>
<li><p>Do <strong>not commit/make whitespace changes</strong> (i.e. adding meaningless whitespaces into the program and committing those as changes). This can be easily detected by running</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br></pre></td></tr></table></figure></li>
<li><p>Try to make <strong>each commit a logically separate changeset</strong>. If you can, try to make your <strong>changes digestible</strong> — don’t code for a whole weekend on five different issues and then submit them all as one massive commit on Monday. Even if you don’t commit during the weekend, use the staging area on Monday to split your work into at least one commit per issue, with a <strong>useful message per commit</strong>.</p>
</li>
<li><p>Creating <strong>quality commit messages</strong> makes using and collaborating with Git a lot easier. <strong>As a general rule</strong>, your messages should start with a single line that’s no more than about 50 characters and that describes the changeset concisely, followed by a blank line, followed by a more detailed explanation. (The <strong>Git project requires that the more detailed explanation include your motivation for the change and contrast its implementation with previous behavior</strong> — this is a good guideline to follow. Write your <strong>commit message in the imperative</strong>: “Fix bug” and not “Fixed bug” or “Fixes bug.”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">CAPITALIZED, short (50 chars or less) summary</span><br><span class="line"></span><br><span class="line">More detailed explanatory text, if necessary.  Wrap it to about 72</span><br><span class="line">characters or so.  In some contexts, the first line is treated as the</span><br><span class="line">subject of an email and the rest of the text as the body.  The blank</span><br><span class="line">line separating the summary from the body is critical (unless you omit</span><br><span class="line">the body entirely); tools like rebase can get confused if you run the</span><br><span class="line">two together.</span><br><span class="line"></span><br><span class="line">Write your commit message in the imperative: &quot;Fix bug&quot; and not &quot;Fixed bug&quot;</span><br><span class="line">or &quot;Fixes bug.&quot;  This convention matches up with commit messages generated</span><br><span class="line">by commands like git merge and git revert.</span><br><span class="line"></span><br><span class="line">Further paragraphs come after blank lines.</span><br><span class="line"></span><br><span class="line">- Bullet points are okay, too</span><br><span class="line"></span><br><span class="line">- Typically a hyphen or asterisk is used for the bullet, followed by a</span><br><span class="line">  single space, with blank lines in between, but conventions vary here</span><br><span class="line"></span><br><span class="line">- Use a hanging indent</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Branch-Naming"><a href="#Branch-Naming" class="headerlink" title="Branch Naming"></a>Branch Naming</h2><p>Sometimes, the maintainer of the Git project tends to <strong>namespace these branches</strong> — such as <code>sc/ruby_client</code>, where <code>sc</code> is short for the person who contributed the work, and <code>ruby_client</code> is the branch the person worked on. </p>
<p>Therefore, it is sometimes a good idea to format your branchname to:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b &lt;yourNickName&#x2F;descriptiveBranchName&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Forking-a-Project"><a href="#Forking-a-Project" class="headerlink" title="Forking a Project"></a>Forking a Project</h2><p>Sometimes you want to work with a project that you do <strong>not have open push access to</strong>, but you might have the <strong>fork</strong> option, which allows you to <strong>clone the repo at least</strong>.</p>
<p>In this case, if you want to add some feature to the project, say <code>featureA</code>, you could:</p>
<ol>
<li><strong>clone the project to your local machine</strong></li>
<li>create a new branch <code>featureA</code> and work on it</li>
<li>create your <strong>own remote repo</strong> of the same project by <strong>forking that project</strong></li>
<li><strong>push changes</strong> (preferably <strong>just the branch you edited</strong>, because if the change is <code>cherry-picked</code> or rejected, you don’t need to do too much rewindings) <strong>to your own remote repo that your forked</strong></li>
<li>Now you need to <strong>notify the maintainers of the original project that you have work you’d like them to merge</strong>. This is often called a <strong>pull request</strong>, and you typically generate such a request either via the website — <strong>GitHub has its own “Pull Request” mechanism</strong> — or you can run the <code>git request-pull</code> command and email the subsequent output to the project maintainer manually.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git request-pull &lt;targetRemoteShortName&gt;&#x2F;&lt;targetBranch&gt; &lt;myRemote&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> To keep your forked project up-to-date, you could add another <code>upstream</code> remote to your local forked repo. Then, to update your local <code>master</code> branch with what the server has, you can run <code>git fetch upsteam/master</code> and then <code>checkout</code> to your local <code>master</code>, run <code>git merge upstream/master</code> to merge in the new changes</li>
</ul>
</blockquote>
</li>
</ol>
<h2 id="Difference-bewtween-git-merge-squash-and-git-rebase"><a href="#Difference-bewtween-git-merge-squash-and-git-rebase" class="headerlink" title="Difference bewtween git merge --squash and git rebase"></a>Difference bewtween <code>git merge --squash</code> and <code>git rebase</code></h2><p>Sometimes, when there where quite a lot of updates in the server’s <code>master</code> branch, and you would like your new changes to be based on the latest commit/change made, you would either do a <code>rebase</code> or your <code>featureA</code> branch to be directly off from the latest <code>&lt;remoteRepo&gt;/master</code> branch, or you could do a <code>merge --squash</code>.</p>
<ul>
<li>doing a <code>rebase</code> would produce a cleaner history by actually moving your branch to continue off from the <code>&lt;remoteRepo&gt;/master</code> branch. This means it deletes the your original diverged branch and places it newly there.</li>
<li>doing a <code>merge --squash</code> would <strong>not delete your original diverged branch</strong>, <strong>and base it off from the lastest <code>&lt;remoteRepo&gt;/master</code> branch</strong>. It does <strong>not delete the divergent history</strong>. This works by <strong>squashing all your changes/commit objects in your divergent branch to a single one</strong>, and puts it at the tip of the <code>&lt;remoteRepo&gt;/master</code> branch.</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> After you do a <code>git merge --squash &lt;targetBranch&gt;</code>, you need to *<em>call another <code>git commit</code> *</em>manually to finish the change.</li>
</ul>
</blockquote>
<h2 id="Nofifying-Changes-via-Email"><a href="#Nofifying-Changes-via-Email" class="headerlink" title="Nofifying Changes via Email"></a>Nofifying Changes via Email</h2><p>Sometimes, some projects might accept patches via a developer <strong>mailing list instead of pull requests</strong>. In this case, you need to mail your changes by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git format-patch -M &lt;remoteShortName&gt;&#x2F;master</span><br></pre></td></tr></table></figure>
<p>For example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git format-patch -M testRepo&#x2F;master</span><br><span class="line">0001-TESTING-EMAIL-PATCH.patch</span><br></pre></td></tr></table></figure>

<ul>
<li>The <code>git format-patch</code> is used to generate the mbox-formatted files that you can email to the list.</li>
</ul>
<p>This will create a <strong>patch file</strong> under your current directory, which will look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ cat 0001-TESTING-EMAIL-PATCH.patch</span><br><span class="line">From 41d19b4ea8be07b026f28cd4052bfdbc4a2f38b0 Mon Sep 17 00:00:00 2001</span><br><span class="line">From: Xiao Yu &lt;jasonyux17@gmail.com&gt;</span><br><span class="line">Date: Thu, 21 May 2020 17:53:36 +0800</span><br><span class="line">Subject: [PATCH] TESTING EMAIL PATCH</span><br><span class="line"></span><br><span class="line">Created a new file for testing to send an email patch.</span><br><span class="line">---</span><br><span class="line"> newFileTestingEmailPatch.txt | 0</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 newFileTestingEmailPatch.txt</span><br><span class="line"></span><br><span class="line">diff --git a&#x2F;newFileTestingEmailPatch.txt b&#x2F;newFileTestingEmailPatch.txt</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..e69de29</span><br><span class="line">--</span><br><span class="line">2.26.2.windows.1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you want to edit some writings. you can also <strong>edit text between the — line and the beginning of the patch (the diff –git line)</strong>, if you <strong>don’t want them to show up in the commit message</strong>, so that the developers can read it, but that content is ignored by the patching process.</li>
</ul>
</blockquote>
<p>To email this to a mailing list, you can <strong>either paste the file into your email</strong> program or <strong>send it via a command-line program</strong>. Pasting the text often causes formatting issues, especially with “smarter” clients that don’t preserve newlines and other whitespace appropriately.</p>
<ol>
<li><p>Sending it via commandline through an <strong>IMAP</strong> server</p>
<ul>
<li><p>You will need to navigate to your <code>~/.gitconfig</code> file and add those lines in the end of the file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[imap]</span><br><span class="line">  folder &#x3D; &quot;[Gmail]&#x2F;Drafts&quot;</span><br><span class="line">  host &#x3D; imaps:&#x2F;&#x2F;imap.gmail.com</span><br><span class="line">  user &#x3D; user@gmail.com</span><br><span class="line">  pass &#x3D; YX]8g76G_2^sFbd</span><br><span class="line">  port &#x3D; 993</span><br><span class="line">  sslverify &#x3D; false</span><br></pre></td></tr></table></figure>
<p>If your IMAP server <strong>doesn’t use SSL</strong>, the last two lines probably aren’t necessary, and the host value will be <code>imap://</code> instead of <code>imaps://</code>. When that is set up, you can use <code>git imap-send</code> to place the patch series in the Drafts folder of the specified IMAP server:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ cat *.patch | git imap-send</span><br><span class="line">Resolving imap.gmail.com... ok</span><br><span class="line">Connecting to [74.125.142.109]:993... ok</span><br><span class="line">Logging in...</span><br><span class="line">sending 2 messages</span><br><span class="line">100% (2&#x2F;2) done</span><br><span class="line">At this point, you should be able to go to your Drafts folder, change the To field to the mailing list you’re sending the patch to, possibly CC the maintainer or person responsible for that section, and send it off.</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Sending through a <strong>SMTP</strong> server</p>
<ul>
<li><p>Similary, you will need to edit the <code>~/.gitconfig</code> file to add in the end:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[sendemail]</span><br><span class="line">  smtpencryption &#x3D; tls</span><br><span class="line">  smtpserver &#x3D; smtp.gmail.com</span><br><span class="line">  smtpuser &#x3D; user@gmail.com</span><br><span class="line">  smtpserverport &#x3D; 587</span><br></pre></td></tr></table></figure>

<p>After this is done, you can use git send-email to send your patches:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git send-email *.patch</span><br><span class="line">0001-add-limit-to-log-function.patch</span><br><span class="line">0002-increase-log-output-to-30-from-25.patch</span><br><span class="line">Who should the emails appear to be from? [Jessica Smith &lt;jessica@example.com&gt;]</span><br><span class="line">Emails will be sent from: Jessica Smith &lt;jessica@example.com&gt;</span><br><span class="line">Who should the emails be sent to? jessica@example.com</span><br><span class="line">Message-ID to be used as In-Reply-To for the first email? y</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h2 id="Maintaining-a-Project"><a href="#Maintaining-a-Project" class="headerlink" title="Maintaining a Project"></a>Maintaining a Project</h2><p>Basically, your aim is to <strong>accept work in a way that is clearest for other contributors and sustainable</strong> by you over the long run.</p>
<p>Maintaining using patches from email</p>
<ul>
<li>basically, you need to run <code>git apply</code> for a <strong><code>git diff</code> formatted object</strong>, or <code>git am</code> for a <strong><code>patch</code> formatted object</strong>.</li>
</ul>
<h2 id="Using-git-apply"><a href="#Using-git-apply" class="headerlink" title="Using git apply"></a>Using <code>git apply</code></h2><p>If you received the patch from someone who <strong>generated it with <code>git diff</code> or some variation of the Unix diff command</strong> (which is not recommended; see the next section), you can <strong>apply it with the git apply command</strong>. Assuming you saved the patch at <code>/tmp/patch-ruby-client.patch</code>, you can apply the patch like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git apply &#x2F;tmp&#x2F;patch-ruby-client.patch</span><br></pre></td></tr></table></figure>
<p> This will also <strong>handle file adds, deletes, and renames</strong> if they’re <strong>described in the <code>git diff</code></strong> format, which <strong>patch won’t</strong> do. Finally, <code>git apply</code> is an <strong>“apply all or abort all”</strong> model where either everything is applied or nothing is, whereas <code>git am</code> for <code>patch</code> can <strong>partially apply</strong> patchfiles, leaving your working directory in a weird state. <code>git apply</code> is overall much more conservative than patch. </p>
<p>However, you can use <code>git apply --check</code>, for example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git apply --check 0001-see-if-this-helps-the-gem.patch</span><br></pre></td></tr></table></figure>

<p>To <strong>check</strong> if a <code>patch</code> applies cleanly to <strong>your working directory</strong>. If there is no output, then the patch should apply cleanly. </p>
<h2 id="Using-git-am"><a href="#Using-git-am" class="headerlink" title="Using git am"></a>Using <code>git am</code></h2><p>To apply a <code>patch</code> generated by <code>format-patch</code>, you use <code>git am</code> (the command is named am as it is used to “apply a series of patches from a mailbox”).</p>
<ul>
<li><p>if someone <strong>emailed you the patch properly using <code>git send-email</code></strong>, namely the content of the patch being the mail content + subject title, and you <strong>download that into an mbox format</strong>, then you can point <code>git am</code> to that <strong>mbox file</strong>, and it will start applying all the patches it sees.</p>
</li>
<li><p>if someone uploaded a <strong>patch file</strong> generated via <code>git format-patch</code> to a ticketing system or something similar, you can save the file locally and then <strong>pass that file saved on your disk</strong> to <code>git am</code> to apply it</p>
</li>
</ul>
<p>However, it’s possible that the <strong>patch won’t apply cleanly</strong>. Perhaps your main branch has diverged too far from the branch the patch was built from, or the patch depends on another patch you haven’t applied yet. In that case, the <code>git am process</code> <strong>will fail and ask you what you want to do</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git am 0001-see-if-this-helps-the-gem.patch</span><br><span class="line">Applying: See if this helps the gem</span><br><span class="line">error: patch failed: ticgit.gemspec:1</span><br><span class="line">error: ticgit.gemspec: patch does not apply</span><br><span class="line">Patch failed at 0001.</span><br><span class="line">When you have resolved this problem run &quot;git am --resolved&quot;.</span><br><span class="line">If you would prefer to skip this patch, instead run &quot;git am --skip&quot;.</span><br><span class="line">To restore the original branch and stop patching run &quot;git am --abort&quot;.</span><br></pre></td></tr></table></figure>

<p>This command puts conflict <strong>markers in any files it has issues with</strong>, much like a conflicted merge or rebase operation. You solve this issue much the same way — <strong>edit the file to resolve the conflict</strong>, stage the new file, and then run <code>git am --resolved</code> to <strong>continue to the next patch in the series of patches that you haven’t  yet completed</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ (fix the file)</span><br><span class="line">$ git add ticgit.gemspec</span><br><span class="line">$ git am --resolved</span><br><span class="line">Applying: See if this helps the gem</span><br></pre></td></tr></table></figure>

<h2 id="Managing-Using-the-Remote-Branches"><a href="#Managing-Using-the-Remote-Branches" class="headerlink" title="Managing Using the Remote Branches"></a>Managing Using the Remote Branches</h2><p>If your contribution came from a Git user who set up their own repository, pushed a number of changes into it, and then <strong>sent you the URL to the repository and the name of the remote branch the changes are in</strong>, you can <strong>add them as a remote and do merges locally</strong>.</p>
<p>For example, if a developer named Jessica sends you an email saying that she has a great <strong>new feature</strong> in the <strong><code>ruby-client</code> branch</strong> of <strong>her repository</strong>, you can test it by adding the remote and <strong>checking out that branch locall</strong>y:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add jessica git:&#x2F;&#x2F;github.com&#x2F;jessica&#x2F;myproject.git</span><br><span class="line">$ git fetch jessica</span><br><span class="line">$ git checkout -b rubyclient jessica&#x2F;ruby-client</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> You do a <code>fetch</code> here <strong>instead of a direct <code>pull</code></strong> because you might not want to automatically merge her work into any of your branch. You might want to see if her work functions properly before you run <code>merge</code>.</li>
</ul>
</blockquote>
<p>However, if you aren’t working with a person consistently but do something like a one-time pull, you can use the URL of their remote repository to the <code>git pull</code> command. This does a one-time pull and <strong>doesn’t save the URL as a remote reference</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git pull https:&#x2F;&#x2F;github.com&#x2F;onetimeguy&#x2F;project</span><br><span class="line">From https:&#x2F;&#x2F;github.com&#x2F;onetimeguy&#x2F;project</span><br><span class="line"> * branch            HEAD       -&gt; FETCH_HEAD</span><br><span class="line">Merge made by the &#39;recursive&#39; strategy.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Here the command <code>git pull https://github.com/onetimeguy/project</code> <strong>pulls in all the progress to your current branch</strong>. If you just want to <strong>pull a specific branch</strong>, remember to add the option of the <branchname> like this <code>git pull https://github.com/onetimeguy/project &lt;remoteBranchName&gt;</code></branchname></li>
</ul>
</blockquote>
<h2 id="Determining-What-is-Changed"><a href="#Determining-What-is-Changed" class="headerlink" title="Determining What is Changed"></a>Determining What is Changed</h2><p>Now you have a <strong><code>topic</code> branch that contains contributed work</strong>. At this point, you can determine what you’d like to do with it. This section revisits a couple of commands so you can see <strong>exactly what you’ll be introducing if you merge this</strong> into your main branch.</p>
<ol>
<li><p>to see <strong>only commits that are different</strong> between the <code>topic</code> branch and your <code>master</code> branch (for example), you could run </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log &lt;branch1&gt; --not &lt;branch2&gt;</span><br></pre></td></tr></table></figure>

<p> In this example:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git log topic --not master</span><br><span class="line">commit 5b6235bd297351589efc4d73316f0a68d484f118</span><br><span class="line">Author: Scott Chacon &lt;schacon@gmail.com&gt;</span><br><span class="line">Date:   Fri Oct 24 09:53:59 2008 -0700</span><br><span class="line"></span><br><span class="line">    See if this helps the gem</span><br><span class="line"></span><br><span class="line">commit 7482e0d16d04bea79d0dba8988cc78df655f16a0</span><br><span class="line">Author: Scott Chacon &lt;schacon@gmail.com&gt;</span><br><span class="line">Date:   Mon Oct 22 19:38:36 2008 -0700</span><br><span class="line"></span><br><span class="line">    Update gemspec to hopefully work better</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note</p>
<ul>
<li><input disabled type="checkbox"> To see what <strong>changes each commit introduces</strong>, remember that you can pass the <code>-p</code> option to <code>git log</code> and it will <strong>append the <code>diff</code> introduced to each commit</strong>.</li>
</ul>
</blockquote>
</li>
<li><p>The more useful case might be seeing a full <code>diff</code> of <strong>what would happen if you merge the <code>topic</code> branch</strong>. So you might want to run:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff &lt;branch1&gt;...&lt;branch2&gt;</span><br></pre></td></tr></table></figure>

<p> In this example:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff master...topic</span><br></pre></td></tr></table></figure>
<p> This command shows you only the work your current <code>topic</code> branch has introduced <strong>since its common ancestor</strong> with <code>master</code>.</p>
<p> This triple dot technically is a shorthand command created by Git to achieve the following:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git merge-base contrib master</span><br><span class="line">36c7dba2c95e6bbb78dfa822519ecfec6e1ca649</span><br><span class="line">$ git diff 36c7db</span><br></pre></td></tr></table></figure>

<p> or, more concisely:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff $(git merge-base contrib master)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> You might think there is an easier way by doing <code>git diff master</code>. This might work, but not always. This is because this command gives you a <code>diff</code> by <strong>comparing the last commit of the topic branch you’re on and the last commit on the master branch</strong>. This means that if your <code>master</code> branch <strong>has moved forward since you created the <code>topic</code> branch from it</strong>, then you’ll get seemingly strange results. For example, if you’ve <strong>added a line in a file on the <code>master</code> branch</strong>, <strong>a direct comparison of the snapshots will look like the <code>topic</code> branch is going to remove that line</strong>.</li>
</ul>
</blockquote>
</li>
</ol>
<h2 id="Determining-your-Merging-Workflow"><a href="#Determining-your-Merging-Workflow" class="headerlink" title="Determining your Merging Workflow"></a>Determining your Merging Workflow</h2><p>Basically, you need to decide how to manage all your <code>merge</code> and <code>rebase</code> actions, so that you could easily track changes and make it easier to understand. There are several <strong>example styles that you could use for managing your project merges:</strong></p>
<ol>
<li><a href="#merging-flow-small">Merging Workflow for small projects</a></li>
<li><a href="#merging-flow-large">Merging Workflow for large projects</a></li>
<li><a href="#rebase-and-cherry">Rebasing and Cherry-Picking Workflows</a></li>
</ol>
<p><a name="merging-flow-small"></a></p>
<h2 id="Small-Merging-Workflow"><a href="#Small-Merging-Workflow" class="headerlink" title="Small Merging Workflow"></a>Small Merging Workflow</h2><p>The simplest way is to do <code>git merge</code> all the time to your <code>master</code> branch. However, this might cause unpleasant history line to review. However, this is often manageable for small projects, and typically you will have <strong>a main track with two branches</strong>: <code>master</code> and <code>develop</code>, in which you determine that <strong><code>master</code> is updated only when a very stable release is cut</strong> and <strong>all new code is integrated into the <code>develop</code> branch</strong>.</p>
<p>Then, since you typically first <code>merge</code> into your <code>develop</code> before deciding whether or not it is to be released in the <code>master</code> branch:</p>
<p><img src="/.com//merging-workflows-1.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Maintaining-a-Project, Figure 76"><br>And then if you do decide to <code>merge</code> in to the <code>master</code> branch:<br><img src="/.com//merging-workflows-2.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Maintaining-a-Project, Figure 77"></p>
<p><a name="merging-flow-large"></a></p>
<h2 id="Large-Merging-Workflow"><a href="#Large-Merging-Workflow" class="headerlink" title="Large Merging Workflow"></a>Large Merging Workflow</h2><p>This workflow will have four <code>branch</code>es on the main track: <code>master</code>,<code>next</code>,<code>pu</code>,and <code>maint</code>.</p>
<ul>
<li><code>master</code> branch will still be the one with the <strong>most stable version of the system</strong></li>
<li><code>next</code> branch will be controlling/merging the <code>topics</code>/<code>features</code> branches that you <strong>got from your colaborators repo</strong> and you tested are <strong>functioning properly</strong>, considering whether to include or not.</li>
<li><code>pu</code> branch means <strong>proposed updates</strong>, these could be branches with work that are interesting but <strong>need more work</strong></li>
<li><code>maint</code> branch usually stores the project <strong>at the state of the last release</strong>, so that it <strong>can be forked off to provide backported patches in case a maintenance release is required</strong>. </li>
</ul>
<p>For example, you might have your <code>topic</code> branches from your colaborators’ repos like this:<br><img src="/.com//large-merges-1.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Maintaining-a-Project, Figure 76"><br>And you organizes/maintains your main <code>branch</code>es (<code>maint</code> not shown here) like this:<br><img src="/.com//large-merges-2.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Maintaining-a-Project, Figure 76"></p>
<p><a name="rebase-and-cherry"></a></p>
<h2 id="Rebasing-and-Cherry-Picking-Workflow"><a href="#Rebasing-and-Cherry-Picking-Workflow" class="headerlink" title="Rebasing and Cherry-Picking Workflow"></a>Rebasing and Cherry-Picking Workflow</h2><p>Other maintainers prefer to <code>rebase</code> or <code>cherry-pick</code> contributed work on top of their master branch, rather than merging it in, to <strong>keep a mostly linear history</strong>. When you have work in a <code>topic</code> branch and have determined that you want to integrate it, you move to that branch and run the <code>rebase</code> command to <strong>rebuild the changes on top of your current <code>master</code></strong> (or <code>develop</code>, and so on) branch. <strong>If that works well</strong>, you can fast-forward your master branch, and you’ll end up with a linear project history.</p>
<p>Or you could do a cherry-pick, which <strong>does not remove the original branch</strong> but <strong>“rebases” on top of the current branch</strong>, and you can <strong>choose which commit/commits you would like to incorporate</strong> (which means you might want to incorporate only several commits in that branch, but not all).</p>
<p>For example, if you are given this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">      A---B---C topic</span><br><span class="line">     &#x2F;</span><br><span class="line">D---E---F---G master</span><br></pre></td></tr></table></figure>

<ul>
<li><p>Then a <code>rebase</code> command:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase master topic</span><br></pre></td></tr></table></figure>

<p>  You get:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">              A&#39;--B&#39;--C&#39; topic</span><br><span class="line">             &#x2F;</span><br><span class="line">D---E---F---G master</span><br></pre></td></tr></table></figure></li>
<li><p>The run <code>cherry-pick &lt;from-commit-id&gt;^..&lt;to-commit-id&gt;</code>:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master -b topic_new</span><br><span class="line">$ git cherry-pick A^..C</span><br></pre></td></tr></table></figure>

<p>  You get:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">      A---B---C topic</span><br><span class="line">     &#x2F;</span><br><span class="line">D---E---F---G master</span><br><span class="line">             \</span><br><span class="line">              A&#39;--B&#39;--C&#39; topic_new</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Rerere-in-Git"><a href="#Rerere-in-Git" class="headerlink" title="Rerere in Git"></a>Rerere in Git</h2><p>Rerere stands for “reuse recorded resolution” — it’s a way of shortcutting manual conflict resolution. When rerere is enabled, Git will keep a set of pre- and post-images from successful merges, and if it notices that there’s a conflict that looks exactly like one you’ve already fixed, it’ll just use the fix from last time, without bothering you with it.</p>
<p>This feature comes in <strong>two parts</strong>: <strong>a configuration setting</strong> and <strong>a command</strong>. The configuration setting is <code>rerere.enabled</code>, and it’s handy enough to put in your <code>global config</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global rerere.enabled true</span><br></pre></td></tr></table></figure>

<p>Now, whenever you <strong>do a <code>merge</code> that resolves conflicts</strong>, the <strong>resolution will be recorded</strong> in the cache in case you need it in the future.</p>
<p>If you need to, you can interact with the rerere cache using the <code>git rerere</code> command. When it’s invoked alone, Git <strong>checks its database of resolutions and tries to find a match with any current merge conflicts</strong> and <strong>resolve</strong> them (although this is <strong>done automatically if <code>rerere.enabled</code> is set to true</strong>).</p>
<h2 id="Generating-a-Build-Number"><a href="#Generating-a-Build-Number" class="headerlink" title="Generating a Build Number"></a>Generating a Build Number</h2><p>If you run <code>git describe</code>, Git generates a string consisting of the <strong>name of the most recent tag</strong> earlier than that commit, followed by the <strong>number of commits</strong> since that tag, followed finally by a <strong>partial SHA-1 value of the commit being described</strong> (prefixed with the letter “g” meaning Git):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git describe</span><br><span class="line">v1.0-3-gca2e64e</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note</p>
<ul>
<li><input disabled type="checkbox"> By default, the <code>git describe</code> command <strong>requires annotated tags</strong> (tags created with the -a or -s flag); if you want to take advantage of <strong>lightweight (non-annotated) tags</strong> as well, add the <code>--tags</code> option to the command. </li>
</ul>
</blockquote>
<h2 id="Preparing-a-Release-Using-a-Zip-Gzip"><a href="#Preparing-a-Release-Using-a-Zip-Gzip" class="headerlink" title="Preparing a Release Using a Zip/Gzip"></a>Preparing a Release Using a Zip/Gzip</h2><p>Now you want to release a build. One of the things you’ll want to do is <strong>create an archive of the latest snapshot of your code</strong> for those poor souls who don’t use Git. The command to do this is <code>git archive</code>:</p>
<ul>
<li><p>To create a <strong>GZip</strong> file with the <strong>name being the build number generated</strong> from the previous section, you do:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git archive master --prefix&#x3D;&#39;projectArchive&#x2F;&#39; | gzip &gt; &#96;git describe master&#96;.tar.gz</span><br><span class="line"></span><br><span class="line">$ ls *.tar.gz</span><br><span class="line">v1.0-3-gca2e64e.tar.gz</span><br></pre></td></tr></table></figure>
<p>  where the <code>--prefix=&#39;projectArchive&#39;</code> means that if you open that Gzip file, you will find a directory called <code>projectArchive</code> in which all your files are saved.</p>
</li>
<li><p>You can also create a <strong>zip</strong> archive in much the same way, but by passing the <code>--format=zip</code> option to <code>git archive</code>:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git archive master --format&#x3D;zip &gt; &#96;git describe master&#96;.zip</span><br></pre></td></tr></table></figure>
<p>  Here you will have <strong>all the files directly in that Zip</strong>, without opening any more directory</p>
</li>
</ul>
<h2 id="Shortlog"><a href="#Shortlog" class="headerlink" title="Shortlog"></a>Shortlog</h2><p>If you use the <code>git shortlog</code> command. It summarizes <strong>all the commits in the range you give it</strong>; for example, the following gives you a summary of all the commits <strong>since your last release, if your last release was named v0.1</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git shortlog --no-merges master --not v0.1</span><br><span class="line">Xiao Yu (4):</span><br><span class="line">      second commit made</span><br><span class="line">      amended: edited AND deleted file removal and untracking</span><br><span class="line">      first commit made now more with the new testing branch</span><br><span class="line">      testing rebase, added a new file independent for the branch master</span><br></pre></td></tr></table></figure>

<h2 id="Git-Commit-Selection-Tools"><a href="#Git-Commit-Selection-Tools" class="headerlink" title="Git Commit Selection Tools"></a>Git Commit Selection Tools</h2><p>Now you’ll explore a number of very powerful things that Git can do that you may not necessarily use on a day-to-day basis but that you <strong>may need at some point</strong>.</p>
<table>
<thead>
<tr>
<th>Revision Selection Type</th>
<th>Command</th>
<th>Outcome/Example</th>
<th>Note</th>
</tr>
</thead>
<tbody><tr>
<td>Showing a <strong>single commit</strong> using Short SHA-1</td>
<td><code>git show &lt;commit-sha-1&gt;</code></td>
<td><code>git show ae1934jf</code></td>
<td>-</td>
</tr>
<tr>
<td>Showing a <strong>single commit</strong> at the top of a branch</td>
<td><code>git show &lt;branchName&gt;</code></td>
<td><code>git show topic1</code> gives to top commit at branch <code>topic1</code></td>
<td>You can use <code>git rev-parse &lt;branchName&gt;</code> to get a SHA-1 code of the top commit from a branch</td>
</tr>
<tr>
<td>Showing a <strong>single commit</strong> using a reflog</td>
<td><code>git show &lt;reflog-data-of-HEAD&gt;</code></td>
<td><code>git show HEAD@{5}</code></td>
<td>The reflog is data that keeps track of your HEAD position, which you can get from running <code>git reflog</code></td>
</tr>
<tr>
<td>Showing a <strong>single commit</strong> using ancestry reference using <code>^</code> (means the parent of something)</td>
<td><code>git show &lt;commit-id&gt;^</code></td>
<td><code>git show HEAD^</code> shows the parent of the HEAD</td>
<td>You can also specify a number for going back multiple times, <code>d921970^2</code> means “the second parent of <code>d921970</code>.”</td>
</tr>
<tr>
<td>Showing <strong>multiple commits</strong> using the difference of two branches</td>
<td><code>git log &lt;branch1&gt;..&lt;branch2&gt;</code> — that means “all commits <strong>on <code>&lt;branch2&gt;</code></strong> that are not reachable from <code>&lt;branch1&gt;</code></td>
<td><code>git log master..topic1</code></td>
<td>The sequence of the <code>&lt;branch&gt;</code> matters in this command.</td>
</tr>
<tr>
<td>Showing <strong>multiple commits</strong> using the difference of two branches</td>
<td><code>git log &lt;branch1&gt;...&lt;branch2&gt;</code> which specifies all the commits that are reachable by either of two references <strong>but not by both of them</strong>/all the <strong>divergent commits</strong></td>
<td><code>git log master...topic1</code></td>
<td>A common switch to use with the log command in this case is <code>--left-right</code>, which shows you <strong>which branch (side) of the range each commit is in</strong>. This helps make the output more useful: <code>$ git log --left-right master...experiment</code></td>
</tr>
</tbody></table>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Whenver you want to <strong>see multiple commits</strong>, <strong>use <code>git log</code></strong> would be better than <code>git show</code>, because you can use <code>git log --oneline</code> to simplify the output while it is not available for <strong><code>git show</code></strong>, which is more for <strong>looking at a specific commit</strong>.</li>
</ul>
</blockquote>
<h2 id="Git-Tools-for-Interactive-Staging"><a href="#Git-Tools-for-Interactive-Staging" class="headerlink" title="Git Tools for Interactive Staging"></a>Git Tools for Interactive Staging</h2><p>These can help you <strong>craft your commits to include only certain combinations</strong> and parts of files. These tools are helpful if you modify a number of files extensively, then <strong>decide that you want those changes to be partitioned into several focused commits</strong> rather than one big messy commit. </p>
<p>Basically, <strong>interactive staging is initiated if you call <code>git add -i</code></strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git add -i</span><br><span class="line">           staged     unstaged path</span><br><span class="line">  1:    unchanged        +0&#x2F;-1 TODO</span><br><span class="line">  2:    unchanged        +1&#x2F;-1 index.html</span><br><span class="line">  3:    unchanged        +5&#x2F;-1 lib&#x2F;simplegit.rb</span><br><span class="line"></span><br><span class="line">*** Commands ***</span><br><span class="line">  1: [s]tatus     2: [u]pdate      3: [r]evert     4: [a]dd untracked</span><br><span class="line">  5: [p]atch      6: [d]iff        7: [q]uit       8: [h]elp</span><br><span class="line">What now&gt;</span><br></pre></td></tr></table></figure>

<p>Here, you will see <strong>changes that are staged</strong>, <strong>changes that are unstaged</strong>, and the <strong>file/path</strong></p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Function</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td><code>1</code> or <code>s</code></td>
<td>Shows the same content as you see above, with the updated status</td>
<td>-</td>
</tr>
<tr>
<td><code>2</code> or <code>u</code></td>
<td>First allows you to <strong>select file(s) of interest</strong>, and then <strong>add them to be staged</strong></td>
<td>When you typed <code>2</code> or <code>u</code>, you will see <code>Update&gt;&gt;</code>, and you can type in <code>1,2</code> to select the first and second file, and press enter so you will see the files with <code>*</code> mark as selected. Then press <code>Enter</code> again to do the changes.</td>
</tr>
<tr>
<td><code>3</code> or <code>r</code></td>
<td>First allows you to <strong>select file(s) of interest</strong>, and then *<em>undo the staging *</em></td>
<td>Similar as above</td>
</tr>
<tr>
<td><code>5</code> or <code>p</code></td>
<td>First allows you to <strong>select file(s) of interest</strong>, and then <strong>goes through each of the changes in that file</strong> and <strong>and let you decide whether if to incorporate the changes</strong></td>
<td>Similar as above, but when you need to select which change to add, you will be prompted with <code>Stage this hunk [y,n,a,d,/,j,J,g,e,?]</code>, with typing <code>?</code> allowing to see what each letter means</td>
</tr>
<tr>
<td><code>6</code> or <code>d</code></td>
<td>First allows you to <strong>select file(s) of interest that are staged</strong>, then you can see the <strong>staged diff</strong></td>
<td>Similar as above</td>
</tr>
</tbody></table>
<h2 id="Git-Tools-for-Stashing"><a href="#Git-Tools-for-Stashing" class="headerlink" title="Git Tools for Stashing"></a>Git Tools for Stashing</h2><p>When things are in a messy state and <strong>you want to switch branches for a bit to work on something else</strong>, but you <strong>don’t want to do a commit of half-done work</strong> just so you can get back to this point later, you can use <code>git stash</code> or <code>git stash push</code></p>
<p>For example, you have some modifications done but need to switch urgently to something else:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line">	modified:   index.html</span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   lib&#x2F;simplegit.rb</span><br></pre></td></tr></table></figure>
<p>Then you do:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git stash push</span><br><span class="line">Saved working directory and index state \</span><br><span class="line">  &quot;WIP on master: 049d078 Create index file&quot;</span><br><span class="line">HEAD is now at 049d078 Create index file</span><br><span class="line">(To restore them type &quot;git stash apply&quot;)</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line"># On branch master</span><br><span class="line">nothing to commit, working directory clean</span><br></pre></td></tr></table></figure>

<p>At this point, you can switch branches and do work elsewhere; <strong>your changes are stored on your stack</strong>. To see which stashes you’ve stored, you can use git stash list:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git stash list</span><br><span class="line">stash@&#123;0&#125;: WIP on master: 049d078 Create index file</span><br><span class="line">stash@&#123;1&#125;: WIP on master: c264051 Revert &quot;Add file_size&quot;</span><br><span class="line">stash@&#123;2&#125;: WIP on master: 21d80a5 Add number to log</span><br></pre></td></tr></table></figure>

<p>Then, when you finished your urgent work, you can reapply by <code>git stash apply stash@{&lt;number&gt;}</code>, which will <strong>reapply changes on the branch you run this command</strong>, much like a <code>rebase</code></p>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash apply stash@&#123;2&#125; --index</span><br></pre></td></tr></table></figure>
<p>The <code>--index</code> is often added because, when changes to your files were reapplied, by default the file you <strong>staged before will not be restaged</strong>, since it only reapplies the changes. To also <strong>re-stage what you have staged</strong>, you must run the <code>git stash apply</code> command with a <code>--index</code> option to tell the command to try to reapply the staged changes.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Similar to <code>rebase</code> or <code>merge</code>, there could be <strong>conflicts as changes might not re-apply cleanly</strong>, if the files you edited in your stash were edited again. To resolve the conflicts, the same mechanism for <code>merge</code> conflicts will pop up for you to deal with.</li>
<li><input disabled type="checkbox"> After you have applied a stash, remember to <code>drop</code> it (i.e. delete it), because by default <code>git stash apply</code> will <strong>only apply the changes</strong>, and you have to <strong>delete that resolved stash manually</strong> by <code>git stash drop stash@{&lt;number&gt;}</code></li>
<li><input disabled type="checkbox"> By default, <code>git stash</code> will stash <strong>only modified and staged tracked files</strong>. If you specify <code>--include-untracked</code> or <code>-u</code>, you can <strong>stash untracked files that are not ignored</strong>. To even include the ignored files, use <code>--all</code> or <code>-a</code> instead.</li>
</ul>
</blockquote>
<p>You can also use the <strong>interactive stash</strong> by running <code>git stash --patch</code> (not <code>-i</code>. This will prompt you interactively which of the <strong>changes you would like to stash</strong> and which you would like to <strong>keep/commit in your working directory</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ git stash --patch</span><br><span class="line">diff --git a&#x2F;lib&#x2F;simplegit.rb b&#x2F;lib&#x2F;simplegit.rb</span><br><span class="line">index 66d332e..8bb5674 100644</span><br><span class="line">--- a&#x2F;lib&#x2F;simplegit.rb</span><br><span class="line">+++ b&#x2F;lib&#x2F;simplegit.rb</span><br><span class="line">@@ -16,6 +16,10 @@ class SimpleGit</span><br><span class="line">         return &#96;#&#123;git_cmd&#125; 2&gt;&amp;1&#96;.chomp</span><br><span class="line">       end</span><br><span class="line">     end</span><br><span class="line">+</span><br><span class="line">+    def show(treeish &#x3D; &#39;master&#39;)</span><br><span class="line">+      command(&quot;git show #&#123;treeish&#125;&quot;)</span><br><span class="line">+    end</span><br><span class="line"></span><br><span class="line"> end</span><br><span class="line"> test</span><br><span class="line">Stash this hunk [y,n,q,a,d,&#x2F;,e,?]? y</span><br><span class="line"></span><br><span class="line">Saved working directory and index state WIP on master: 1b65b17 added the index file</span><br></pre></td></tr></table></figure>

<p>A last option is to <strong>create a new branch</strong> for recovering your stashed work. This is done by <code>git stash branch &lt;newBranchname&gt;</code>, for you with your selected branch name, <strong>checks out the commit you were on when you stashed your work</strong>, <strong>reapplies your work there</strong>, and then <strong>drops the stash if it applies</strong> successfully:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ git stash branch testchanges</span><br><span class="line">M	index.html</span><br><span class="line">M	lib&#x2F;simplegit.rb</span><br><span class="line">Switched to a new branch &#39;testchanges&#39;</span><br><span class="line">On branch testchanges</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line">	modified:   index.html</span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   lib&#x2F;simplegit.rb</span><br><span class="line"></span><br><span class="line">Dropped refs&#x2F;stash@&#123;0&#125; (29d385a81d163dfd45a452a2ce816487a6b8b014)</span><br></pre></td></tr></table></figure>

<h2 id="Git-Tools-for-Cleanig-Up-Your-Workspace"><a href="#Git-Tools-for-Cleanig-Up-Your-Workspace" class="headerlink" title="Git Tools for Cleanig Up Your Workspace"></a>Git Tools for Cleanig Up Your Workspace</h2><p>You can use <code>git clean</code> for deleting files that are <strong>not tracked</strong>. However, you’ll want to be pretty careful with this command, since, If you change your mind, there is often <strong>no retrieving the content of those files</strong>.</p>
<p>Therefore, often you might want to run <code>git clean --dry-run</code> or <code>git clean -n</code> to see what will happen before you run <code>git clean</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git clean --dry-run</span><br><span class="line">Would remove v1.0-3-gca2e64e.tar.gz</span><br><span class="line">Would remove v1.0-3-gca2e64e.zip</span><br></pre></td></tr></table></figure>
<p>However, these do <strong>not include ignored files</strong>. To include those files for removal, you need to add the option <code>-x</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git clean --dry-run -x</span><br><span class="line">Would remove .gitignore</span><br><span class="line">Would remove unTracked.txt</span><br><span class="line">Would remove v1.0-3-gca2e64e.tar.gz</span><br><span class="line">Would remove v1.0-3-gca2e64e.zip</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note </p>
<ul>
<li><input disabled type="checkbox"> Sometimes you might need to add the flag <code>-f</code> to do a <code>git clean</code>, because it is required if the Git <strong>configuration variable <code>clean.requireForce</code> is not explicitly set to <code>false</code></strong>. Therefore, you will need to force it by <code>-f</code>.</li>
</ul>
</blockquote>
<h2 id="Git-Tools-for-Signing-a-Commit"><a href="#Git-Tools-for-Signing-a-Commit" class="headerlink" title="Git Tools for Signing a Commit"></a>Git Tools for Signing a Commit</h2><p>In more recent versions of Git (v1.7.9 and above), you can now also <strong>sign individual commits</strong>. If you’re interested in signing commits directly instead of just the tags, all you need to do is add a <code>-S</code> to your <code>git commit</code> command.</p>
<p>However, first you need to get your <strong>GPG configured and your personal key installed</strong>.</p>
<p>If you don’t have a key installed, you can generate one with <code>gpg --gen-key</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --gen-key</span><br></pre></td></tr></table></figure>

<p>Then you can check it with:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --list-keys</span><br><span class="line">&#x2F;Users&#x2F;schacon&#x2F;.gnupg&#x2F;pubring.gpg</span><br><span class="line">---------------------------------</span><br><span class="line">pub   2048R&#x2F;0A46826A 2014-06-04</span><br><span class="line">uid                  Scott Chacon (Git signing key) &lt;schacon@gmail.com&gt;</span><br><span class="line">sub   2048R&#x2F;874529A9 2014-06-04</span><br></pre></td></tr></table></figure>

<p>Once you have a private key to sign with, you can configure Git to use it for signing things by setting the <code>user.signingkey</code> config setting.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.signingkey 0A46826A</span><br><span class="line">Now Git will use your key by default to sign tags and commits if you want.</span><br></pre></td></tr></table></figure>

<p>Now, you can sign your commit properly with <code>-S</code>, which will pop up a window for putting in the <strong>password you created when you create the key</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -a -S -m &#39;Signed commit&#39;</span><br><span class="line"></span><br><span class="line">You need a passphrase to unlock the secret key for</span><br><span class="line">user: &quot;Scott Chacon (Git signing key) &lt;schacon@gmail.com&gt;&quot;</span><br><span class="line">2048-bit RSA key, ID 0A46826A, created 2014-06-04</span><br><span class="line"></span><br><span class="line">[master 5c3386c] Signed commit</span><br><span class="line"> 4 files changed, 4 insertions(+), 24 deletions(-)</span><br><span class="line"> rewrite Rakefile (100%)</span><br><span class="line"> create mode 100644 lib&#x2F;git.rb</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/20/Git-Summary/" data-id="ckafdqrd30001rkt67oi12842" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-MarkDown-Summary" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/19/MarkDown-Summary/" class="article-date">
  <time datetime="2020-05-19T12:46:25.000Z" itemprop="datePublished">2020-05-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/19/MarkDown-Summary/">MarkDown Manual</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Line-Breaks-and-Indentation"><a href="#Line-Breaks-and-Indentation" class="headerlink" title="Line Breaks and Indentation"></a>Line Breaks and Indentation</h3><p>The content is basically the same as that of the Jupyter notebook</p>
<p>There will be a space between the previous line</p>
<p>This will be no space if I add two or more spaces at the end of this line<br>see, no space between a new line</p>
<p>This is is how to do block quotes</p>
<blockquote>
<p>A: quote 1<br>You could also have paragraphs in a block quote if you add the symbol &gt; in front</p>
<p>Here is a new line</p>
</blockquote>
<h3 id="Links-and-Images"><a href="#Links-and-Images" class="headerlink" title="Links and Images"></a>Links and Images</h3><p>This is how you add and image (the label will show if the image is not properly loaded): </p>




<p>This is how you create a link:<br><a href="http://jasonyux.github.io" target="_blank" rel="noopener">My Blog</a></p>
<h3 id="Code-Snippets"><a href="#Code-Snippets" class="headerlink" title="Code Snippets"></a>Code Snippets</h3><h5 id="From-now-on-it-is-only-supported-in-Github-Flavored-Markdown"><a href="#From-now-on-it-is-only-supported-in-Github-Flavored-Markdown" class="headerlink" title="From now on it is only supported in Github Flavored Markdown"></a>From now on it is only supported in Github Flavored Markdown</h5><p>This is how you create a code snippet:<br><code>main()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Strike-Through-text"><a href="#Strike-Through-text" class="headerlink" title="Strike-Through text"></a>Strike-Through text</h3><p><del>this</del></p>
<p><a href="https://github.com/jlord/sheetsee.js/issues/26" target="_blank" rel="noopener">https://github.com/jlord/sheetsee.js/issues/26</a></p>
<h3 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h3><p>A standard table:</p>
<table>
<thead>
<tr>
<th>First Header</th>
<th>Second Header</th>
</tr>
</thead>
<tbody><tr>
<td>Content cell 1</td>
<td>Content cell 2</td>
</tr>
<tr>
<td>Content column 1</td>
<td>Content column 2</td>
</tr>
</tbody></table>
<p>A table with different alignments: </p>
<table>
<thead>
<tr>
<th align="left">Left-aligned</th>
<th align="center">Center-aligned</th>
<th align="right">Right-aligned</th>
</tr>
</thead>
<tbody><tr>
<td align="left">git status</td>
<td align="center">git status</td>
<td align="right">git status</td>
</tr>
<tr>
<td align="left">git diff</td>
<td align="center">git diff</td>
<td align="right">git diff</td>
</tr>
</tbody></table>
<h3 id="Task-Lists"><a href="#Task-Lists" class="headerlink" title="Task Lists"></a>Task Lists</h3><ul>
<li><input disabled="" type="checkbox"> @mentions, #refs, <a href="">links</a>, <strong>formatting</strong>, and <del>tags</del> supported</li>
<li><input checked="" disabled="" type="checkbox"> list syntax required (any unordered or ordered list supported)</li>
<li><input checked="" disabled="" type="checkbox"> this is a complete item</li>
<li><input disabled="" type="checkbox"> this is an incomplete item</li>
</ul>
<p><a name="myAnchor1"></a></p>
<h3 id="Internal-Links-Anchors"><a href="#Internal-Links-Anchors" class="headerlink" title="Internal Links/ Anchors"></a>Internal Links/ Anchors</h3><p><a href="#myAnchor1">Link back to myAncho1</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/19/MarkDown-Summary/" data-id="ckafdqrcz0000rkt618uzf4d9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/05/25/Docker-Manual/">Docker Manual</a>
          </li>
        
          <li>
            <a href="/2020/05/22/Apache-Manual-md/">Apache Maven Manual</a>
          </li>
        
          <li>
            <a href="/2020/05/20/Git-Summary/">Git Manual</a>
          </li>
        
          <li>
            <a href="/2020/05/19/MarkDown-Summary/">MarkDown Manual</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Xiao Yu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>