<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>From a Beginner to a Disaster</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="From a Beginner to a Disaster">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="From a Beginner to a Disaster">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Xiao Yu">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="From a Beginner to a Disaster" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">From a Beginner to a Disaster</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Xiao.Y</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Git-Summary" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/20/Git-Summary/" class="article-date">
  <time datetime="2020-05-20T12:46:25.000Z" itemprop="datePublished">2020-05-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/20/Git-Summary/">Git Manual</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p><strong>IMPORTANT</strong>:<br>Much of the content here is a personal summary/abbrieviation of contents on the <a href="https://git-scm.com/book/en/v2" target="_blank" rel="noopener">Offical Git Guide</a>. For more complete information, please refer to the offical site.</p>
<hr>
<h2 id="Git-Intro"><a href="#Git-Intro" class="headerlink" title="Git Intro"></a>Git Intro</h2><ul>
<li>Version Control<ul>
<li>Version control is a <strong>system</strong> that records and manages changes for a file or a set of file, so that you could later revert those changes if needed</li>
</ul>
</li>
<li>Why Version Control<ul>
<li>Many default version-control method of choice is to simply copy files into another directory, and renaming them somehow to keep track of the changes</li>
<li>however, this could be inconvenient and error prone</li>
</ul>
</li>
<li>Solutions<ul>
<li>One of the most popular <strong>VCS</strong> tools was a system called <strong>RCS</strong>, which is still distributed with many computers today. <strong>RCS</strong> works by <strong>keeping patch sets</strong> (that is, the differences between files) <strong>in a special format on disk</strong>; it can then re-create what any file looked like at any point in time by adding up all the patches.<ul>
<li><em>Problem</em><ul>
<li>The next major issue that people encounter is that they need to collaborate with developers on other systems.</li>
</ul>
</li>
</ul>
</li>
<li>Centralized Version Control Systems (<strong>CVCSs</strong>) were developed as a solution to the problem above. These systems (such as CVS, Subversion, and Perforce) have <strong>a single server that contains all the versioned files</strong>, and <strong>a number of clients that check out files from that central place</strong>. For many years, this has been the standard for version control.<ul>
<li><em>Advantages</em><ul>
<li>everyone knows to a certain degree what everyone else on the project is doing. Administrators have fine-grained control over who can do what, and it’s far easier to administer a CVCS than it is to deal with local databases on every client.</li>
</ul>
</li>
<li><em>Problems</em><ul>
<li>If that server goes down for an hour, then during that hour nobody can collaborate at all or save versioned changes to anything they’re working on. If the hard disk the central database is on becomes corrupted, and proper backups haven’t been kept, you lose absolutely everything — the entire history of the project except whatever single snapshots people happen to have on their local machines.</li>
</ul>
</li>
</ul>
</li>
<li>Here Distributed Version Control Systems (<strong>DVCSs</strong>) step in. In a DVCS (such as Git, Mercurial, Bazaar or Darcs), clients don’t just check out the latest snapshot of the files; rather, they <strong>fully mirror the repository, including its full history</strong>. Thus, if any server dies, and these systems were collaborating via that server, <strong>any of the client repositories can be copied back up to the server to restore it</strong>. Every clone is really a full backup of all the data.<ul>
<li><em>Advantages</em><ul>
<li>you can collaborate with different groups of people in different ways simultaneously within the same project. This allows you to set up several types of workflows that aren’t possible in centralized systems, such as hierarchical models.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Git-Setup"><a href="#Git-Setup" class="headerlink" title="Git Setup"></a>Git Setup</h2><h2 id="Getting-Help-in-Git"><a href="#Getting-Help-in-Git" class="headerlink" title="Getting Help in Git"></a>Getting Help in Git</h2><p>To get more information about a command in Git, use any of the three below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git help &lt;verb&gt;</span><br><span class="line">$ git &lt;verb&gt; --help</span><br><span class="line">$ man git-&lt;verb&gt;</span><br></pre></td></tr></table></figure>
<p>It is recommended to use <code>git &lt;verb&gt; --help</code> because it sticks to the pattern of command line code. For example, for a quick refresher on the available options for a Git command, you do <code>git &lt;verb&gt; -h</code></p>
<ul>
<li><em>Notice</em><ul>
<li>Those commands are accessible even offline</li>
</ul>
</li>
</ul>
<h2 id="Git-Basics"><a href="#Git-Basics" class="headerlink" title="Git Basics"></a>Git Basics</h2><ul>
<li><p><strong>Getting a Git Repository</strong><br>This can be done in two ways</p>
<ol>
<li>take a local directory that is currently <strong>not under version control</strong> and turn it into a Git repository</li>
<li><code>clone</code> an existing Git repository from elsewhere</li>
</ol>
<p>Then you will end up with a Git repo on your local machine</p>
</li>
</ul>
<ol>
<li><p>To do achieve the <strong>first option</strong>, you need to first go to the project directory (for Windows):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd your_path</span><br></pre></td></tr></table></figure>
<p>Then type:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br></pre></td></tr></table></figure>
<p>This creates a new subdirectory named <strong>.git</strong> that contains all of your necessary repository files — a Git repository skeleton. At this point, <strong>nothing in your project is tracked yet</strong>.</p>
<p>To start version-controlling, you need to <code>git add</code> your file that you need to control, and then <code>git commit</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add yourFile1</span><br><span class="line">$ git add yourFile2</span><br><span class="line">$ git commit -m &#39;Initial project version&#39;</span><br></pre></td></tr></table></figure></li>
<li><p>To achieve the <strong>second option</strong>, for example, a project you’d like to contribute to — the command you need is <code>git clone</code>, so that Git receives <strong>a full copy of nearly all data that the server has</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone &lt;url&gt;</span><br></pre></td></tr></table></figure>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;libgit2&#x2F;libgit2 mylibgit</span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li><p><em>Notice</em></p>
<ul>
<li>you can <code>clone</code> a <strong>Git linkable library</strong> only</li>
<li>The above command will <strong>create a directory named libgit2</strong> under the <strong>current directory</strong>, initializes a .git directory inside it, pulls down all the data for that repository, and checks out a working copy of the latest version. </li>
<li>Git has a number of <strong>different transfer protocols you can use</strong>. The previous example uses the <code>https://</code> protocol, but you may also see <code>git://</code> or <code>user@server:path/to/repo.git</code>, which uses the SSH transfer protocol.</li>
</ul>
<p>If you want to <strong>clone the repository into a directory named something other than libgit2</strong>, you can specify the new directory name as an additional argument:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;libgit2&#x2F;libgit2 customizedName</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Recording-Changes"><a href="#Recording-Changes" class="headerlink" title="Recording Changes"></a>Recording Changes</h2><p>Typically, you’ll want to <strong>start making changes</strong> and <strong>committing snapshots of those changes</strong> (i.e. recording/saving those changes) into your repository each time the project reaches a state you want to record.</p>
<p>As you edit files, Git sees them as <strong>modified</strong>, because you’ve changed them since your last commit. As you work, you selectively <strong>stage these modified files</strong> and then <strong>commit/save all those staged changes</strong>, and the cycle repeats.</p>
<ul>
<li><em>Note</em><ul>
<li>Not all files under the directory will be <strong>tracked</strong>, and only <strong>tracked</strong> files will Git know about</li>
<li>once you <code>git add</code> to start your file to start tracking. Then it will be <strong>snapedshotted</strong> if you then call <code>git commit</code></li>
</ul>
</li>
</ul>
<h2 id="Checking-File-Status"><a href="#Checking-File-Status" class="headerlink" title="Checking File Status"></a>Checking File Status</h2><p>The main tool you use to <strong>determine which files are in which state</strong> is the <code>git status</code> command. </p>
<p>For example, if you see:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Your branch is up-to-date with &#39;origin&#x2F;master&#39;.</span><br><span class="line">nothing to commit, working directory clean</span><br></pre></td></tr></table></figure>
<p>A <strong>clean working directory</strong> means <strong>none of your tracked files are modified</strong>.</p>
<ul>
<li><em>Note</em><ul>
<li>this command can also show <strong>untracked</strong> files under the <strong>current directory</strong></li>
<li>if you want to <strong>start tracking</strong> those, you can call <code>git add fileNeedsToBeTracked</code></li>
</ul>
</li>
</ul>
<h2 id="Modifying-a-Tracked-File"><a href="#Modifying-a-Tracked-File" class="headerlink" title="Modifying a Tracked File"></a>Modifying a Tracked File</h2><p>There are three status that a tracked file can be at <strong>after being modified</strong>:</p>
<ol>
<li><strong>Unstaged and uncomitted</strong><ul>
<li>This happens <strong>right after</strong> you have <strong>modified a tracked file</strong>. At this point, if you did not call <code>git add thatFile</code> again, Git will only know about the previous checkpoint.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line">        modified:   firstFile.txt</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>Staged but uncommitted</strong><ul>
<li>This happens when you have modified a tracked file and called <code>git add thatFile</code>. Now, <strong>Git knows about it and it is thrown into the staging area</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span><br><span class="line">        new file:   LICENSE</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>Staged and committed</strong><ul>
<li>This happens when you call <code>git commit yourFile</code>, so that the <strong>changes move from the stanging area to be saved in your local repository</strong></li>
</ul>
</li>
</ol>
<h2 id="Difference-between-git-add-and-git-commit"><a href="#Difference-between-git-add-and-git-commit" class="headerlink" title="Difference between git add and git commit"></a>Difference between <code>git add</code> and <code>git commit</code></h2><ul>
<li><strong><em>Q: why add and commit as two functions? They seem to be two repeated checkpoint procedures.</em></strong></li>
</ul>
<p>The <code>git add</code> command adds a <strong>change in the working directory to the staging area</strong>. It tells Git that you want to include updates to a particular file in the next commit. However, <code>git add</code> doesn’t really affect the repository in any significant way—changes are not actually recorded until you run git commit.</p>
<p>The command <code>git commit</code> takes <strong>all changes in the Staging Area</strong>, wraps them together and** puts them in your Local Repository<strong>. A commit is simply a checkpoint telling git to track all changes that have occurred up to this point using our last commit as a comparison. **After committing, your Staging Area will be empty</strong>.</p>
<h2 id="Abbreviated-version-for-git-status"><a href="#Abbreviated-version-for-git-status" class="headerlink" title="Abbreviated version for git status"></a>Abbreviated version for <code>git status</code></h2><p>To quickly view which file is at which status, you can execute <code>git status -s</code> to see <strong>each file under the current directory with their status</strong></p>
<p>For example, you could see</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MM LICENSE.txt</span><br><span class="line">AM README.md</span><br><span class="line">M  firstFile.txt</span><br><span class="line">A  justTracked.txt</span><br><span class="line">?? unTracked.txt</span><br></pre></td></tr></table></figure>
<ul>
<li><code>A</code> stands for files just added after <strong>.git</strong> existed or <code>git init</code> was called</li>
<li><code>M</code> stands for files being modified<ul>
<li>a green <code>M</code> (at position 0) means it is <strong>modified and staged</strong></li>
<li>a red <code>M</code> (at position 1, if there is) means it is <strong>modified but unstaged</strong></li>
</ul>
</li>
<li><code>??</code> stands for files <strong>not being tracked</strong> by Git</li>
</ul>
<ul>
<li>[x]<em>Note</em><ul>
<li>Although it is not shown above, but the first letter will be green, and if there is a second letter, it will be red.</li>
</ul>
</li>
</ul>
<h2 id="Ignoring-Files"><a href="#Ignoring-Files" class="headerlink" title="Ignoring Files"></a>Ignoring Files</h2><p>A <strong>gitignore file</strong> specifies intentionally <strong>untracked files</strong> that Git should ignore. Files already tracked by Git are not affected.</p>
<p><strong>Each line in a gitignore file</strong> specifies a pattern. When deciding whether to ignore a path, Git normally checks gitignore patterns from multiple sources, with the following order of precedence, from highest to lowest.</p>
<ol>
<li>First, you need to have/create a <strong>.gitignore</strong> file under the repository. This can be simply done by <code>touch .gitignore</code></li>
<li>Then, you need to add texts to that file to specify rules for ignoring files. This can be done by <code>cat &gt;&gt; .gitgnore</code>, where <code>&gt;&gt;</code> means append. Then you press enter and start typing texts/rules, and when you finish, enter <code>Ctrl-D</code> to save.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt;&gt; .gitignore</span><br><span class="line">unTracked.txt</span><br><span class="line">*.[oa]</span><br><span class="line">*~</span><br></pre></td></tr></table></figure>
(alternatively, you could use <code>&gt;</code> instead of <code>&gt;&gt;</code>, which will override the content)<br>Now, since <strong>unTracked.txt</strong> was not tracked, it will be ignored and <strong>will not appear</strong> if you execute <code>git status</code></li>
</ol>
<ul>
<li><em>Note</em><ul>
<li><code>*</code> matches anything except a slash</li>
<li><code>?</code> matches any one character except “/“</li>
<li><code>[a-zA-Z]</code>is the range notation, which can be used to match <strong>one of the characters</strong> in a range.</li>
<li><code>!</code> negates a pattern. Put a backslash <code>\</code> in front of the first <code>!</code> for patterns that begin with a literal <code>!</code>, for example, <code>\!important.txt</code></li>
<li><code>**/someDirectory</code> means match in all directories named [someDirectory]. For example, <code>**/foo</code> matches file or directory “foo” anywhere</li>
<li><code>someDirectory/**</code> matches everything <strong>inside [someDirectory]</strong>. For example, <code>abc/**</code> matches all files inside directory [abc], relative to the location of the [.gitignore] file</li>
<li><code>someDirectory/**/otherDirectory</code> matches neted directories between [someDirectory] and [otherDirectory]</li>
</ul>
</li>
</ul>
<h2 id="Knowing-the-Modifications"><a href="#Knowing-the-Modifications" class="headerlink" title="Knowing the Modifications"></a>Knowing the Modifications</h2><ol>
<li><p>By just executing <code>git diff</code> will compare what is in your <strong>working directory</strong> with what is in your <strong>staging area</strong>. The result tells you the <strong>changes you’ve made that you haven’t yet staged</strong>.</p>
<p>For example:  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br><span class="line">warning: LF will be replaced by CRLF in firstFile.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br><span class="line">diff --git a&#x2F;firstFile.txt b&#x2F;firstFile.txt</span><br><span class="line">index 640bb73..caada99 100644</span><br><span class="line">--- a&#x2F;firstFile.txt</span><br><span class="line">+++ b&#x2F;firstFile.txt</span><br><span class="line">@@ -1,3 +1,5 @@</span><br><span class="line"> hello</span><br><span class="line"> hello</span><br><span class="line"> hello</span><br><span class="line">+</span><br><span class="line">+aa</span><br></pre></td></tr></table></figure>
<p>The <code>+</code> and <code>+aa</code> lines in the end means those are the lines added to the file, but <strong>not being staged yet.</strong></p>
</li>
<li><p>By executing <code>git diff --staged</code> will compare changes of the files between the <strong>staged</strong> state and the <strong>last edited</strong> state.</p>
<p>For example:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git diff --staged</span><br><span class="line">diff --git a&#x2F;firstFile.txt b&#x2F;firstFile.txt</span><br><span class="line">index e69de29..640bb73 100644</span><br><span class="line">--- a&#x2F;firstFile.txt</span><br><span class="line">+++ b&#x2F;firstFile.txt</span><br><span class="line">@@ -0,0 +1,3 @@</span><br><span class="line">+hello</span><br><span class="line">+hello</span><br><span class="line">+hello</span><br></pre></td></tr></table></figure>
<p>Notice that the last two lines <code>+</code> and <code>+aa</code> are not present.</p>
</li>
</ol>
<h2 id="Committing-Changes"><a href="#Committing-Changes" class="headerlink" title="Committing Changes"></a>Committing Changes</h2><p>Now if you want to commit to those changes, you can execute <code>git commit</code>. However, this will <strong>only commit changes that are staged</strong>, so <strong>modified yet unstaged</strong> changes will not be recorded.</p>
<p>After executing <code>git commit</code>, it will bring up your editor of choice, which can be chosen when you setup your Git.</p>
<p>For example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git commit</span><br><span class="line">[master 2031fb7] first commit made</span><br><span class="line"> 4 files changed, 11 insertions(+)</span><br><span class="line"> create mode 100644 LICENSE.txt</span><br><span class="line"> create mode 100644 README.md</span><br><span class="line"> create mode 100644 justTracked.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><em>Note</em><ul>
<li>the <strong>first line will be intentionally made blank</strong>, which is for you to write/describe what has been changed.</li>
<li>you can use the command <code>git commit -v</code> to also have the <strong>difference shown in the editor</strong> as well, so you know exactly what you have done</li>
<li>for a quick commit, you can do <code>git commit -m &quot;yourMessageHere&quot;</code>, which finishes the commit without even opening the editor</li>
<li>you also see which <strong>branch you committed to</strong> (<code>master</code>), what <strong>SHA-1 checksum</strong> the commit has (<code>2031fb7</code>)</li>
</ul>
</li>
</ul>
<p>After you have made a commmit, <strong>all the tracked file will not appear</strong> if you execute <code>git status -s</code></p>
<h2 id="Committing-and-Skipping-the-Staging"><a href="#Committing-and-Skipping-the-Staging" class="headerlink" title="Committing and Skipping the Staging"></a>Committing and Skipping the Staging</h2><p> If you want to skip the staging area, Git provides a simple shortcut. Adding the <code>-a</code> option to the <code>git commit</code> command makes Git automatically <strong>stage every file that is already tracked</strong> before doing the commit, letting you skip the <code>git add</code> part.</p>
<p>Though this is convenient, but be careful; sometimes this flag will cause you to include unwanted changes.</p>
<h2 id="Removing-Tracked-File-Untracking-File"><a href="#Removing-Tracked-File-Untracking-File" class="headerlink" title="Removing Tracked File/ Untracking File"></a>Removing Tracked File/ Untracking File</h2><ul>
<li><p>If you want to <strong>remove a tracked file</strong>, meaning you want to delete the file, you need to execute <code>git rm yourFile</code>. This will:</p>
<ol>
<li>remove the file from the <strong>current working directory</strong></li>
<li>remove the file from the <strong>staging area</strong></li>
</ol>
<p>Now, the <strong>next time you commit</strong>, it will be <strong>no longer tracked</strong> by Git since it will be completely removed.</p>
</li>
<li><p>If you want to <strong>untrack a tracked file</strong>, you execute <code>git rm --cached yourFile</code>. This will keep the file in your directory, but removed from the Git.</p>
<p>Now, same as before, you will still need to execute <code>git commit</code> to complete the removal from the Git</p>
</li>
</ul>
<h2 id="Renaming-a-File"><a href="#Renaming-a-File" class="headerlink" title="Renaming a File"></a>Renaming a File</h2><p>If you rename a file, and wants it still being tracked by Git properly, you should do<br><code>git mv myFile myNewFile</code></p>
<p>Now, if you call <code>git status</code>, you will see:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git mv README.md README</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Your branch is up-to-date with &#39;origin&#x2F;master&#39;.</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line">    renamed:    README.md -&gt; README</span><br></pre></td></tr></table></figure>

<p>This is also equivalent of doing seperately three lines:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mv README.md README</span><br><span class="line">$ git rm README.md</span><br><span class="line">$ git add README</span><br></pre></td></tr></table></figure>

<h2 id="Viewing-Commits"><a href="#Viewing-Commits" class="headerlink" title="Viewing Commits"></a>Viewing Commits</h2><p>You can see all commits in a repo by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log</span><br></pre></td></tr></table></figure>
<p>By default, with no arguments, <code>git log</code> lists the commits made in that repository in <strong>reverse chronological order</strong></p>
<ul>
<li><p>Useful options for <code>git log</code></p>
<ul>
<li><p><code>git log -p -2</code> will display <strong>2 most recent commits</strong>, and also showing the <strong>patches/changes made</strong></p>
</li>
<li><p><code>git log --stat</code> helps you quickly browse what happened during a series of commits that a collaborator has added. It will show additional information such as: <strong>a list of modified files</strong>, <strong>how many files were changed</strong>, and <strong>how many lines in those files were added and removed</strong>. It also puts a <strong>summary of the information at the end</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ git log --stat</span><br><span class="line">commit cae63d011d113c1d45818de4bec434216e10e9ef (HEAD -&gt; master)</span><br><span class="line">Author: Xiao Yu &lt;jasonyux17@gmail.com&gt;</span><br><span class="line">Date:   Wed May 20 10:59:55 2020 +0800</span><br><span class="line"></span><br><span class="line">    tested git file removal and untracking</span><br><span class="line"></span><br><span class="line"> firstFile.txt   | 6 ------</span><br><span class="line"> justTracked.txt | 0</span><br><span class="line"> 2 files changed, 6 deletions(-)</span><br><span class="line"></span><br><span class="line">commit 0e6428a6389d7748a0da2f0798be94999ce8c248</span><br><span class="line">Author: Xiao Yu &lt;jasonyux17@gmail.com&gt;</span><br><span class="line">Date:   Wed May 20 10:34:31 2020 +0800</span><br><span class="line"></span><br><span class="line">    second commit made</span><br><span class="line"></span><br><span class="line"> firstFile.txt | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line">commit 2031fb7fd0a90cf62d1c13d7cfb972e1ce10ad30</span><br><span class="line">Author: Xiao Yu &lt;jasonyux17@gmail.com&gt;</span><br><span class="line">Date:   Wed May 20 10:28:14 2020 +0800</span><br><span class="line"></span><br><span class="line">    first commit made</span><br><span class="line"></span><br><span class="line"> LICENSE.txt     | 5 +++++</span><br></pre></td></tr></table></figure></li>
<li><p><code>git log --pretty=oneline</code> This option <strong>changes the log output to formats</strong> other than the default. A few prebuilt options are available for you to use. The <code>oneline</code> option <strong>prints each commit on a single line</strong>, which is useful if you’re looking at a lot of commits.</p>
</li>
<li><p><code>git log --pretty=format:&quot;%h - %an, %ar : %s&quot;</code> This is customizing the format of the commit output. For example,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty&#x3D;format:&quot;%h - %an - %ar, commit: %s&quot;</span><br><span class="line">cae63d0 - Xiao Yu - 23 minutes ago, commit: tested git file removal and untracking</span><br><span class="line">0e6428a - Xiao Yu - 49 minutes ago, commit: second commit made</span><br><span class="line">2031fb7 - Xiao Yu - 55 minutes ago, commit: first commit made</span><br><span class="line">75d2c61 - Xiao Yu - 18 hours ago, commit: Initial project version</span><br></pre></td></tr></table></figure>
<p>So we can have options such as:</p>
<ul>
<li><code>%h</code> Abbreviated commit hash</li>
<li><code>%an</code> author name</li>
<li><code>%ar</code> author date, relative to now</li>
<li><code>%s</code> subject/commit message</li>
</ul>
</li>
<li><p><code>git log --since=&quot;2008-10-01&quot;</code> Limit the commits to those made after the specified date. You can also put “2.weeks” or “2 years 1 day 3 minutes ago”</p>
</li>
<li><p><code>git log --before=&quot;2008-10-01&quot;</code> Limit the commits to those made before the specified date.</p>
</li>
<li><p><code>git log --author=&quot;Xiao Yu&quot;</code> Only show commits in which the author entry matches the specified string.</p>
</li>
<li><p><code>git log --committer=&quot;Xiao Yu&quot;</code> Only show commits in which the committer entry matches the specified string.</p>
</li>
<li><p><code>git log --no-merges</code> to prevent the display of merge commits cluttering up your log history, which usually are not informative</p>
</li>
</ul>
</li>
</ul>
<h2 id="Changing-your-Staging"><a href="#Changing-your-Staging" class="headerlink" title="Changing your Staging"></a>Changing your Staging</h2><ol>
<li><p>If you forget to do some small changes, but you have just committed, you can easily “re-commit” by</p>
<ul>
<li>first make those additional changes you forgot</li>
<li>then <strong>stage them</strong></li>
<li>then <strong>committ again</strong> using <code>git commit --amend</code> to automatically include the new changes <strong>into the previous commit</strong></li>
</ul>
</li>
<li><p>If you want to “re-stage” a file for making additional changes, you use <code>git restore --staged &lt;file&gt;</code>. In fact, this adviced by the command <code>git status</code> as well:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)</span><br><span class="line">        modified:   README.md</span><br></pre></td></tr></table></figure>
<p>Now, the file [README.md] is unstaged and you can add changes to it and restage.</p>
</li>
</ol>
<h2 id="Changing-Undoing-your-Commit"><a href="#Changing-Undoing-your-Commit" class="headerlink" title="Changing/Undoing your Commit"></a>Changing/Undoing your Commit</h2><p>If you want to <strong>revert the file to its previous committed state</strong> (you cannot revert to those added state),  you have several options to do. You could:</p>
<ol>
<li><p>Run <code>git restore &lt;file&gt;</code>. In fact, this is also adviced by the command <code>git status</code> <strong>if the file is in the unstaged area</strong>. It is usually used for <strong>restoring files in the working tree from either the index or another commit</strong>. This command <strong>does not update your branch</strong>.</p>
</li>
<li><p>Run <code>git reset &lt;commit-id&gt;</code> is about <strong>updating your branch, moving the tip</strong> in order to add or remove commits from the branch</p>
</li>
<li><p>Run <code>git revert</code> which <strong>creates a new commit that undoes the changes from a previous commit</strong>. This command <strong>adds new history to the project</strong> (it doesn’t modify existing history).</p>
</li>
<li><p>Run <code>git checkout &lt;commit-id&gt;</code>. This is the most conservative and prefered by myself. It <strong>first move the HEAD to that commit</strong>, so that you can view changes at that point. However, this will make the <strong>HEAD DETACHED</strong>, because it <strong>does not follow any branch</strong> (in fact, Git will create a temporary branch for you, which will disappear once you switch to other branches), which means that if you do some changes here, they <strong>will not be visible once <code>checkout</code> to other branches</strong>. Therefore, now you will need to run <code>git branch -b &lt;yourBranchName&gt;</code> to create a branch <strong>and attach this <code>DETACHED HEAD</code> to that branch</strong>. Now, everything will be saved if you move around and switch bewteen branches.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you use the <code>restore</code> command, <strong>any local changes you made to that file are gon</strong>e — Git just <strong>replaced that file with the most recently-committed version</strong>. Don’t ever use this command unless you absolutely know that you don’t want those unsaved local changes.</li>
</ul>
</blockquote>
<p> If you would like to <strong>keep the changes</strong> you’ve made to that file but <strong>still need to get it out of the way for now</strong>, we’ll go over stashing and branching in <a href="#Git-Branching">Git Branching</a>; these are generally better ways to go.</p>
</li>
</ol>
<h2 id="Working-with-Remotes"><a href="#Working-with-Remotes" class="headerlink" title="Working with Remotes"></a>Working with Remotes</h2><p>To be able to collaborate on any Git project, you need to know how to <strong>manage your remote repositories</strong>. Remote repositories are <strong>versions of your project that are hosted on the Internet or network somewhere</strong>. Managing these remote repositories involves <strong>pushing and pulling data to and from them</strong> when you need to share work.</p>
<ul>
<li>To show the remote server for repo in the current  directory, you can execute <code>git remote</code>, or <code>git remote -v</code> to see the URLs stored as well.</li>
<li>To add a remote server, you can execute <code>git remote add &lt;shortname&gt; &lt;url&gt;</code>, which will configure the <strong>shortname/nickname</strong> for that repo. Then you can <strong>use that shortname to access that repo</strong>.<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> You can only add remote repo in an existing repo</li>
<li><input disabled type="checkbox"> Executing <code>git clone &lt;url&gt;</code> will give you a default shortname of <code>origin</code></li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="Difference-between-git-clone-and-git-remote-add"><a href="#Difference-between-git-clone-and-git-remote-add" class="headerlink" title="Difference between git clone and git remote add"></a>Difference between <code>git clone</code> and <code>git remote add</code></h2><ul>
<li><p><code>git remote add</code> just creates an entry in your git config that specifies a name for a particular URL. You must have an existing git repo to use this. You will not see a folder or any file from that repo. To get them, you need to use <code>git pull &lt;shortname&gt; &lt;branch&gt;</code></p>
</li>
<li><p><code>git clone</code> creates a new git repository by copying an existing one located at the URL you specify. This will be physical.</p>
</li>
</ul>
<h2 id="Fetching-and-Pulling-from-Remote-Repos"><a href="#Fetching-and-Pulling-from-Remote-Repos" class="headerlink" title="Fetching and Pulling from Remote Repos"></a>Fetching and Pulling from Remote Repos</h2><ol>
<li><code>git fetch &lt;remote&gt;</code> This command goes out to that remote project and <strong>pulls down all the data from that remote project that you don’t have yet</strong>. After you do this, you should have references to all the branches from that remote, which you can merge in or inspect at any time (merge operations will be discussed in <a href="#Git-Branching">Git Branching</a>.</li>
<li>If you <strong>cloned a repository</strong>, the command  <code>git fetch origin</code> fetches <strong>any new work that has been pushed to that server</strong> since you cloned (or last fetched from) it<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> <code>git fetch</code> command only <strong>downloads the data to your local repository</strong> — it <strong>doesn’t automatically merge it</strong> with any of your work <strong>or modify what you’re currently working on</strong>. You have to merge it manually into your work when you’re ready</li>
<li><input disabled type="checkbox"> <code>get pull</code> will <strong>fetch and merge the remote branches into your current branch</strong>. More covered in <a href="#Git-Branching">Git Branching</a></li>
</ul>
</blockquote>
</li>
</ol>
<h2 id="Viewing-Changes-After-Fetching"><a href="#Viewing-Changes-After-Fetching" class="headerlink" title="Viewing Changes After Fetching"></a>Viewing Changes After Fetching</h2><p>After you have fetched from your repo with <code>git fetch &lt;remote&gt;</code>, it will automatically update (or create) all the so-called <strong>“remote-tracking branches”</strong> for that remote (if you only want to fetch from a specific branch, you need to run <code>git fetch &lt;remote&gt;/&lt;branchName&gt;</code>).</p>
<p>Now, to see what has been changed, you can use the <code>^</code> or <code>..</code> operator. For example, If you want to see what remote <code>master</code> has compared to your local <code>master</code>, you ask Git to show you exactly this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log &lt;remote&gt;&#x2F;master ^master</span><br></pre></td></tr></table></figure>

<p>which means <strong>all commits reachable from <code>&lt;remote&gt;/master</code> which do not include commits reachable from <code>master</code></strong> or, alternatively</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log master..&lt;remote&gt;&#x2F;master</span><br></pre></td></tr></table></figure>

<h2 id="Pushing-Sharing-to-Your-Remote"><a href="#Pushing-Sharing-to-Your-Remote" class="headerlink" title="Pushing/Sharing to Your Remote"></a>Pushing/Sharing to Your Remote</h2><p>When you have your project at a point that you want to share, you have to push it upstream. The command for this is simple: <code>git push &lt;remote&gt; &lt;branch&gt;</code>. If you want to <strong>push your master branch to your origin server</strong> (again, cloning generally sets up both of those names for you automatically), then you can run this to <strong>push any commits you’ve done</strong> back up to the server:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> This command works only <strong>if you cloned from a server</strong> to which you <strong>have write access</strong> and <strong>if nobody has pushed in the meantime</strong>. If someone else if pushing, your push will be rejected and you will have to <strong>fetch their work first and incorporate it into yours</strong> before you’ll be allowed to push. </li>
</ul>
</blockquote>
<h2 id="Renaming-or-Removing-Remote-Repo"><a href="#Renaming-or-Removing-Remote-Repo" class="headerlink" title="Renaming or Removing Remote Repo"></a>Renaming or Removing Remote Repo</h2><ol>
<li>If you want to rename a shorthand for a remote repo, you can execute <code>git remote rename &lt;originalName&gt; &lt;newName&gt;</code> to change a remote’s shortname.</li>
<li>If you want to <strong>remove a remote for some reason</strong> — you’ve moved the server or are no longer using a particular mirror, or perhaps a contributor isn’t contributing anymore, you can use <code>git remote remove &lt;shortname&gt;</code></li>
</ol>
<h2 id="Inspecting-a-Remote-for-Pushing-and-Pulling-Information"><a href="#Inspecting-a-Remote-for-Pushing-and-Pulling-Information" class="headerlink" title="Inspecting a Remote for Pushing and Pulling Information"></a>Inspecting a Remote for Pushing and Pulling Information</h2><p>If you want to see more information about a particular remote, you can use the <code>git remote show &lt;remote&gt;</code> command</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git remote show pb</span><br><span class="line">* remote pb</span><br><span class="line">  Fetch URL: https:&#x2F;&#x2F;github.com&#x2F;paulboone&#x2F;ticgit</span><br><span class="line">  Push  URL: https:&#x2F;&#x2F;github.com&#x2F;paulboone&#x2F;ticgit</span><br><span class="line">  HEAD branch: master</span><br><span class="line">  Remote branches:</span><br><span class="line">    master tracked</span><br><span class="line">    ticgit tracked</span><br><span class="line">  Local ref configured for &#39;git push&#39;:</span><br><span class="line">    master pushes to master (local out of date)</span><br></pre></td></tr></table></figure>
<p>It lists the URL for the remote repository as well as the tracking branch information. The command helpfully tells you that if you’re on the master branch and you run git pull, it will automatically merge in the master branch on the remote after it fetches all the remote references. It also lists all the remote references it has pulled down.</p>
<p>In general, it will show you:</p>
<ul>
<li>which <strong>branch is automatically pushed to when you run <code>git push</code> while on certain branches</strong></li>
<li>which <strong>remote branches on the server you don’t yet have</strong></li>
<li>which <strong>remote branches you have but have been removed from the server</strong></li>
<li>multiple <strong>local branches that are able to merge</strong> automatically with their remote-tracking branch when you run <code>git pull</code></li>
</ul>
<h2 id="Tagging"><a href="#Tagging" class="headerlink" title="Tagging"></a>Tagging</h2><p>Git has the ability to <strong>tag specific points in a repository’s history as being important</strong>. Typically, people use this functionality to mark release points (<code>v1.0</code>, <code>v2.0</code> and so on).</p>
<h2 id="Listing-the-Tags-of-a-Repo"><a href="#Listing-the-Tags-of-a-Repo" class="headerlink" title="Listing the Tags of a Repo"></a>Listing the Tags of a Repo</h2><p>You can list <strong>all the tags</strong> by calling:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> this command lists the tags in <strong>alphabetical order</strong>; the order in which they are displayed <strong>has no real importance</strong>.</li>
</ul>
</blockquote>
<p>You can also filter the tags by using the optional <code>-l</code> or <code>--list</code>, for example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -l &quot;v1.8.5*&quot;</span><br></pre></td></tr></table></figure>
<p>This will list all the tags that *<em>starts with *</em><code>v1.8.5</code></p>
<h2 id="Creating-Tags"><a href="#Creating-Tags" class="headerlink" title="Creating Tags"></a>Creating Tags</h2><p>You can have two types of tags:</p>
<ol>
<li><p>a <strong>lightweight tag</strong></p>
<ul>
<li>it’s just a pointer to a specific commit. It <strong>does not have much information</strong> attached to it. (It does have a <strong>Checksum</strong>, and includes the <strong>author information</strong>) It is often used as a <strong>temporary tag</strong>.</li>
</ul>
</li>
<li><p>an <strong>annotated tag</strong></p>
<ul>
<li>stored as full objects in the Git database. They’re <strong>checksummed</strong>; contain the <strong>tagger name, email, and date; have a tagging message; and can be signed and verified with GNU Privacy Guard (GPG)</strong>. It’s generally recommended that you create annotated tags so you can have all this information</li>
</ul>
</li>
</ol>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Those tags will be attached to the <strong>lastest committed version</strong> of your repo</li>
</ul>
</blockquote>
<h2 id="Creating-a-Lightweight-Tag"><a href="#Creating-a-Lightweight-Tag" class="headerlink" title="Creating a Lightweight Tag"></a>Creating a Lightweight Tag</h2><p> This is basically the commit checksum stored in a file — no other information is kept. To create a lightweight tag, <strong>don’t supply</strong> any of the <code>-a</code>, <code>-s</code>, or <code>-m</code> options, just provide a tag name.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag &lt;tag-id&gt;</span><br></pre></td></tr></table></figure>


<h2 id="Creating-an-Annotated-Tag"><a href="#Creating-an-Annotated-Tag" class="headerlink" title="Creating an Annotated Tag"></a>Creating an Annotated Tag</h2><p>This is created by   </p>
<p><code>$ git tag -a &lt;tag-id&gt; -m &quot;yourMessage&quot;</code></p>
<ul>
<li><code>-a</code>, <code>-s</code>, or <code>-u</code> <code>&lt;keyid&gt;</code> is passed, the command <strong>creates a tag object</strong>, and <strong>requires a tag message</strong>. Unless <code>-m &lt;msg&gt;</code> or <code>-F &lt;file&gt;</code> is given, <strong>an editor is started for the user to type in the tag message</strong>.</li>
</ul>
<p>Then to see the message in that tag, use</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git show &lt;tag-id&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Don’t be mistaken to execute <code>git tag show &lt;tag-id&gt;</code>!</li>
</ul>
</blockquote>
<h2 id="Tagging-Previous-Commits"><a href="#Tagging-Previous-Commits" class="headerlink" title="Tagging Previous Commits"></a>Tagging Previous Commits</h2><p>To <strong>tag any specific commit</strong>, you specify the <strong>commit checksum (or part of it)</strong> at the end of the command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -a &lt;tag-id&gt; -m &quot;yourMessage&quot; &lt;commit-checksum&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Sharing-Tags"><a href="#Sharing-Tags" class="headerlink" title="Sharing Tags"></a>Sharing Tags</h2><p>By default, the <code>git push</code> command <strong>doesn’t transfer tags to remote servers</strong>. You will have to explicitly push tags to a shared server after you have created them. This process is just like sharing remote branches — you can run </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;repo-shortname&gt; &lt;tagname&gt;</span><br></pre></td></tr></table></figure>
<p>To push <strong>all the tags</strong>, you run</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;repo-shortname&gt; --tags</span><br></pre></td></tr></table></figure>

<h2 id="Deleting-Tags"><a href="#Deleting-Tags" class="headerlink" title="Deleting Tags"></a>Deleting Tags</h2><p>You can use</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -d &lt;tag-id&gt;</span><br></pre></td></tr></table></figure>
<p>to delete a specific tag. However, this does not remove the tag from the remote servers.</p>
<p>To delete the tag from the server, you could either use:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin --delete &lt;tag-id&gt;</span><br></pre></td></tr></table></figure>
<p>or, the slightly less intuitive command</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin :refs&#x2F;tags&#x2F;v1.4-lw</span><br></pre></td></tr></table></figure>
<p>which means the <strong>null value before the colon</strong> is being pushed to the <strong>remote tag name</strong>, effectively deleting it.</p>
<h2 id="Viewing-Files-at-a-Different-State-using-Tag"><a href="#Viewing-Files-at-a-Different-State-using-Tag" class="headerlink" title="Viewing Files at a Different State using Tag"></a>Viewing Files at a Different State using Tag</h2><p>You can view the different versions of files by using its tag. This is done by a <code>git checkout</code> of that tag, although this puts your repository in “detached HEAD” state, (which has some ill side effects)</p>
<ul>
<li>in a detached-head state, if you <strong>make changes and then create a commit</strong>, the tag will stay the same, but your <strong>new commit won’t belong to any branch and will be unreachable</strong>, except by the exact commit hash. Thus, if you need to make changes — say you’re fixing a bug on an older version, for instance — you will <strong>generally want to create a branch</strong> (covered more in <a href="#Git-Branching">Git Branching</a>)</li>
</ul>
<p><strong><em>Q: What does <code>git checkout</code> mean?</em></strong></p>
<p>If you call <code>git log</code>, you will see something called <code>HEAD</code>. <code>HEAD</code> is a label noting where you are in the <strong>commit tree</strong>. It moves with you when you <strong>move from one commit to another</strong>. <code>git checkout &lt;commit&gt;</code> is the basic mechanism for <strong>moving around in the commit tree, moving your focus (HEAD) to the specified commit</strong>.</p>
<p>The commit can be specified by any of a number of ways, <strong>commit hash</strong>, <strong>branch name</strong>, <strong>tag name</strong>, the relative syntax (HEAD^, HEAD~1, etc.) and so on. (It is often useful to consider a checkout to be changing branches)</p>
<h2 id="Git-Alias"><a href="#Git-Alias" class="headerlink" title="Git Alias"></a>Git Alias</h2><p>Alias can be understood as shortcuts to execute commands. They can be setup by using the <code>git config</code> command.</p>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.co checkout</span><br><span class="line">$ git config --global alias.br branch</span><br><span class="line">$ git config --global alias.ci commit</span><br><span class="line">$ git config --global alias.st status</span><br></pre></td></tr></table></figure>
<p>This means that </p>
<ul>
<li><code>git checkout</code> becomes <code>git co</code></li>
<li><code>git branch</code> becomes <code>git br</code></li>
<li><code>git commit</code> becomes <code>git ci</code></li>
<li><code>git status</code> becomes <code>git st</code></li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> <code>global</code> means access for <strong>one user</strong> (yourself) in <strong>all the repos</strong>. In comparison, <code>local</code> means for <strong>one user</strong> in this <strong>specific repo</strong>. <code>system</code> means for <strong>all users</strong> in <strong>all repos</strong>.</li>
</ul>
</blockquote>
<p>Some useful <strong>alias</strong> include:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.last &#39;log -1 HEAD&#39;</span><br></pre></td></tr></table></figure>
<p>So you can see the last commit easily:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git last</span><br><span class="line">commit e946cadfbd3b378582b0be5e5385a7702d1d10da (HEAD -&gt; master, tag: v1.0)</span><br><span class="line">Author: Xiao Yu &lt;jasonyux17@gmail.com&gt;</span><br><span class="line">Date:   Wed May 20 10:59:55 2020 +0800</span><br><span class="line"></span><br><span class="line">    amended: edited AND deleted file removal and untracking</span><br></pre></td></tr></table></figure>

<h2 id="Resetting-the-Alias"><a href="#Resetting-the-Alias" class="headerlink" title="Resetting the Alias"></a>Resetting the Alias</h2><p>If you find certain alias used before as a bad idea, you can do</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global --unset alias.&lt;yourAlias&gt;</span><br></pre></td></tr></table></figure>

<p>You can also directly edit in the config file to change the alias by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global --edit</span><br></pre></td></tr></table></figure>

<p>which will open the default text editor and then you can edit your alias directly (delete it if not needed).</p>
<p><a name="Git-Branching"></a></p>
<h2 id="Git-Branching"><a href="#Git-Branching" class="headerlink" title="Git Branching"></a>Git Branching</h2><p> Git doesn’t store data as a series of changesets or differences, but instead as a <strong>series of snapshots</strong>.</p>
<p>When you <strong>make a commit</strong>, Git stores a <strong>commit object that contains a pointer to the snapshot</strong> of the content you staged. This object also contains the author’s name and email address, the message that you typed, and <strong>pointers to the commit or commits that directly came before this commit</strong> (its parent or parents): <strong>zero parents for the initial commit</strong>, <strong>one parent for a normal commit</strong>, and <strong>multiple parents for a commit that results from a merge of two or more branches</strong>.</p>
<ol>
<li>When you staged a file/files<ul>
<li>Staging the files computes a <strong>checksum for each one</strong> (the SHA-1 hash we mentioned in Getting Started)</li>
<li>then <strong>stores that version of the file in the Git repository</strong> (Git refers to them as <strong>blobs</strong>)</li>
<li>finally <strong>adds that checksum to the staging area</strong></li>
</ul>
</li>
<li>When you commit by running <code>git commit</code><ul>
<li>Git <strong>checksums each subdirectory</strong> (in this case, just the root project directory) </li>
<li>stores them as a <strong>tree object</strong> in the Git repository. </li>
<li>Git then creates a commit object that has the metadata and a <strong>pointer to the root project tree</strong> so it can re-create that snapshot when needed.</li>
</ul>
</li>
</ol>
<p>If you had 3 files that were staged, and you committed them, you will get in totl five objects: <strong>three blobs</strong> (each representing the contents of one of the three files), <strong>one tree</strong> that lists the contents of the directory and specifies which file names are stored as which blobs, and <strong>one commit</strong> with the pointer to that root tree and all the commit metadata.</p>
<p>If you make some changes and commit again, the next <strong>commit object</strong> stores a <strong>(parent) pointer</strong> to the <strong>commit object</strong> that came immediately before it. Essentially it is like a linked list of <strong>commit objects</strong>.</p>
<p><strong>A branch in Git is simply a lightweight movable pointer to one of these commits objects</strong>. The default branch name in Git is <strong>master</strong> (default when you run <code>git init</code>). As you start making commits, you’re given a master branch that <strong>points to the last commit you made</strong>. Every time you commit, the master branch pointer moves forward automatically.</p>
<h2 id="Create-a-New-Branch"><a href="#Create-a-New-Branch" class="headerlink" title="Create a New Branch"></a>Create a New Branch</h2><p> Creating a new branch means <strong>creating a new pointer for you to move around</strong>. Let’s say you want to create a new branch called testing. You do this with the git branch command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch &lt;newBranchName&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> this new branch will by default point to the <strong>current commit object (the head)</strong> you are working on.</li>
<li><input disabled type="checkbox"> you can see the head commit object by running <code>git log</code></li>
</ul>
</blockquote>
<h2 id="Switching-Branches"><a href="#Switching-Branches" class="headerlink" title="Switching Branches"></a>Switching Branches</h2><p>To switch to an existing branch, you run the <code>git checkout</code> command. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout &lt;branchName&gt;</span><br></pre></td></tr></table></figure>

<p>For example, if you have another branch called <code>testing</code>, you switch to that by <code>git checkout testing</code>.</p>
<p>This will move the <strong>head</strong> to the <strong>new branch you are at</strong>. This means that now, if you make modifications and commit, you will create a <strong>new commit object that the head/your current branch points to</strong>, but <strong>the other branch still points to the original commit object</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Now, if you run <code>git log</code>, you will <strong>not see the new commit object that is made by the testing branch</strong>. By default, git log will only show commit history below the branch you’ve checked out.</li>
<li><input disabled type="checkbox"> In general, if you move backward in the tree, you will not be able to see future <strong>commit objects</strong> by running <code>git log</code></li>
<li><input disabled type="checkbox"> To <strong>show commit history for the desired branch</strong> you have to explicitly specify it: <code>git log &lt;branchName&gt;</code>. To <strong>show all of the branches</strong>, run <code>git log --all</code>.</li>
<li><input disabled type="checkbox"> You can actually create a new branch and switching to it at the same time — this can be done in one operation with <code>git checkout -b &lt;newBranchName&gt;</code></li>
</ul>
</blockquote>
<p>However, if you have made some changes in this new branch and <strong>switched back to the old branch</strong>, your current working directory will be <strong>reverted back to the snapshot that old branch points to</strong>. Now, if you make some changes on the old branch, the <strong>two branch will diverge</strong>:</p>
<ul>
<li>the new branch does not know that change made in the old branch</li>
<li>the old branch cannot go forward directly to the new branch because <strong>a commit object</strong> that both shared has been changed now</li>
<li>basically, you will have two different commit objects, one for the <strong>old branch</strong>, and another for the <strong>new branch</strong>, both links to the same parent. </li>
</ul>
<p>But don’t worry, <strong>in the end you can merge them together when you’re ready</strong>.</p>
<hr>
<p><strong>Making a Disaster</strong>:</p>
<ol>
<li>You can create a branch that points to the current <strong>head</strong> position, and then switch to the <strong>master</strong> branch. Then you can move the <strong>head</strong> using the checksum of the first commit by doing <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;checkSum&gt;</span><br></pre></td></tr></table></figure>
Now, the master head will point to the inital commit. If your friend is also working on this branch, they will be dismayed as thinking somehow all the progress is lost, but in fact it is kept by the other branch that you just created.</li>
</ol>
<hr>
<h2 id="Viewing-the-Diversion-Tree"><a href="#Viewing-the-Diversion-Tree" class="headerlink" title="Viewing the Diversion Tree"></a>Viewing the Diversion Tree</h2><p>The entire tree for all branches can be seen by running</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log --oneline --graph --all</span><br></pre></td></tr></table></figure>
<p>For example, it can look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git log --oneline --graph --all</span><br><span class="line">* ae182e6 (HEAD, testing) first commit made now more with the new testing branch</span><br><span class="line">| * e946cad (tag: v1.0, master) amended: edited AND deleted file removal and untracking</span><br><span class="line">| * 0e6428a second commit made</span><br><span class="line">| * 2031fb7 (tag: v0.1) first commit made</span><br><span class="line">|&#x2F;</span><br><span class="line">* 75d2c61 Initial project version</span><br></pre></td></tr></table></figure>
<p>So we see that the two branches are diverged at the first <strong>commit object</strong>.</p>
<h2 id="Merging-Different-Branches"><a href="#Merging-Different-Branches" class="headerlink" title="Merging Different Branches"></a>Merging Different Branches</h2><p>There are basically two cases: </p>
<ol>
<li><p>You have <strong>two diverged branches</strong>, but <strong>they used different files</strong>, or, to put it more suggestively, the <strong>file they shared are the same</strong>. In this case, it is simple for Git to figure out how to merge (basically just putting all the files together), and you run:<br><img src="/.com//05/20/Git-Summary/mergingCase1.png" alt="Picture from git-scm.com, figure 25"></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git merge testing</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> This means that you are merging files <strong>from the testing branch to the master branch</strong></li>
<li><input disabled type="checkbox"> The merge operation will only be allowed if you have <strong>committed in the testing branch</strong>/current working directory</li>
</ul>
</blockquote>
</li>
<li><p>You have <strong>two diverged branches</strong>, and they <strong>share a file that is modified differently in both branches</strong>. Now, if you want to merge them, Git will show you:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git merge testing</span><br><span class="line">Auto-merging firstFile.txt</span><br><span class="line">CONFLICT (content): Merge conflict in firstFile.txt</span><br><span class="line">Automatic merge failed; fix conflicts and then commit the result.</span><br></pre></td></tr></table></figure>
<p>In this example, [firstFile.txt] is modified for both branches, and they both depend on it. Therefore, the merging cannot be completed, and you will need to <strong>manually edit that file</strong>.</p>
<p>When you finish editing that file, you run <code>git add &lt;thatFile&gt;</code> to <strong>mark it as resolved</strong>, and then call <code>git commit</code> to <strong>complete the merge</strong>.</p>
</li>
</ol>
<p>In the end, when you have finished all the work, you can delete the branch you don’t need by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d &lt;branchName&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Branch-Management"><a href="#Branch-Management" class="headerlink" title="Branch Management"></a>Branch Management</h2><p>There are a handful of commands with <code>git branch</code> that is useful for branch management:</p>
<ul>
<li><code>git branch</code> This will show you a list of branches that yuo have, with an asterisk <code>*</code> in front of the current branch you are on.</li>
<li><code>git branch -v</code> Shows you a list of branches with their last commit message </li>
<li><code>git branch --merged</code> shows you branches that have been merged</li>
<li><code>git branch --unmerged</code> shows you branches that have not been merged</li>
</ul>
<blockquote>
<p>Note</p>
<ul>
<li><input disabled type="checkbox"> Each of the command above shows the information <strong>relative to the current branch</strong>. To specify which branch you want to know, you can do, for example, <code>git branch --no-merged testing</code> (to get information <strong>relative to the testing branch</strong>)</li>
</ul>
</blockquote>
<h2 id="Typical-WorkFlow-Using-Git-Branches"><a href="#Typical-WorkFlow-Using-Git-Branches" class="headerlink" title="Typical WorkFlow Using Git Branches"></a>Typical WorkFlow Using Git Branches</h2><p>Usually, people tend to put <strong>code that is entirely stable in their master branch</strong> — possibly only code that has been or will be released. They have another parallel branch named <strong>develop</strong> or <strong>next</strong> that they work from or use to test stability — it isn’t necessarily always stable, but whenever it gets to a <strong>stable state, it can be merged into master</strong>.</p>
<p>  In general, for some larger projects, you will want your branches are at various levels of stability, ordered from most stable top branch (<strong>master</strong>) to the least stable bottom branch(<strong>topic</strong>, for example); when they reach a <strong>more stable level, they’re merged into the branch above them</strong>.</p>
<p><img src="/.com//05/20/Git-Summary/branchManagement.png" alt="picture from https://git-scm.com/book/en/v2/Git-Branching-Branching-Workflows"></p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> It’s important to remember when you’re doing all this that <strong>these branches are completely local</strong>. When you’re branching and merging, <strong>everything is being done only in your Git repository</strong> — there is no communication with the server, for now.</li>
</ul>
</blockquote>
<h2 id="Remote-Branches"><a href="#Remote-Branches" class="headerlink" title="Remote Branches"></a>Remote Branches</h2><p><strong>Remote-tracking branches</strong> are references to the state of remote branches. They’re <strong>local references that you can’t move</strong>; <strong>Git moves them for you whenever you do any network communication</strong>, to make sure they accurately represent the state of the remote repository. Think of them as bookmarks, to remind you where the branches in your remote repositories were the last time you connected to them.</p>
<p><strong>Remote-tracking branch names</strong> take the form <code>&lt;remoteShortName&gt;/&lt;branch&gt;</code>. For instance, if you wanted to see what the <code>master</code> branch on your <code>origin</code> remote looked like as of the last time you communicated with it, you would check the <code>origin/master</code> branch. This means that, if you were working on an issue with a partner and they <strong>pushed up an <code>iss53</code> branch</strong>, but <strong>you also have your own local <code>iss53</code> branch</strong>, the branch on the server would be represented by the remote-tracking branch <code>origin/iss53</code> <strong>updated with your friend’s version</strong></p>
<p>Now, to synchronize your work with a given remote, you run </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch &lt;remoteShortName&gt; command</span><br></pre></td></tr></table></figure>
<p>This command looks up which server “<code>origin</code>” is (for example, it might be cloned from <code>git.ourcompany.com</code>), <strong>fetches any data from it that you don’t yet have</strong>, and updates your local database, moving your <code>origin/master</code> pointer to its new, more up-to-date position, but your <strong>current <code>master</code> pointer is still the same as you were working with</strong>.</p>
<h2 id="Colaborating-with-Multiple-Repos"><a href="#Colaborating-with-Multiple-Repos" class="headerlink" title="Colaborating with Multiple Repos"></a>Colaborating with Multiple Repos</h2><p>Say you have a main repo that you have cloned, with the shortname <code>origin</code> at <code>git.outcompany.com</code>, and you have another team working on that repo as well, with their repo being at <code>git team1.ourcompany.com</code></p>
<p><img src="/.com//05/20/Git-Summary/remoteBranches1.png" alt="Picture from https://git-scm.com/book/en/v2/Git-Branching-Remote-Branches, Figure 33"></p>
<p>You can add their work to your current repo by</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add git.team1.ourcompany.com teamone</span><br></pre></td></tr></table></figure>

<p>Now, you have their repo with the shortname <code>teamone</code>. You can fetch their progress to your local machine by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch teamone</span><br></pre></td></tr></table></figure>

<p>In this case, since <code>teamone</code> actually didn’t have anything more than the server had, nothing will be fecthed, but you will still obtain a <strong>branch <code>teamone</code> that marks their progress</strong></p>
<p><img src="/.com//05/20/Git-Summary/remoteBranches2.png" alt="Picture from https://git-scm.com/book/en/v2/Git-Branching-Remote-Branches, Figure 34"></p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> At this point, if all you have called is <code>fetch</code>, you will <strong>not have a physical copy of their work on your local machine</strong>, but just a <strong>unmovable pointer</strong>. To get their work to your local machine and work on it, you need to call <code>git merge teamone/master</code> and switch to that, or <code>git checkout -b teamone teamone/master</code>, which creates a new <strong>local branch called <code>teamone</code> that has all the progress on the server of <code>teamone</code></strong>.</li>
</ul>
</blockquote>
<h2 id="Pushing-Your-Branch-to-the-Server"><a href="#Pushing-Your-Branch-to-the-Server" class="headerlink" title="Pushing Your Branch to the Server"></a>Pushing Your Branch to the Server</h2><p> Your <strong>local branches aren’t automatically synchronized</strong> to the remotes you write to — you have to explicitly push the branches you want to share. That way, you can use private branches for work you don’t want to share, and <strong>push up only the topic branches you want to collaborate on</strong>.</p>
<p>To do this, you run:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;remoteShortName&gt; &lt;yourBranchName&gt;</span><br></pre></td></tr></table></figure>

<p>For example, you want to push up a branch <code>serverfix</code> to the server with shortname <code>origin</code>, you run:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin serverfix</span><br><span class="line">Counting objects: 24, done.</span><br><span class="line">Delta compression using up to 8 threads.</span><br><span class="line">Compressing objects: 100% (15&#x2F;15), done.</span><br><span class="line">Writing objects: 100% (24&#x2F;24), 1.91 KiB | 0 bytes&#x2F;s, done.</span><br><span class="line">Total 24 (delta 2), reused 0 (delta 0)</span><br><span class="line">To https:&#x2F;&#x2F;github.com&#x2F;schacon&#x2F;simplegit</span><br><span class="line"> * [new branch]      serverfix -&gt; serverfix</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> The command <code>git push origin serverfix</code> is a bit of a shortcut. The slightly more complete version is <code>git push origin serverfix:serverfix</code>, which means to <strong>push the <code>serverfix</code> branch of the local machine (left side of colon) to the <code>serverfix</code> branch of the server (right side of colon)</strong>. This means you could also push to have <strong>different names</strong> by <code>git push origin serverfix:anotherNameOnServer</code></li>
</ul>
</blockquote>
<h2 id="Tracking-Branches"><a href="#Tracking-Branches" class="headerlink" title="Tracking Branches"></a>Tracking Branches</h2><p>Checking out a <strong>local branch from a remote-tracking branch automatically creates what is called a “tracking branch”</strong> (and the branch it tracks is called an “upstream branch”). Tracking branches are local branches that have a <strong>direct relationship to a remote branch</strong>. If you’re on a tracking branch and type <code>git pull</code>, Git automatically knows which server to <code>fetch</code> from and which branch to merge in.</p>
<p>For example, when you made a <code>clone</code> from the server with shorthand <code>origin</code>, you made a <strong>tracking branch</strong> with a <strong>master</strong> branch that <strong>tracks</strong> the <strong>origin/master</strong> branch.</p>
<p>In general, when you do</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b &lt;branchName&gt; &lt;remoteShortName&gt;&#x2F;&lt;branchName&gt;</span><br></pre></td></tr></table></figure>

<p>You create a tracking branch of <code>&lt;branchName&gt;</code> tracking the <code>&lt;remoteShortName&gt;/&lt;branchName&gt;</code></p>
<p>In fact, this is so common that you could do the <strong>same thing</strong> by running, more explicitly:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout --track origin&#x2F;serverfix</span><br><span class="line">Branch serverfix set up to track remote branch serverfix from origin.</span><br><span class="line">Switched to a new branch &#39;serverfix&#39;</span><br></pre></td></tr></table></figure>
<p>But this will setup the <strong>same branchname as the branchname on the remote</strong>. If you want to <strong>change the local branchname</strong>, use the first one <code>git checkout -b &lt;branchName&gt; &lt;remoteShortName&gt;/&lt;branchName&gt;</code></p>
<h2 id="Difference-between-git-fetch-and-git-pull"><a href="#Difference-between-git-fetch-and-git-pull" class="headerlink" title="Difference between git fetch and git pull"></a>Difference between <code>git fetch</code> and <code>git pull</code></h2><p><code>git fetch</code> only gets you information on what their progess is, but <strong>does not have a physical copy</strong> of their work. <code>git pull</code> gets you both the information about their progess <strong>and a physical copy on your local machine</strong> of their work on server. </p>
<p><code>git pull</code>  is essentially a <code>git fetch</code> immediately followed by a <code>git merge</code> in most cases. If you <strong>have a tracking branch set up</strong> as demonstrated in the last section, either by explicitly setting it or by having it created for you by the clone or checkout commands, <code>git pull</code> <strong>will look up what server and branch your current branch is tracking</strong>, <strong>fetch from that server and then try to merge in that remote branch for you</strong>.</p>
<h2 id="Viewing-the-Current-Tracking-Branch"><a href="#Viewing-the-Current-Tracking-Branch" class="headerlink" title="Viewing the Current Tracking Branch"></a>Viewing the Current Tracking Branch</h2><p>You can view the current tracking branches by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch --all</span><br><span class="line">$ git branch -vv</span><br><span class="line">  iss53     7e424c3 [origin&#x2F;iss53: ahead 2] Add forgotten brackets</span><br><span class="line">  master    1ae2a45 [origin&#x2F;master] Deploy index fix</span><br><span class="line">* serverfix f8674d9 [teamone&#x2F;server-fix-good: ahead 3, behind 1] This should do it</span><br><span class="line">  testing   5ea463a Try something new</span><br></pre></td></tr></table></figure>
<p>So here we can see that:</p>
<ul>
<li><code>iss53</code> branch is tracking <code>origin/iss53</code> and is “ahead” by two, meaning that we have <strong>two commits locally that are not pushed to the server</strong>. </li>
<li><code>master</code> branch is tracking <code>origin/master</code> and is up to date. </li>
<li><code>serverfix</code> branch is tracking the <code>server-fix-good</code> branch on our teamone server and is ahead by three and behind by one, meaning that there is <strong>one commit on the server we haven’t merged in</strong> yet and three commits locally that we haven’t pushed. </li>
<li><code>testing</code> branch is <strong>not tracking any remote branch</strong>.<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> We ran <code>git fetch --all</code> before to make sure the <strong>data we have locally about the server is up-to-date</strong>. This means that <code>git branch --vv</code> will only <strong>compare the cached data from the server, and it does not update from the server if there are any changes</strong>.</li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="Switching-a-Tracking-Branch"><a href="#Switching-a-Tracking-Branch" class="headerlink" title="Switching a Tracking Branch"></a>Switching a Tracking Branch</h2><p>If you have a <strong>local branch that you want to track another branch on the server</strong>, you can use the <code>-u</code> or <code>--set-upstream-to</code> option to <code>git branch</code> to explicitly set your <strong>current branch</strong> at any time:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ git branch -u &lt;remoteShortName&gt;&#x2F;&lt;branchName&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Deleting-a-Remote-Branch"><a href="#Deleting-a-Remote-Branch" class="headerlink" title="Deleting a Remote Branch"></a>Deleting a Remote Branch</h2><p>Suppose you’re <strong>done with a remote branch</strong> — say you and your collaborators are finished with a feature and have <strong>merged it into your remote’s master branch</strong> (or whatever branch your stable codeline is in). You can delete a remote branch using the </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push &lt;remoteShortName&gt; --delete &lt;remoteBranchName&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> You don’t need to use <code>--delete &lt;remoteShortName&gt;/&lt;remoteBranchName&gt;</code>, because it is repetitive</li>
<li><input disabled type="checkbox"> This operation <strong>does not remove the branch in the server immediately</strong>. All this does is <strong>remove the pointer from the server</strong>. The Git server will generally keep the data there for a while <strong>until a garbage collection runs</strong>, so if it was accidentally deleted, it’s often easy to recover.</li>
</ul>
</blockquote>
<h2 id="Rebasing"><a href="#Rebasing" class="headerlink" title="Rebasing"></a>Rebasing</h2><p>In Git, there are <strong>two main ways to integrate changes from one branch into another</strong>: the <code>merge</code> and the <code>rebase</code>. </p>
<p>This second operation <code>rebase</code> basically stand from the fact that <code>merge</code> does a three-way-merge, so that in all case, even if two branches had <strong>modification on completely different files</strong>.</p>
<p>So if you <code>rebase</code>, what you want to do is actually this:</p>
<p><img src="/.com//05/20/Git-Summary/rebase1.png" alt="Picture from https://git-scm.com/book/en/v2/Git-Branching-Rebasing, Figure 37"></p>
<p>So, you can take the <strong>patch of the change that was introduced in C4</strong> and <strong>reapply</strong> it on top of C3. With the <code>rebase</code> command, you can take all the changes that were committed on one branch and <strong>replay them on a different branch</strong>.</p>
<p>To place <code>experiment</code> on top of <code>master</code>, you run:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout experiment</span><br><span class="line">$ git rebase master</span><br></pre></td></tr></table></figure>

<p>By <strong>replaying the changes</strong>, it means that this <code>rebase</code> operation does:</p>
<ul>
<li>going to the common ancestor of the two branches (the one you’re on and the one you’re rebasing onto) </li>
<li>getting the <strong>diff introduced by each commit of the branch you’re on</strong>, <strong>saving those diffs</strong> to temporary files, <strong>resetting the current branch to the same commit as the branch you are rebasing onto</strong>, and finally <strong>applying each change in turn</strong></li>
</ul>
<p>Finally, if you want to put your <strong>master</strong> in place of the head of the same branch as <strong>experiment</strong>, you need to switch back to <strong>master</strong> and <strong>merge</strong>. This time, it is guaranteed to have no conflicts because the diversion will be eliminated as the changes are <strong>replayed</strong> and the <strong>ancestors will become the same</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> The end product from <code>merge</code> and <code>rebase</code> will be the same, but rebasing makes for a <strong>cleaner history</strong>. If you examine the <code>log</code> of a rebased branch, it looks like a <strong>linear history</strong>: it appears that all the work happened in series, even when it originally happened in parallel.</li>
<li><input disabled type="checkbox"> Of course, do not rebase commits that exist outside your repository and that <strong>people may have based work on</strong>, because the changes are applied to that branch and it might <strong>destory their work</strong>.</li>
</ul>
</blockquote>
<h2 id="A-More-Complicated-Rebase"><a href="#A-More-Complicated-Rebase" class="headerlink" title="A More Complicated Rebase"></a>A More Complicated Rebase</h2><p>Conside the case:<br><img src="/.com//05/20/Git-Summary/complicatedRebase.png" alt="Picture from https://git-scm.com/book/en/v2/Git-Branching-Rebasing#rebasing-merging-example, Figure 39"><br>And you want to rebase the <strong>client</strong> branch to go from the <strong>master</strong> branch. This can be done simply using one line:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase --onto master server client</span><br></pre></td></tr></table></figure>

<p>This means to take the <strong>client</strong> branch, figure out the <strong>patches since it diverged from the server branch</strong>, and <strong>replay these patches in the client branch as if it was based directly off the master branch instead.</strong></p>
<hr>
<p><strong>Making a Disaster</strong></p>
<hr>
<h2 id="A-Disasterous-Case"><a href="#A-Disasterous-Case" class="headerlink" title="A Disasterous Case"></a>A Disasterous Case</h2><p>Consider if the server side actually <code>rebased</code> their <code>master</code> branch, and your work depends on it, and you did a <code>pull</code>, which automatically <code>merges</code> so it looks like this:<br><img src="/.com//05/20/Git-Summary/rebase2.png" alt="Picture from https://git-scm.com/book/en/v2/Git-Branching-Rebasing#rebasing-merging-example, Figure 46"></p>
<p>However, since we know that <code>C4</code> and <code>C6</code> are deleted/rebased because they are useless, we would also want <code>C4</code> and <code>C6</code> become removed. This can be done by <code>git pull --rebase</code> instead of <code>git pull</code>, which automatically successfully figure out what is <strong>uniquely yours</strong> and apply them back <strong>on top of the new branch</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you are using <code>git pull</code> and want to make <code>--rebase</code> the <strong>default</strong>, you can set the <code>pull.rebase config</code> value with something like <code>git config --global pull.rebase true</code>.</li>
</ul>
</blockquote>
<h2 id="Running-Git-On-Server"><a href="#Running-Git-On-Server" class="headerlink" title="Running Git On Server"></a>Running Git On Server</h2><p>Running a Git server is fairly straightforward. First, you <strong>choose which protocols you want your server to support</strong>. </p>
<p>A <strong>remote repository is generally a bare repository</strong> — a Git repository that has no working directory. Because the repository is only used as a collaboration point, there is no reason to have a snapshot checked out on disk; it’s just the Git data. In the simplest terms, a bare repository is the contents of your project’s <strong>.git directory</strong> and nothing else.</p>
<p>Basically, a <strong>bare repository does not directly contain the actual files and code that you want to edit</strong> on your local machine. However, when you do <code>git clone</code> from it, you will get the progress <strong>and the code</strong> translated from the bare repo on the server to your local machine where you cloned it. Everytime you push changes to the <strong>remote bare repo</strong>, only the <strong>progress information</strong> will be pushed, but there will <strong>still be no actual code files in the remote bare repo</strong></p>
<h2 id="The-Protocals-for-Git-Data-Transfer"><a href="#The-Protocals-for-Git-Data-Transfer" class="headerlink" title="The Protocals for Git Data Transfer"></a>The Protocals for Git Data Transfer</h2><p>Git can use four distinct protocols to transfer data: <strong>Local</strong>, <strong>HTTP</strong>, <strong>Secure Shell</strong> (SSH) and <strong>Git</strong>.</p>
<ol>
<li><p><strong>Local</strong> Protocal</p>
<ul>
<li><p>The most basic is the Local protocol, in which the <strong>remote repository is in another directory on the same host</strong>. This is often used if everyone on your team has access to a shared filesystem such as an NFS mount, or in the less likely case that everyone logs in to the same computer.</p>
</li>
<li><p>Then to clone a local bare repository, you run </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone &#x2F;your&#x2F;gitrepo&#x2F;directory.git</span><br></pre></td></tr></table></figure>
<p>Or you can run</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone file:&#x2F;&#x2F;&#x2F;your&#x2F;gitrepo&#x2F;directory.git</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Doing it in the first way is a faster transfer process, but it will let Git use <strong>hardlinks</strong> or <strong>directly copy the files it needs</strong>.</li>
<li><input disabled type="checkbox"> Doing it the second way will fire up the processes that Git normally uses to <strong>transfer data over a network</strong>, which is generally much <strong>less efficient</strong>. The main reason to specify the <code>file://</code> prefix is if you want a <strong>clean copy of the repository with extraneous references or objects left out</strong></li>
</ul>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>HTTP</strong> Protocols</p>
<ul>
<li>Smart HTTP<ul>
<li>Smart HTTP operates very similarly to the SSH or Git protocols but runs over standard HTTPS ports and can use various HTTP authentication mechanisms, meaning it’s often easier on the user than something like SSH, since <strong>you can use things like username/password authentication rather than having to set up SSH keys</strong>.</li>
<li>This has become the most popilar way to use Git now, and in fact, for services like GitHub, <strong>the URL you use to view the repository online</strong> (for example, <a href="https://github.com/schacon/simplegit" target="_blank" rel="noopener">https://github.com/schacon/simplegit</a>) <strong>is the same URL you can use to clone and, if you have access, push over</strong>.</li>
</ul>
</li>
<li>Dumb HTTP<ul>
<li>If the server does not respond with a Git HTTP smart service, the Git client will try to fall back to the simpler Dumb HTTP protocol. The <strong>Dumb protocol expects the bare Git repository to be served like normal files from the web server</strong>. The beauty of Dumb HTTP is the <strong>simplicity of setting it up</strong>. Basically, all you have to do is <strong>put a bare Git repository under your HTTP document root and set up a specific post-update hook, and you’re done</strong> (See Git Hooks). </li>
</ul>
</li>
</ul>
</li>
<li><p><strong>SSH</strong> Protocal</p>
<ul>
<li><p>A common transport protocol for Git when self-hosting is over SSH. This is because SSH access to servers is already set up in most places — and if it isn’t, it’s easy to do. SSH is also an authenticated network protocol and, because it’s ubiquitous, it’s generally easy to set up and use.</p>
</li>
<li><p>To clone a Git repository over SSH, you can specify an <code>ssh:// URL</code> like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone ssh:&#x2F;&#x2F;[user@]server&#x2F;project.git</span><br></pre></td></tr></table></figure>
<p>Or you can use the shorter scp-like syntax for the SSH protocol:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone [user@]server:project.git</span><br></pre></td></tr></table></figure>

<p>In both cases above, if you don’t specify the optional <code>&lt;username&gt;</code>, Git assumes the user you’re currently logged in as ?.</p>
<blockquote>
<p>Note</p>
<ul>
<li><input disabled type="checkbox"> A negative aspect of SSH is that it <strong>doesn’t support anonymous access to your Git repository</strong>. If you’re using SSH, people <strong>must have SSH access to your machine</strong>, even in a read-only capacity, which doesn’t make SSH conducive to open source projects for which people might simply want to clone your repository to examine it.</li>
</ul>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>Git Protocal</strong></p>
<ul>
<li><p>Finally, we have the Git protocol. This is a special daemon that comes packaged with Git; it listens on a dedicated port (9418) that provides a service similar to the SSH protocol, but with <strong>absolutely no authentication</strong>. In order for a repository to be served over the Git protocol, you <strong>must create a <code>git-daemon-export-ok</code> file</strong> — the daemon won’t serve a repository without that file in it — but, other than that, there is <strong>no security</strong>. Either the Git repository is available for everyone to <code>clone</code>, or it isn’t. This is means that <strong>it will be read-only for either everyone or no-one.</strong> </p>
</li>
<li><p>However, you can also setup <strong>push access</strong>, but, this means that, given the lack of authentication, it will be <strong>pushable for everyone or no-one on the internet</strong>.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> It is the fastest network transfer protocal available currently. It uses the same data-transfer mechanism as the SSH protocol <strong>but without the encryption and authentication overhead</strong>. </li>
<li><input disabled type="checkbox"> It’s generally undesirable for the Git protocol to be the only access to your project. <strong>Generally, you’ll pair it with SSH or HTTPS access for the few developers who have push (write) access and have everyone else use <code>git://</code> for read-only access</strong>. It’s also probably the most difficult protocol to set up. It must run its own daemon, which requires xinetd or systemd configuration or the like, which isn’t always a walk in the park. </li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ol>
<h2 id="Setting-up-Git-on-a-Server"><a href="#Setting-up-Git-on-a-Server" class="headerlink" title="Setting up Git on a Server"></a>Setting up Git on a Server</h2><h2 id="Setting-up-an-Existing-Git-Repo-on-Github"><a href="#Setting-up-an-Existing-Git-Repo-on-Github" class="headerlink" title="Setting up an Existing Git Repo on Github"></a>Setting up an Existing Git Repo on Github</h2><ol>
<li><p>First you need to decide which protocal to use. Github provides two protocals: HTTP and SSH, which you can get when you see the <code>Quick Setup</code> tab or when you are inside the repo with the <code>Clone or Download</code>.</p>
</li>
<li><p>Then, you navigate to your existing repo in your Git Bash, and add the remote repo by:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add &lt;remoteShortName&gt; &lt;remoteURLYouJustCopied&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>Then you can push any of your branch in your local repo to the remote repo by:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;remoteShortName&gt; &lt;localBranchName:remoteBranchName&gt;</span><br></pre></td></tr></table></figure>
<p> If the <remoteBranchName> is the same as your <localBranchName>, then you can just</localBranchName></remoteBranchName></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;remoteShortName&gt; &lt;localBranchName&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Distributed-WorkFlows"><a href="#Distributed-WorkFlows" class="headerlink" title="Distributed WorkFlows"></a>Distributed WorkFlows</h2><p> The aim for these flows is how to contribute code successfully to a project and make it <strong>as easy on you and the project maintainer as possible</strong>, and also how to <strong>maintain a project successfully with a number of developers contributing</strong>.</p>
<p> In general, due to the flexibility of Git, it presents <strong>a vast range of workflow possibilities for your project and/or your team</strong>, so we’ll cover a few common paradigms that take advantage of this flexibility.</p>
<ol>
<li><p><strong>Centralized Workflow</strong><br><img src="/.com//05/20/Git-Summary/centralized_workflow.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows, Figure 54"></p>
<p> This means that if two developers clone from the hub and both make changes, <strong>the first developer to push their changes back up can do so with no problems</strong>. The <strong>second developer must merge</strong> in the first one’s work before pushing changes up, so as not to overwrite the first developer’s changes.    </p>
</li>
<li><p><strong>Integration-Manager Workflow</strong><br>Because Git allows you to have multiple remote repositories, it’s possible to have a workflow where each developer has <strong>write access to their own public repository</strong> and <strong>read access to everyone else’s</strong>. </p>
<p> <img src="/.com//05/20/Git-Summary/integration-manager.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows, Figure 55"></p>
<p> This scenario often includes a <strong>canonical repository that represents the “official” project</strong>. To contribute to that project, you <strong>create your own public clone</strong> of the project and push your changes to it. Then, you can send a <strong>request to the maintainer of the main project to pull in your changes</strong>. The maintainer can then add your repository as a remote, <strong>test your changes locally</strong>, <strong>merge them into their branch</strong>, and <strong>push back to their repository</strong>. </p>
<ol>
<li>The project maintainer/manager pushes to their public/blessed repository.</li>
<li>A contributor/developer clones that repository and makes changes.</li>
<li>The contributor/developer pushes to their own public repository.</li>
<li>The contributor/developer sends the maintainer an email asking them to pull changes.</li>
<li>The maintainer/manager adds the contributor/developer’s repository as a remote and merges locally.</li>
<li>The maintainer/manager pushes merged changes to the main repository.</li>
</ol>
</li>
</ol>
<h2 id="Commit-Guidelines"><a href="#Commit-Guidelines" class="headerlink" title="Commit Guidelines"></a>Commit Guidelines</h2><p>Having a good guideline for <strong>creating commits and sticking to it</strong> makes working with Git and collaborating with others a lot easier. The Git project provides a document that lays out a number of good tips for creating commits from which to submit patches — you can read it in the Git source code in the <code>Documentation/SubmittingPatches</code> file</p>
<ul>
<li><p>Do <strong>not commit/make whitespace changes</strong> (i.e. adding meaningless whitespaces into the program and committing those as changes). This can be easily detected by running</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br></pre></td></tr></table></figure></li>
<li><p>Try to make <strong>each commit a logically separate changeset</strong>. If you can, try to make your <strong>changes digestible</strong> — don’t code for a whole weekend on five different issues and then submit them all as one massive commit on Monday. Even if you don’t commit during the weekend, use the staging area on Monday to split your work into at least one commit per issue, with a <strong>useful message per commit</strong>.</p>
</li>
<li><p>Creating <strong>quality commit messages</strong> makes using and collaborating with Git a lot easier. <strong>As a general rule</strong>, your messages should start with a single line that’s no more than about 50 characters and that describes the changeset concisely, followed by a blank line, followed by a more detailed explanation. (The <strong>Git project requires that the more detailed explanation include your motivation for the change and contrast its implementation with previous behavior</strong> — this is a good guideline to follow. Write your <strong>commit message in the imperative</strong>: “Fix bug” and not “Fixed bug” or “Fixes bug.”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">CAPITALIZED, short (50 chars or less) summary</span><br><span class="line"></span><br><span class="line">More detailed explanatory text, if necessary.  Wrap it to about 72</span><br><span class="line">characters or so.  In some contexts, the first line is treated as the</span><br><span class="line">subject of an email and the rest of the text as the body.  The blank</span><br><span class="line">line separating the summary from the body is critical (unless you omit</span><br><span class="line">the body entirely); tools like rebase can get confused if you run the</span><br><span class="line">two together.</span><br><span class="line"></span><br><span class="line">Write your commit message in the imperative: &quot;Fix bug&quot; and not &quot;Fixed bug&quot;</span><br><span class="line">or &quot;Fixes bug.&quot;  This convention matches up with commit messages generated</span><br><span class="line">by commands like git merge and git revert.</span><br><span class="line"></span><br><span class="line">Further paragraphs come after blank lines.</span><br><span class="line"></span><br><span class="line">- Bullet points are okay, too</span><br><span class="line"></span><br><span class="line">- Typically a hyphen or asterisk is used for the bullet, followed by a</span><br><span class="line">  single space, with blank lines in between, but conventions vary here</span><br><span class="line"></span><br><span class="line">- Use a hanging indent</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Branch-Naming"><a href="#Branch-Naming" class="headerlink" title="Branch Naming"></a>Branch Naming</h2><p>Sometimes, the maintainer of the Git project tends to <strong>namespace these branches</strong> — such as <code>sc/ruby_client</code>, where <code>sc</code> is short for the person who contributed the work, and <code>ruby_client</code> is the branch the person worked on. </p>
<p>Therefore, it is sometimes a good idea to format your branchname to:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b &lt;yourNickName&#x2F;descriptiveBranchName&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Forking-a-Project"><a href="#Forking-a-Project" class="headerlink" title="Forking a Project"></a>Forking a Project</h2><p>Sometimes you want to work with a project that you do <strong>not have open push access to</strong>, but you might have the <strong>fork</strong> option, which allows you to <strong>clone the repo at least</strong>.</p>
<p>In this case, if you want to add some feature to the project, say <code>featureA</code>, you could:</p>
<ol>
<li><strong>clone the project to your local machine</strong></li>
<li>create a new branch <code>featureA</code> and work on it</li>
<li>create your <strong>own remote repo</strong> of the same project by <strong>forking that project</strong></li>
<li><strong>push changes</strong> (preferably <strong>just the branch you edited</strong>, because if the change is <code>cherry-picked</code> or rejected, you don’t need to do too much rewindings) <strong>to your own remote repo that your forked</strong></li>
<li>Now you need to <strong>notify the maintainers of the original project that you have work you’d like them to merge</strong>. This is often called a <strong>pull request</strong>, and you typically generate such a request either via the website — <strong>GitHub has its own “Pull Request” mechanism</strong> — or you can run the <code>git request-pull</code> command and email the subsequent output to the project maintainer manually.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git request-pull &lt;targetRemoteShortName&gt;&#x2F;&lt;targetBranch&gt; &lt;myRemote&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> To keep your forked project up-to-date, you could add another <code>upstream</code> remote to your local forked repo. Then, to update your local <code>master</code> branch with what the server has, you can run <code>git fetch upsteam/master</code> and then <code>checkout</code> to your local <code>master</code>, run <code>git merge upstream/master</code> to merge in the new changes</li>
</ul>
</blockquote>
</li>
</ol>
<h2 id="Difference-bewtween-git-merge-squash-and-git-rebase"><a href="#Difference-bewtween-git-merge-squash-and-git-rebase" class="headerlink" title="Difference bewtween git merge --squash and git rebase"></a>Difference bewtween <code>git merge --squash</code> and <code>git rebase</code></h2><p>Sometimes, when there where quite a lot of updates in the server’s <code>master</code> branch, and you would like your new changes to be based on the latest commit/change made, you would either do a <code>rebase</code> or your <code>featureA</code> branch to be directly off from the latest <code>&lt;remoteRepo&gt;/master</code> branch, or you could do a <code>merge --squash</code>.</p>
<ul>
<li>doing a <code>rebase</code> would produce a cleaner history by actually moving your branch to continue off from the <code>&lt;remoteRepo&gt;/master</code> branch. This means it deletes the your original diverged branch and places it newly there.</li>
<li>doing a <code>merge --squash</code> would <strong>not delete your original diverged branch</strong>, <strong>and base it off from the lastest <code>&lt;remoteRepo&gt;/master</code> branch</strong>. It does <strong>not delete the divergent history</strong>. This works by <strong>squashing all your changes/commit objects in your divergent branch to a single one</strong>, and puts it at the tip of the <code>&lt;remoteRepo&gt;/master</code> branch.</li>
</ul>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> After you do a <code>git merge --squash &lt;targetBranch&gt;</code>, you need to *<em>call another <code>git commit</code> *</em>manually to finish the change.</li>
</ul>
</blockquote>
<h2 id="Nofifying-Changes-via-Email"><a href="#Nofifying-Changes-via-Email" class="headerlink" title="Nofifying Changes via Email"></a>Nofifying Changes via Email</h2><p>Sometimes, some projects might accept patches via a developer <strong>mailing list instead of pull requests</strong>. In this case, you need to mail your changes by:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git format-patch -M &lt;remoteShortName&gt;&#x2F;master</span><br></pre></td></tr></table></figure>
<p>For example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git format-patch -M testRepo&#x2F;master</span><br><span class="line">0001-TESTING-EMAIL-PATCH.patch</span><br></pre></td></tr></table></figure>

<ul>
<li>The <code>git format-patch</code> is used to generate the mbox-formatted files that you can email to the list.</li>
</ul>
<p>This will create a <strong>patch file</strong> under your current directory, which will look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ cat 0001-TESTING-EMAIL-PATCH.patch</span><br><span class="line">From 41d19b4ea8be07b026f28cd4052bfdbc4a2f38b0 Mon Sep 17 00:00:00 2001</span><br><span class="line">From: Xiao Yu &lt;jasonyux17@gmail.com&gt;</span><br><span class="line">Date: Thu, 21 May 2020 17:53:36 +0800</span><br><span class="line">Subject: [PATCH] TESTING EMAIL PATCH</span><br><span class="line"></span><br><span class="line">Created a new file for testing to send an email patch.</span><br><span class="line">---</span><br><span class="line"> newFileTestingEmailPatch.txt | 0</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 newFileTestingEmailPatch.txt</span><br><span class="line"></span><br><span class="line">diff --git a&#x2F;newFileTestingEmailPatch.txt b&#x2F;newFileTestingEmailPatch.txt</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..e69de29</span><br><span class="line">--</span><br><span class="line">2.26.2.windows.1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> If you want to edit some writings. you can also <strong>edit text between the — line and the beginning of the patch (the diff –git line)</strong>, if you <strong>don’t want them to show up in the commit message</strong>, so that the developers can read it, but that content is ignored by the patching process.</li>
</ul>
</blockquote>
<p>To email this to a mailing list, you can <strong>either paste the file into your email</strong> program or <strong>send it via a command-line program</strong>. Pasting the text often causes formatting issues, especially with “smarter” clients that don’t preserve newlines and other whitespace appropriately.</p>
<ol>
<li><p>Sending it via commandline through an <strong>IMAP</strong> server</p>
<ul>
<li><p>You will need to navigate to your <code>~/.gitconfig</code> file and add those lines in the end of the file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[imap]</span><br><span class="line">  folder &#x3D; &quot;[Gmail]&#x2F;Drafts&quot;</span><br><span class="line">  host &#x3D; imaps:&#x2F;&#x2F;imap.gmail.com</span><br><span class="line">  user &#x3D; user@gmail.com</span><br><span class="line">  pass &#x3D; YX]8g76G_2^sFbd</span><br><span class="line">  port &#x3D; 993</span><br><span class="line">  sslverify &#x3D; false</span><br></pre></td></tr></table></figure>
<p>If your IMAP server <strong>doesn’t use SSL</strong>, the last two lines probably aren’t necessary, and the host value will be <code>imap://</code> instead of <code>imaps://</code>. When that is set up, you can use <code>git imap-send</code> to place the patch series in the Drafts folder of the specified IMAP server:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ cat *.patch | git imap-send</span><br><span class="line">Resolving imap.gmail.com... ok</span><br><span class="line">Connecting to [74.125.142.109]:993... ok</span><br><span class="line">Logging in...</span><br><span class="line">sending 2 messages</span><br><span class="line">100% (2&#x2F;2) done</span><br><span class="line">At this point, you should be able to go to your Drafts folder, change the To field to the mailing list you’re sending the patch to, possibly CC the maintainer or person responsible for that section, and send it off.</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Sending through a <strong>SMTP</strong> server</p>
<ul>
<li><p>Similary, you will need to edit the <code>~/.gitconfig</code> file to add in the end:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[sendemail]</span><br><span class="line">  smtpencryption &#x3D; tls</span><br><span class="line">  smtpserver &#x3D; smtp.gmail.com</span><br><span class="line">  smtpuser &#x3D; user@gmail.com</span><br><span class="line">  smtpserverport &#x3D; 587</span><br></pre></td></tr></table></figure>

<p>After this is done, you can use git send-email to send your patches:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git send-email *.patch</span><br><span class="line">0001-add-limit-to-log-function.patch</span><br><span class="line">0002-increase-log-output-to-30-from-25.patch</span><br><span class="line">Who should the emails appear to be from? [Jessica Smith &lt;jessica@example.com&gt;]</span><br><span class="line">Emails will be sent from: Jessica Smith &lt;jessica@example.com&gt;</span><br><span class="line">Who should the emails be sent to? jessica@example.com</span><br><span class="line">Message-ID to be used as In-Reply-To for the first email? y</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h2 id="Maintaining-a-Project"><a href="#Maintaining-a-Project" class="headerlink" title="Maintaining a Project"></a>Maintaining a Project</h2><p>Basically, your aim is to <strong>accept work in a way that is clearest for other contributors and sustainable</strong> by you over the long run.</p>
<p>Maintaining using patches from email</p>
<ul>
<li>basically, you need to run <code>git apply</code> for a <strong><code>git diff</code> formatted object</strong>, or <code>git am</code> for a <strong><code>patch</code> formatted object</strong>.</li>
</ul>
<h2 id="Using-git-apply"><a href="#Using-git-apply" class="headerlink" title="Using git apply"></a>Using <code>git apply</code></h2><p>If you received the patch from someone who <strong>generated it with <code>git diff</code> or some variation of the Unix diff command</strong> (which is not recommended; see the next section), you can <strong>apply it with the git apply command</strong>. Assuming you saved the patch at <code>/tmp/patch-ruby-client.patch</code>, you can apply the patch like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git apply &#x2F;tmp&#x2F;patch-ruby-client.patch</span><br></pre></td></tr></table></figure>
<p> This will also <strong>handle file adds, deletes, and renames</strong> if they’re <strong>described in the <code>git diff</code></strong> format, which <strong>patch won’t</strong> do. Finally, <code>git apply</code> is an <strong>“apply all or abort all”</strong> model where either everything is applied or nothing is, whereas <code>git am</code> for <code>patch</code> can <strong>partially apply</strong> patchfiles, leaving your working directory in a weird state. <code>git apply</code> is overall much more conservative than patch. </p>
<p>However, you can use <code>git apply --check</code>, for example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git apply --check 0001-see-if-this-helps-the-gem.patch</span><br></pre></td></tr></table></figure>

<p>To <strong>check</strong> if a <code>patch</code> applies cleanly to <strong>your working directory</strong>. If there is no output, then the patch should apply cleanly. </p>
<h2 id="Using-git-am"><a href="#Using-git-am" class="headerlink" title="Using git am"></a>Using <code>git am</code></h2><p>To apply a <code>patch</code> generated by <code>format-patch</code>, you use <code>git am</code> (the command is named am as it is used to “apply a series of patches from a mailbox”).</p>
<ul>
<li><p>if someone <strong>emailed you the patch properly using <code>git send-email</code></strong>, namely the content of the patch being the mail content + subject title, and you <strong>download that into an mbox format</strong>, then you can point <code>git am</code> to that <strong>mbox file</strong>, and it will start applying all the patches it sees.</p>
</li>
<li><p>if someone uploaded a <strong>patch file</strong> generated via <code>git format-patch</code> to a ticketing system or something similar, you can save the file locally and then <strong>pass that file saved on your disk</strong> to <code>git am</code> to apply it</p>
</li>
</ul>
<p>However, it’s possible that the <strong>patch won’t apply cleanly</strong>. Perhaps your main branch has diverged too far from the branch the patch was built from, or the patch depends on another patch you haven’t applied yet. In that case, the <code>git am process</code> <strong>will fail and ask you what you want to do</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git am 0001-see-if-this-helps-the-gem.patch</span><br><span class="line">Applying: See if this helps the gem</span><br><span class="line">error: patch failed: ticgit.gemspec:1</span><br><span class="line">error: ticgit.gemspec: patch does not apply</span><br><span class="line">Patch failed at 0001.</span><br><span class="line">When you have resolved this problem run &quot;git am --resolved&quot;.</span><br><span class="line">If you would prefer to skip this patch, instead run &quot;git am --skip&quot;.</span><br><span class="line">To restore the original branch and stop patching run &quot;git am --abort&quot;.</span><br></pre></td></tr></table></figure>

<p>This command puts conflict <strong>markers in any files it has issues with</strong>, much like a conflicted merge or rebase operation. You solve this issue much the same way — <strong>edit the file to resolve the conflict</strong>, stage the new file, and then run <code>git am --resolved</code> to <strong>continue to the next patch in the series of patches that you haven’t  yet completed</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ (fix the file)</span><br><span class="line">$ git add ticgit.gemspec</span><br><span class="line">$ git am --resolved</span><br><span class="line">Applying: See if this helps the gem</span><br></pre></td></tr></table></figure>

<h2 id="Managing-Using-the-Remote-Branches"><a href="#Managing-Using-the-Remote-Branches" class="headerlink" title="Managing Using the Remote Branches"></a>Managing Using the Remote Branches</h2><p>If your contribution came from a Git user who set up their own repository, pushed a number of changes into it, and then <strong>sent you the URL to the repository and the name of the remote branch the changes are in</strong>, you can <strong>add them as a remote and do merges locally</strong>.</p>
<p>For example, if a developer named Jessica sends you an email saying that she has a great <strong>new feature</strong> in the <strong><code>ruby-client</code> branch</strong> of <strong>her repository</strong>, you can test it by adding the remote and <strong>checking out that branch locall</strong>y:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add jessica git:&#x2F;&#x2F;github.com&#x2F;jessica&#x2F;myproject.git</span><br><span class="line">$ git fetch jessica</span><br><span class="line">$ git checkout -b rubyclient jessica&#x2F;ruby-client</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> You do a <code>fetch</code> here <strong>instead of a direct <code>pull</code></strong> because you might not want to automatically merge her work into any of your branch. You might want to see if her work functions properly before you run <code>merge</code>.</li>
</ul>
</blockquote>
<p>However, if you aren’t working with a person consistently but do something like a one-time pull, you can use the URL of their remote repository to the <code>git pull</code> command. This does a one-time pull and <strong>doesn’t save the URL as a remote reference</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git pull https:&#x2F;&#x2F;github.com&#x2F;onetimeguy&#x2F;project</span><br><span class="line">From https:&#x2F;&#x2F;github.com&#x2F;onetimeguy&#x2F;project</span><br><span class="line"> * branch            HEAD       -&gt; FETCH_HEAD</span><br><span class="line">Merge made by the &#39;recursive&#39; strategy.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Here the command <code>git pull https://github.com/onetimeguy/project</code> <strong>pulls in all the progress to your current branch</strong>. If you just want to <strong>pull a specific branch</strong>, remember to add the option of the <branchname> like this <code>git pull https://github.com/onetimeguy/project &lt;remoteBranchName&gt;</code></branchname></li>
</ul>
</blockquote>
<h2 id="Determining-What-is-Changed"><a href="#Determining-What-is-Changed" class="headerlink" title="Determining What is Changed"></a>Determining What is Changed</h2><p>Now you have a <strong><code>topic</code> branch that contains contributed work</strong>. At this point, you can determine what you’d like to do with it. This section revisits a couple of commands so you can see <strong>exactly what you’ll be introducing if you merge this</strong> into your main branch.</p>
<ol>
<li><p>to see <strong>only commits that are different</strong> between the <code>topic</code> branch and your <code>master</code> branch (for example), you could run </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git log &lt;branch1&gt; --not &lt;branch2&gt;</span><br></pre></td></tr></table></figure>

<p> In this example:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git log topic --not master</span><br><span class="line">commit 5b6235bd297351589efc4d73316f0a68d484f118</span><br><span class="line">Author: Scott Chacon &lt;schacon@gmail.com&gt;</span><br><span class="line">Date:   Fri Oct 24 09:53:59 2008 -0700</span><br><span class="line"></span><br><span class="line">    See if this helps the gem</span><br><span class="line"></span><br><span class="line">commit 7482e0d16d04bea79d0dba8988cc78df655f16a0</span><br><span class="line">Author: Scott Chacon &lt;schacon@gmail.com&gt;</span><br><span class="line">Date:   Mon Oct 22 19:38:36 2008 -0700</span><br><span class="line"></span><br><span class="line">    Update gemspec to hopefully work better</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note</p>
<ul>
<li><input disabled type="checkbox"> To see what <strong>changes each commit introduces</strong>, remember that you can pass the <code>-p</code> option to <code>git log</code> and it will <strong>append the <code>diff</code> introduced to each commit</strong>.</li>
</ul>
</blockquote>
</li>
<li><p>The more useful case might be seeing a full <code>diff</code> of <strong>what would happen if you merge the <code>topic</code> branch</strong>. So you might want to run:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff &lt;branch1&gt;...&lt;branch2&gt;</span><br></pre></td></tr></table></figure>

<p> In this example:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff master...topic</span><br></pre></td></tr></table></figure>
<p> This command shows you only the work your current <code>topic</code> branch has introduced <strong>since its common ancestor</strong> with <code>master</code>.</p>
<p> This triple dot technically is a shorthand command created by Git to achieve the following:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git merge-base contrib master</span><br><span class="line">36c7dba2c95e6bbb78dfa822519ecfec6e1ca649</span><br><span class="line">$ git diff 36c7db</span><br></pre></td></tr></table></figure>

<p> or, more concisely:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff $(git merge-base contrib master)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> You might think there is an easier way by doing <code>git diff master</code>. This might work, but not always. This is because this command gives you a <code>diff</code> by <strong>comparing the last commit of the topic branch you’re on and the last commit on the master branch</strong>. This means that if your <code>master</code> branch <strong>has moved forward since you created the <code>topic</code> branch from it</strong>, then you’ll get seemingly strange results. For example, if you’ve <strong>added a line in a file on the <code>master</code> branch</strong>, <strong>a direct comparison of the snapshots will look like the <code>topic</code> branch is going to remove that line</strong>.</li>
</ul>
</blockquote>
</li>
</ol>
<h2 id="Determining-your-Merging-Workflow"><a href="#Determining-your-Merging-Workflow" class="headerlink" title="Determining your Merging Workflow"></a>Determining your Merging Workflow</h2><p>Basically, you need to decide how to manage all your <code>merge</code> and <code>rebase</code> actions, so that you could easily track changes and make it easier to understand. There are several <strong>example styles that you could use for managing your project merges:</strong></p>
<ol>
<li><a href="#merging-flow-small">Merging Workflow for small projects</a></li>
<li><a href="#merging-flow-large">Merging Workflow for large projects</a></li>
<li><a href="#rebase-and-cherry">Rebasing and Cherry-Picking Workflows</a></li>
</ol>
<p><a name="merging-flow-small"></a></p>
<h2 id="Small-Merging-Workflow"><a href="#Small-Merging-Workflow" class="headerlink" title="Small Merging Workflow"></a>Small Merging Workflow</h2><p>The simplest way is to do <code>git merge</code> all the time to your <code>master</code> branch. However, this might cause unpleasant history line to review. However, this is often manageable for small projects, and typically you will have <strong>a main track with two branches</strong>: <code>master</code> and <code>develop</code>, in which you determine that <strong><code>master</code> is updated only when a very stable release is cut</strong> and <strong>all new code is integrated into the <code>develop</code> branch</strong>.</p>
<p>Then, since you typically first <code>merge</code> into your <code>develop</code> before deciding whether or not it is to be released in the <code>master</code> branch:</p>
<p><img src="/.com//05/20/Git-Summary/merging-workflows-1.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Maintaining-a-Project, Figure 76"><br>And then if you do decide to <code>merge</code> in to the <code>master</code> branch:<br><img src="/.com//05/20/Git-Summary/merging-workflows-2.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Maintaining-a-Project, Figure 77"></p>
<p><a name="merging-flow-large"></a></p>
<h2 id="Large-Merging-Workflow"><a href="#Large-Merging-Workflow" class="headerlink" title="Large Merging Workflow"></a>Large Merging Workflow</h2><p>This workflow will have four <code>branch</code>es on the main track: <code>master</code>,<code>next</code>,<code>pu</code>,and <code>maint</code>.</p>
<ul>
<li><code>master</code> branch will still be the one with the <strong>most stable version of the system</strong></li>
<li><code>next</code> branch will be controlling/merging the <code>topics</code>/<code>features</code> branches that you <strong>got from your colaborators repo</strong> and you tested are <strong>functioning properly</strong>, considering whether to include or not.</li>
<li><code>pu</code> branch means <strong>proposed updates</strong>, these could be branches with work that are interesting but <strong>need more work</strong></li>
<li><code>maint</code> branch usually stores the project <strong>at the state of the last release</strong>, so that it <strong>can be forked off to provide backported patches in case a maintenance release is required</strong>. </li>
</ul>
<p>For example, you might have your <code>topic</code> branches from your colaborators’ repos like this:<br><img src="/.com//05/20/Git-Summary/large-merges-1.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Maintaining-a-Project, Figure 76"><br>And you organizes/maintains your main <code>branch</code>es (<code>maint</code> not shown here) like this:<br><img src="/.com//05/20/Git-Summary/large-merges-2.png" alt="Picture from https://git-scm.com/book/en/v2/Distributed-Git-Maintaining-a-Project, Figure 76"></p>
<p><a name="rebase-and-cherry"></a></p>
<h2 id="Rebasing-and-Cherry-Picking-Workflow"><a href="#Rebasing-and-Cherry-Picking-Workflow" class="headerlink" title="Rebasing and Cherry-Picking Workflow"></a>Rebasing and Cherry-Picking Workflow</h2><p>Other maintainers prefer to <code>rebase</code> or <code>cherry-pick</code> contributed work on top of their master branch, rather than merging it in, to <strong>keep a mostly linear history</strong>. When you have work in a <code>topic</code> branch and have determined that you want to integrate it, you move to that branch and run the <code>rebase</code> command to <strong>rebuild the changes on top of your current <code>master</code></strong> (or <code>develop</code>, and so on) branch. <strong>If that works well</strong>, you can fast-forward your master branch, and you’ll end up with a linear project history.</p>
<p>Or you could do a cherry-pick, which <strong>does not remove the original branch</strong> but <strong>“rebases” on top of the current branch</strong>, and you can <strong>choose which commit/commits you would like to incorporate</strong> (which means you might want to incorporate only several commits in that branch, but not all).</p>
<p>For example, if you are given this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">      A---B---C topic</span><br><span class="line">     &#x2F;</span><br><span class="line">D---E---F---G master</span><br></pre></td></tr></table></figure>

<ul>
<li><p>Then a <code>rebase</code> command:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase master topic</span><br></pre></td></tr></table></figure>

<p>  You get:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">              A&#39;--B&#39;--C&#39; topic</span><br><span class="line">             &#x2F;</span><br><span class="line">D---E---F---G master</span><br></pre></td></tr></table></figure></li>
<li><p>The run <code>cherry-pick &lt;from-commit-id&gt;^..&lt;to-commit-id&gt;</code>:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master -b topic_new</span><br><span class="line">$ git cherry-pick A^..C</span><br></pre></td></tr></table></figure>

<p>  You get:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">      A---B---C topic</span><br><span class="line">     &#x2F;</span><br><span class="line">D---E---F---G master</span><br><span class="line">             \</span><br><span class="line">              A&#39;--B&#39;--C&#39; topic_new</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Rerere-in-Git"><a href="#Rerere-in-Git" class="headerlink" title="Rerere in Git"></a>Rerere in Git</h2><p>Rerere stands for “reuse recorded resolution” — it’s a way of shortcutting manual conflict resolution. When rerere is enabled, Git will keep a set of pre- and post-images from successful merges, and if it notices that there’s a conflict that looks exactly like one you’ve already fixed, it’ll just use the fix from last time, without bothering you with it.</p>
<p>This feature comes in <strong>two parts</strong>: <strong>a configuration setting</strong> and <strong>a command</strong>. The configuration setting is <code>rerere.enabled</code>, and it’s handy enough to put in your <code>global config</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global rerere.enabled true</span><br></pre></td></tr></table></figure>

<p>Now, whenever you <strong>do a <code>merge</code> that resolves conflicts</strong>, the <strong>resolution will be recorded</strong> in the cache in case you need it in the future.</p>
<p>If you need to, you can interact with the rerere cache using the <code>git rerere</code> command. When it’s invoked alone, Git <strong>checks its database of resolutions and tries to find a match with any current merge conflicts</strong> and <strong>resolve</strong> them (although this is <strong>done automatically if <code>rerere.enabled</code> is set to true</strong>).</p>
<h2 id="Generating-a-Build-Number"><a href="#Generating-a-Build-Number" class="headerlink" title="Generating a Build Number"></a>Generating a Build Number</h2><p>If you run <code>git describe</code>, Git generates a string consisting of the <strong>name of the most recent tag</strong> earlier than that commit, followed by the <strong>number of commits</strong> since that tag, followed finally by a <strong>partial SHA-1 value of the commit being described</strong> (prefixed with the letter “g” meaning Git):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git describe</span><br><span class="line">v1.0-3-gca2e64e</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note</p>
<ul>
<li><input disabled type="checkbox"> By default, the <code>git describe</code> command <strong>requires annotated tags</strong> (tags created with the -a or -s flag); if you want to take advantage of <strong>lightweight (non-annotated) tags</strong> as well, add the <code>--tags</code> option to the command. </li>
</ul>
</blockquote>
<h2 id="Preparing-a-Release-Using-a-Zip-Gzip"><a href="#Preparing-a-Release-Using-a-Zip-Gzip" class="headerlink" title="Preparing a Release Using a Zip/Gzip"></a>Preparing a Release Using a Zip/Gzip</h2><p>Now you want to release a build. One of the things you’ll want to do is <strong>create an archive of the latest snapshot of your code</strong> for those poor souls who don’t use Git. The command to do this is <code>git archive</code>:</p>
<ul>
<li><p>To create a <strong>GZip</strong> file with the <strong>name being the build number generated</strong> from the previous section, you do:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git archive master --prefix&#x3D;&#39;projectArchive&#x2F;&#39; | gzip &gt; &#96;git describe master&#96;.tar.gz</span><br><span class="line"></span><br><span class="line">$ ls *.tar.gz</span><br><span class="line">v1.0-3-gca2e64e.tar.gz</span><br></pre></td></tr></table></figure>
<p>  where the <code>--prefix=&#39;projectArchive&#39;</code> means that if you open that Gzip file, you will find a directory called <code>projectArchive</code> in which all your files are saved.</p>
</li>
<li><p>You can also create a <strong>zip</strong> archive in much the same way, but by passing the <code>--format=zip</code> option to <code>git archive</code>:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git archive master --format&#x3D;zip &gt; &#96;git describe master&#96;.zip</span><br></pre></td></tr></table></figure>
<p>  Here you will have <strong>all the files directly in that Zip</strong>, without opening any more directory</p>
</li>
</ul>
<h2 id="Shortlog"><a href="#Shortlog" class="headerlink" title="Shortlog"></a>Shortlog</h2><p>If you use the <code>git shortlog</code> command. It summarizes <strong>all the commits in the range you give it</strong>; for example, the following gives you a summary of all the commits <strong>since your last release, if your last release was named v0.1</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git shortlog --no-merges master --not v0.1</span><br><span class="line">Xiao Yu (4):</span><br><span class="line">      second commit made</span><br><span class="line">      amended: edited AND deleted file removal and untracking</span><br><span class="line">      first commit made now more with the new testing branch</span><br><span class="line">      testing rebase, added a new file independent for the branch master</span><br></pre></td></tr></table></figure>

<h2 id="Git-Commit-Selection-Tools"><a href="#Git-Commit-Selection-Tools" class="headerlink" title="Git Commit Selection Tools"></a>Git Commit Selection Tools</h2><p>Now you’ll explore a number of very powerful things that Git can do that you may not necessarily use on a day-to-day basis but that you <strong>may need at some point</strong>.</p>
<table>
<thead>
<tr>
<th>Revision Selection Type</th>
<th>Command</th>
<th>Outcome/Example</th>
<th>Note</th>
</tr>
</thead>
<tbody><tr>
<td>Showing a <strong>single commit</strong> using Short SHA-1</td>
<td><code>git show &lt;commit-sha-1&gt;</code></td>
<td><code>git show ae1934jf</code></td>
<td>-</td>
</tr>
<tr>
<td>Showing a <strong>single commit</strong> at the top of a branch</td>
<td><code>git show &lt;branchName&gt;</code></td>
<td><code>git show topic1</code> gives to top commit at branch <code>topic1</code></td>
<td>You can use <code>git rev-parse &lt;branchName&gt;</code> to get a SHA-1 code of the top commit from a branch</td>
</tr>
<tr>
<td>Showing a <strong>single commit</strong> using a reflog</td>
<td><code>git show &lt;reflog-data-of-HEAD&gt;</code></td>
<td><code>git show HEAD@{5}</code></td>
<td>The reflog is data that keeps track of your HEAD position, which you can get from running <code>git reflog</code></td>
</tr>
<tr>
<td>Showing a <strong>single commit</strong> using ancestry reference using <code>^</code> (means the parent of something)</td>
<td><code>git show &lt;commit-id&gt;^</code></td>
<td><code>git show HEAD^</code> shows the parent of the HEAD</td>
<td>You can also specify a number for going back multiple times, <code>d921970^2</code> means “the second parent of <code>d921970</code>.”</td>
</tr>
<tr>
<td>Showing <strong>multiple commits</strong> using the difference of two branches</td>
<td><code>git log &lt;branch1&gt;..&lt;branch2&gt;</code> — that means “all commits <strong>on <code>&lt;branch2&gt;</code></strong> that are not reachable from <code>&lt;branch1&gt;</code></td>
<td><code>git log master..topic1</code></td>
<td>The sequence of the <code>&lt;branch&gt;</code> matters in this command.</td>
</tr>
<tr>
<td>Showing <strong>multiple commits</strong> using the difference of two branches</td>
<td><code>git log &lt;branch1&gt;...&lt;branch2&gt;</code> which specifies all the commits that are reachable by either of two references <strong>but not by both of them</strong>/all the <strong>divergent commits</strong></td>
<td><code>git log master...topic1</code></td>
<td>A common switch to use with the log command in this case is <code>--left-right</code>, which shows you <strong>which branch (side) of the range each commit is in</strong>. This helps make the output more useful: <code>$ git log --left-right master...experiment</code></td>
</tr>
</tbody></table>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Whenver you want to <strong>see multiple commits</strong>, <strong>use <code>git log</code></strong> would be better than <code>git show</code>, because you can use <code>git log --oneline</code> to simplify the output while it is not available for <strong><code>git show</code></strong>, which is more for <strong>looking at a specific commit</strong>.</li>
</ul>
</blockquote>
<h2 id="Git-Tools-for-Interactive-Staging"><a href="#Git-Tools-for-Interactive-Staging" class="headerlink" title="Git Tools for Interactive Staging"></a>Git Tools for Interactive Staging</h2><p>These can help you <strong>craft your commits to include only certain combinations</strong> and parts of files. These tools are helpful if you modify a number of files extensively, then <strong>decide that you want those changes to be partitioned into several focused commits</strong> rather than one big messy commit. </p>
<p>Basically, <strong>interactive staging is initiated if you call <code>git add -i</code></strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git add -i</span><br><span class="line">           staged     unstaged path</span><br><span class="line">  1:    unchanged        +0&#x2F;-1 TODO</span><br><span class="line">  2:    unchanged        +1&#x2F;-1 index.html</span><br><span class="line">  3:    unchanged        +5&#x2F;-1 lib&#x2F;simplegit.rb</span><br><span class="line"></span><br><span class="line">*** Commands ***</span><br><span class="line">  1: [s]tatus     2: [u]pdate      3: [r]evert     4: [a]dd untracked</span><br><span class="line">  5: [p]atch      6: [d]iff        7: [q]uit       8: [h]elp</span><br><span class="line">What now&gt;</span><br></pre></td></tr></table></figure>

<p>Here, you will see <strong>changes that are staged</strong>, <strong>changes that are unstaged</strong>, and the <strong>file/path</strong></p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Function</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td><code>1</code> or <code>s</code></td>
<td>Shows the same content as you see above, with the updated status</td>
<td>-</td>
</tr>
<tr>
<td><code>2</code> or <code>u</code></td>
<td>First allows you to <strong>select file(s) of interest</strong>, and then <strong>add them to be staged</strong></td>
<td>When you typed <code>2</code> or <code>u</code>, you will see <code>Update&gt;&gt;</code>, and you can type in <code>1,2</code> to select the first and second file, and press enter so you will see the files with <code>*</code> mark as selected. Then press <code>Enter</code> again to do the changes.</td>
</tr>
<tr>
<td><code>3</code> or <code>r</code></td>
<td>First allows you to <strong>select file(s) of interest</strong>, and then *<em>undo the staging *</em></td>
<td>Similar as above</td>
</tr>
<tr>
<td><code>5</code> or <code>p</code></td>
<td>First allows you to <strong>select file(s) of interest</strong>, and then <strong>goes through each of the changes in that file</strong> and <strong>and let you decide whether if to incorporate the changes</strong></td>
<td>Similar as above, but when you need to select which change to add, you will be prompted with <code>Stage this hunk [y,n,a,d,/,j,J,g,e,?]</code>, with typing <code>?</code> allowing to see what each letter means</td>
</tr>
<tr>
<td><code>6</code> or <code>d</code></td>
<td>First allows you to <strong>select file(s) of interest that are staged</strong>, then you can see the <strong>staged diff</strong></td>
<td>Similar as above</td>
</tr>
</tbody></table>
<h2 id="Git-Tools-for-Stashing"><a href="#Git-Tools-for-Stashing" class="headerlink" title="Git Tools for Stashing"></a>Git Tools for Stashing</h2><p>When things are in a messy state and <strong>you want to switch branches for a bit to work on something else</strong>, but you <strong>don’t want to do a commit of half-done work</strong> just so you can get back to this point later, you can use <code>git stash</code> or <code>git stash push</code></p>
<p>For example, you have some modifications done but need to switch urgently to something else:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line">	modified:   index.html</span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   lib&#x2F;simplegit.rb</span><br></pre></td></tr></table></figure>
<p>Then you do:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git stash push</span><br><span class="line">Saved working directory and index state \</span><br><span class="line">  &quot;WIP on master: 049d078 Create index file&quot;</span><br><span class="line">HEAD is now at 049d078 Create index file</span><br><span class="line">(To restore them type &quot;git stash apply&quot;)</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line"># On branch master</span><br><span class="line">nothing to commit, working directory clean</span><br></pre></td></tr></table></figure>

<p>At this point, you can switch branches and do work elsewhere; <strong>your changes are stored on your stack</strong>. To see which stashes you’ve stored, you can use git stash list:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git stash list</span><br><span class="line">stash@&#123;0&#125;: WIP on master: 049d078 Create index file</span><br><span class="line">stash@&#123;1&#125;: WIP on master: c264051 Revert &quot;Add file_size&quot;</span><br><span class="line">stash@&#123;2&#125;: WIP on master: 21d80a5 Add number to log</span><br></pre></td></tr></table></figure>

<p>Then, when you finished your urgent work, you can reapply by <code>git stash apply stash@{&lt;number&gt;}</code>, which will <strong>reapply changes on the branch you run this command</strong>, much like a <code>rebase</code></p>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash apply stash@&#123;2&#125; --index</span><br></pre></td></tr></table></figure>
<p>The <code>--index</code> is often added because, when changes to your files were reapplied, by default the file you <strong>staged before will not be restaged</strong>, since it only reapplies the changes. To also <strong>re-stage what you have staged</strong>, you must run the <code>git stash apply</code> command with a <code>--index</code> option to tell the command to try to reapply the staged changes.</p>
<blockquote>
<p>Note:</p>
<ul>
<li><input disabled type="checkbox"> Similar to <code>rebase</code> or <code>merge</code>, there could be <strong>conflicts as changes might not re-apply cleanly</strong>, if the files you edited in your stash were edited again. To resolve the conflicts, the same mechanism for <code>merge</code> conflicts will pop up for you to deal with.</li>
<li><input disabled type="checkbox"> After you have applied a stash, remember to <code>drop</code> it (i.e. delete it), because by default <code>git stash apply</code> will <strong>only apply the changes</strong>, and you have to <strong>delete that resolved stash manually</strong> by <code>git stash drop stash@{&lt;number&gt;}</code></li>
<li><input disabled type="checkbox"> By default, <code>git stash</code> will stash <strong>only modified and staged tracked files</strong>. If you specify <code>--include-untracked</code> or <code>-u</code>, you can <strong>stash untracked files that are not ignored</strong>. To even include the ignored files, use <code>--all</code> or <code>-a</code> instead.</li>
</ul>
</blockquote>
<p>You can also use the <strong>interactive stash</strong> by running <code>git stash --patch</code> (not <code>-i</code>. This will prompt you interactively which of the <strong>changes you would like to stash</strong> and which you would like to <strong>keep/commit in your working directory</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ git stash --patch</span><br><span class="line">diff --git a&#x2F;lib&#x2F;simplegit.rb b&#x2F;lib&#x2F;simplegit.rb</span><br><span class="line">index 66d332e..8bb5674 100644</span><br><span class="line">--- a&#x2F;lib&#x2F;simplegit.rb</span><br><span class="line">+++ b&#x2F;lib&#x2F;simplegit.rb</span><br><span class="line">@@ -16,6 +16,10 @@ class SimpleGit</span><br><span class="line">         return &#96;#&#123;git_cmd&#125; 2&gt;&amp;1&#96;.chomp</span><br><span class="line">       end</span><br><span class="line">     end</span><br><span class="line">+</span><br><span class="line">+    def show(treeish &#x3D; &#39;master&#39;)</span><br><span class="line">+      command(&quot;git show #&#123;treeish&#125;&quot;)</span><br><span class="line">+    end</span><br><span class="line"></span><br><span class="line"> end</span><br><span class="line"> test</span><br><span class="line">Stash this hunk [y,n,q,a,d,&#x2F;,e,?]? y</span><br><span class="line"></span><br><span class="line">Saved working directory and index state WIP on master: 1b65b17 added the index file</span><br></pre></td></tr></table></figure>

<p>A last option is to <strong>create a new branch</strong> for recovering your stashed work. This is done by <code>git stash branch &lt;newBranchname&gt;</code>, for you with your selected branch name, <strong>checks out the commit you were on when you stashed your work</strong>, <strong>reapplies your work there</strong>, and then <strong>drops the stash if it applies</strong> successfully:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ git stash branch testchanges</span><br><span class="line">M	index.html</span><br><span class="line">M	lib&#x2F;simplegit.rb</span><br><span class="line">Switched to a new branch &#39;testchanges&#39;</span><br><span class="line">On branch testchanges</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line">	modified:   index.html</span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   lib&#x2F;simplegit.rb</span><br><span class="line"></span><br><span class="line">Dropped refs&#x2F;stash@&#123;0&#125; (29d385a81d163dfd45a452a2ce816487a6b8b014)</span><br></pre></td></tr></table></figure>

<h2 id="Git-Tools-for-Cleanig-Up-Your-Workspace"><a href="#Git-Tools-for-Cleanig-Up-Your-Workspace" class="headerlink" title="Git Tools for Cleanig Up Your Workspace"></a>Git Tools for Cleanig Up Your Workspace</h2><p>You can use <code>git clean</code> for deleting files that are <strong>not tracked</strong>. However, you’ll want to be pretty careful with this command, since, If you change your mind, there is often <strong>no retrieving the content of those files</strong>.</p>
<p>Therefore, often you might want to run <code>git clean --dry-run</code> or <code>git clean -n</code> to see what will happen before you run <code>git clean</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git clean --dry-run</span><br><span class="line">Would remove v1.0-3-gca2e64e.tar.gz</span><br><span class="line">Would remove v1.0-3-gca2e64e.zip</span><br></pre></td></tr></table></figure>
<p>However, these do <strong>not include ignored files</strong>. To include those files for removal, you need to add the option <code>-x</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git clean --dry-run -x</span><br><span class="line">Would remove .gitignore</span><br><span class="line">Would remove unTracked.txt</span><br><span class="line">Would remove v1.0-3-gca2e64e.tar.gz</span><br><span class="line">Would remove v1.0-3-gca2e64e.zip</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note </p>
<ul>
<li><input disabled type="checkbox"> Sometimes you might need to add the flag <code>-f</code> to do a <code>git clean</code>, because it is required if the Git <strong>configuration variable <code>clean.requireForce</code> is not explicitly set to <code>false</code></strong>. Therefore, you will need to force it by <code>-f</code>.</li>
</ul>
</blockquote>
<h2 id="Git-Tools-for-Signing-a-Commit"><a href="#Git-Tools-for-Signing-a-Commit" class="headerlink" title="Git Tools for Signing a Commit"></a>Git Tools for Signing a Commit</h2><p>In more recent versions of Git (v1.7.9 and above), you can now also <strong>sign individual commits</strong>. If you’re interested in signing commits directly instead of just the tags, all you need to do is add a <code>-S</code> to your <code>git commit</code> command.</p>
<p>However, first you need to get your <strong>GPG configured and your personal key installed</strong>.</p>
<p>If you don’t have a key installed, you can generate one with <code>gpg --gen-key</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --gen-key</span><br></pre></td></tr></table></figure>

<p>Then you can check it with:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --list-keys</span><br><span class="line">&#x2F;Users&#x2F;schacon&#x2F;.gnupg&#x2F;pubring.gpg</span><br><span class="line">---------------------------------</span><br><span class="line">pub   2048R&#x2F;0A46826A 2014-06-04</span><br><span class="line">uid                  Scott Chacon (Git signing key) &lt;schacon@gmail.com&gt;</span><br><span class="line">sub   2048R&#x2F;874529A9 2014-06-04</span><br></pre></td></tr></table></figure>

<p>Once you have a private key to sign with, you can configure Git to use it for signing things by setting the <code>user.signingkey</code> config setting.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.signingkey 0A46826A</span><br><span class="line">Now Git will use your key by default to sign tags and commits if you want.</span><br></pre></td></tr></table></figure>

<p>Now, you can sign your commit properly with <code>-S</code>, which will pop up a window for putting in the <strong>password you created when you create the key</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -a -S -m &#39;Signed commit&#39;</span><br><span class="line"></span><br><span class="line">You need a passphrase to unlock the secret key for</span><br><span class="line">user: &quot;Scott Chacon (Git signing key) &lt;schacon@gmail.com&gt;&quot;</span><br><span class="line">2048-bit RSA key, ID 0A46826A, created 2014-06-04</span><br><span class="line"></span><br><span class="line">[master 5c3386c] Signed commit</span><br><span class="line"> 4 files changed, 4 insertions(+), 24 deletions(-)</span><br><span class="line"> rewrite Rakefile (100%)</span><br><span class="line"> create mode 100644 lib&#x2F;git.rb</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/20/Git-Summary/" data-id="ckafdqrd30001rkt67oi12842" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-MarkDown-Summary" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/19/MarkDown-Summary/" class="article-date">
  <time datetime="2020-05-19T12:46:25.000Z" itemprop="datePublished">2020-05-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/19/MarkDown-Summary/">MarkDown Manual</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Line-Breaks-and-Indentation"><a href="#Line-Breaks-and-Indentation" class="headerlink" title="Line Breaks and Indentation"></a>Line Breaks and Indentation</h3><p>The content is basically the same as that of the Jupyter notebook</p>
<p>There will be a space between the previous line</p>
<p>This will be no space if I add two or more spaces at the end of this line<br>see, no space between a new line</p>
<p>This is is how to do block quotes</p>
<blockquote>
<p>A: quote 1<br>You could also have paragraphs in a block quote if you add the symbol &gt; in front</p>
<p>Here is a new line</p>
</blockquote>
<h3 id="Links-and-Images"><a href="#Links-and-Images" class="headerlink" title="Links and Images"></a>Links and Images</h3><p>This is how you add and image (the label will show if the image is not properly loaded): </p>




<p>This is how you create a link:<br><a href="http://jasonyux.github.io" target="_blank" rel="noopener">My Blog</a></p>
<h3 id="Code-Snippets"><a href="#Code-Snippets" class="headerlink" title="Code Snippets"></a>Code Snippets</h3><h5 id="From-now-on-it-is-only-supported-in-Github-Flavored-Markdown"><a href="#From-now-on-it-is-only-supported-in-Github-Flavored-Markdown" class="headerlink" title="From now on it is only supported in Github Flavored Markdown"></a>From now on it is only supported in Github Flavored Markdown</h5><p>This is how you create a code snippet:<br><code>main()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Strike-Through-text"><a href="#Strike-Through-text" class="headerlink" title="Strike-Through text"></a>Strike-Through text</h3><p><del>this</del></p>
<p><a href="https://github.com/jlord/sheetsee.js/issues/26" target="_blank" rel="noopener">https://github.com/jlord/sheetsee.js/issues/26</a></p>
<h3 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h3><p>A standard table:</p>
<table>
<thead>
<tr>
<th>First Header</th>
<th>Second Header</th>
</tr>
</thead>
<tbody><tr>
<td>Content cell 1</td>
<td>Content cell 2</td>
</tr>
<tr>
<td>Content column 1</td>
<td>Content column 2</td>
</tr>
</tbody></table>
<p>A table with different alignments: </p>
<table>
<thead>
<tr>
<th align="left">Left-aligned</th>
<th align="center">Center-aligned</th>
<th align="right">Right-aligned</th>
</tr>
</thead>
<tbody><tr>
<td align="left">git status</td>
<td align="center">git status</td>
<td align="right">git status</td>
</tr>
<tr>
<td align="left">git diff</td>
<td align="center">git diff</td>
<td align="right">git diff</td>
</tr>
</tbody></table>
<h3 id="Task-Lists"><a href="#Task-Lists" class="headerlink" title="Task Lists"></a>Task Lists</h3><ul>
<li><input disabled="" type="checkbox"> @mentions, #refs, <a href="">links</a>, <strong>formatting</strong>, and <del>tags</del> supported</li>
<li><input checked="" disabled="" type="checkbox"> list syntax required (any unordered or ordered list supported)</li>
<li><input checked="" disabled="" type="checkbox"> this is a complete item</li>
<li><input disabled="" type="checkbox"> this is an incomplete item</li>
</ul>
<p><a name="myAnchor1"></a></p>
<h3 id="Internal-Links-Anchors"><a href="#Internal-Links-Anchors" class="headerlink" title="Internal Links/ Anchors"></a>Internal Links/ Anchors</h3><p><a href="#myAnchor1">Link back to myAncho1</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/19/MarkDown-Summary/" data-id="ckafdqrcz0000rkt618uzf4d9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/06/15/Go-Manual/">Go Manual</a>
          </li>
        
          <li>
            <a href="/2020/06/09/Spring-Framework-Guide/">Spring Framework Guide</a>
          </li>
        
          <li>
            <a href="/2020/06/09/SpringBoot-Manual/">Spring Boot Manual</a>
          </li>
        
          <li>
            <a href="/2020/06/02/Redis-Manual/">Redis Manual</a>
          </li>
        
          <li>
            <a href="/2020/05/26/MySQL-Manual/">MySQL Manual</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Xiao Yu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>